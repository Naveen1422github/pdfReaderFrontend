var af=Object.defineProperty;var Nc=o=>{throw TypeError(o)};var lf=(o,s,c)=>s in o?af(o,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):o[s]=c;var At=(o,s,c)=>lf(o,typeof s!="symbol"?s+"":s,c),Fa=(o,s,c)=>s.has(o)||Nc("Cannot "+c);var d=(o,s,c)=>(Fa(o,s,"read from private field"),c?c.call(o):s.get(o)),ve=(o,s,c)=>s.has(o)?Nc("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(o):s.set(o,c),Ee=(o,s,c,a)=>(Fa(o,s,"write to private field"),a?a.call(o,c):s.set(o,c),c),ce=(o,s,c)=>(Fa(o,s,"access private method"),c);var Si=(o,s,c,a)=>({set _(u){Ee(o,s,u,c)},get _(){return d(o,s,a)}});function _mergeNamespaces(o,s){for(var c=0;c<s.length;c++){const a=s[c];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in o)){const P=Object.getOwnPropertyDescriptor(a,u);P&&Object.defineProperty(o,u,P.get?P:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const P of u)if(P.type==="childList")for(const O of P.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&a(O)}).observe(document,{childList:!0,subtree:!0});function c(u){const P={};return u.integrity&&(P.integrity=u.integrity),u.referrerPolicy&&(P.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?P.credentials="include":u.crossOrigin==="anonymous"?P.credentials="omit":P.credentials="same-origin",P}function a(u){if(u.ep)return;u.ep=!0;const P=c(u);fetch(u.href,P)}})();function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var s=o.default;if(typeof s=="function"){var c=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};c.prototype=s.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(o).forEach(function(a){var u=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(c,a,u.get?u:{enumerable:!0,get:function(){return o[a]}})}),c}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var o=Symbol.for("react.element"),s=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),N=Symbol.iterator;function F(B){return B===null||typeof B!="object"?null:(B=N&&B[N]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function v(B,T,f){this.props=B,this.context=T,this.refs=M,this.updater=f||b}v.prototype.isReactComponent={},v.prototype.setState=function(B,T){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,T,"setState")},v.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function x(){}x.prototype=v.prototype;function L(B,T,f){this.props=B,this.context=T,this.refs=M,this.updater=f||b}var U=L.prototype=new x;U.constructor=L,E(U,v.prototype),U.isPureReactComponent=!0;var I=Array.isArray,y=Object.prototype.hasOwnProperty,R={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function A(B,T,f){var p,D={},W=null,q=null;if(T!=null)for(p in T.ref!==void 0&&(q=T.ref),T.key!==void 0&&(W=""+T.key),T)y.call(T,p)&&!_.hasOwnProperty(p)&&(D[p]=T[p]);var X=arguments.length-2;if(X===1)D.children=f;else if(1<X){for(var se=Array(X),pe=0;pe<X;pe++)se[pe]=arguments[pe+2];D.children=se}if(B&&B.defaultProps)for(p in X=B.defaultProps,X)D[p]===void 0&&(D[p]=X[p]);return{$$typeof:o,type:B,key:W,ref:q,props:D,_owner:R.current}}function C(B,T){return{$$typeof:o,type:B.type,key:T,ref:B.ref,props:B.props,_owner:B._owner}}function Y(B){return typeof B=="object"&&B!==null&&B.$$typeof===o}function m(B){var T={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(f){return T[f]})}var k=/\/+/g;function H(B,T){return typeof B=="object"&&B!==null&&B.key!=null?m(""+B.key):T.toString(36)}function te(B,T,f,p,D){var W=typeof B;(W==="undefined"||W==="boolean")&&(B=null);var q=!1;if(B===null)q=!0;else switch(W){case"string":case"number":q=!0;break;case"object":switch(B.$$typeof){case o:case s:q=!0}}if(q)return q=B,D=D(q),B=p===""?"."+H(q,0):p,I(D)?(f="",B!=null&&(f=B.replace(k,"$&/")+"/"),te(D,T,f,"",function(pe){return pe})):D!=null&&(Y(D)&&(D=C(D,f+(!D.key||q&&q.key===D.key?"":(""+D.key).replace(k,"$&/")+"/")+B)),T.push(D)),1;if(q=0,p=p===""?".":p+":",I(B))for(var X=0;X<B.length;X++){W=B[X];var se=p+H(W,X);q+=te(W,T,f,se,D)}else if(se=F(B),typeof se=="function")for(B=se.call(B),X=0;!(W=B.next()).done;)W=W.value,se=p+H(W,X++),q+=te(W,T,f,se,D);else if(W==="object")throw T=String(B),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return q}function ne(B,T,f){if(B==null)return B;var p=[],D=0;return te(B,p,"","",function(W){return T.call(f,W,D++)}),p}function oe(B){if(B._status===-1){var T=B._result;T=T(),T.then(function(f){(B._status===0||B._status===-1)&&(B._status=1,B._result=f)},function(f){(B._status===0||B._status===-1)&&(B._status=2,B._result=f)}),B._status===-1&&(B._status=0,B._result=T)}if(B._status===1)return B._result.default;throw B._result}var ee={current:null},re={transition:null},z={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:re,ReactCurrentOwner:R};function K(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:ne,forEach:function(B,T,f){ne(B,function(){T.apply(this,arguments)},f)},count:function(B){var T=0;return ne(B,function(){T++}),T},toArray:function(B){return ne(B,function(T){return T})||[]},only:function(B){if(!Y(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},react_production_min.Component=v,react_production_min.Fragment=c,react_production_min.Profiler=u,react_production_min.PureComponent=L,react_production_min.StrictMode=a,react_production_min.Suspense=S,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,react_production_min.act=K,react_production_min.cloneElement=function(B,T,f){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var p=E({},B.props),D=B.key,W=B.ref,q=B._owner;if(T!=null){if(T.ref!==void 0&&(W=T.ref,q=R.current),T.key!==void 0&&(D=""+T.key),B.type&&B.type.defaultProps)var X=B.type.defaultProps;for(se in T)y.call(T,se)&&!_.hasOwnProperty(se)&&(p[se]=T[se]===void 0&&X!==void 0?X[se]:T[se])}var se=arguments.length-2;if(se===1)p.children=f;else if(1<se){X=Array(se);for(var pe=0;pe<se;pe++)X[pe]=arguments[pe+2];p.children=X}return{$$typeof:o,type:B.type,key:D,ref:W,props:p,_owner:q}},react_production_min.createContext=function(B){return B={$$typeof:O,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:P,_context:B},B.Consumer=B},react_production_min.createElement=A,react_production_min.createFactory=function(B){var T=A.bind(null,B);return T.type=B,T},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(B){return{$$typeof:G,render:B}},react_production_min.isValidElement=Y,react_production_min.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:oe}},react_production_min.memo=function(B,T){return{$$typeof:w,type:B,compare:T===void 0?null:T}},react_production_min.startTransition=function(B){var T=re.transition;re.transition={};try{B()}finally{re.transition=T}},react_production_min.unstable_act=K,react_production_min.useCallback=function(B,T){return ee.current.useCallback(B,T)},react_production_min.useContext=function(B){return ee.current.useContext(B)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(B){return ee.current.useDeferredValue(B)},react_production_min.useEffect=function(B,T){return ee.current.useEffect(B,T)},react_production_min.useId=function(){return ee.current.useId()},react_production_min.useImperativeHandle=function(B,T,f){return ee.current.useImperativeHandle(B,T,f)},react_production_min.useInsertionEffect=function(B,T){return ee.current.useInsertionEffect(B,T)},react_production_min.useLayoutEffect=function(B,T){return ee.current.useLayoutEffect(B,T)},react_production_min.useMemo=function(B,T){return ee.current.useMemo(B,T)},react_production_min.useReducer=function(B,T,f){return ee.current.useReducer(B,T,f)},react_production_min.useRef=function(B){return ee.current.useRef(B)},react_production_min.useState=function(B){return ee.current.useState(B)},react_production_min.useSyncExternalStore=function(B,T,f){return ee.current.useSyncExternalStore(B,T,f)},react_production_min.useTransition=function(){return ee.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var o=requireReact(),s=Symbol.for("react.element"),c=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P={key:!0,ref:!0,__self:!0,__source:!0};function O(G,S,w){var g,N={},F=null,b=null;w!==void 0&&(F=""+w),S.key!==void 0&&(F=""+S.key),S.ref!==void 0&&(b=S.ref);for(g in S)a.call(S,g)&&!P.hasOwnProperty(g)&&(N[g]=S[g]);if(G&&G.defaultProps)for(g in S=G.defaultProps,S)N[g]===void 0&&(N[g]=S[g]);return{$$typeof:s,type:G,key:F,ref:b,props:N,_owner:u.current}}return reactJsxRuntime_production_min.Fragment=c,reactJsxRuntime_production_min.jsx=O,reactJsxRuntime_production_min.jsxs=O,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(o){function s(re,z){var K=re.length;re.push(z);e:for(;0<K;){var B=K-1>>>1,T=re[B];if(0<u(T,z))re[B]=z,re[K]=T,K=B;else break e}}function c(re){return re.length===0?null:re[0]}function a(re){if(re.length===0)return null;var z=re[0],K=re.pop();if(K!==z){re[0]=K;e:for(var B=0,T=re.length,f=T>>>1;B<f;){var p=2*(B+1)-1,D=re[p],W=p+1,q=re[W];if(0>u(D,K))W<T&&0>u(q,D)?(re[B]=q,re[W]=K,B=W):(re[B]=D,re[p]=K,B=p);else if(W<T&&0>u(q,K))re[B]=q,re[W]=K,B=W;else break e}}return z}function u(re,z){var K=re.sortIndex-z.sortIndex;return K!==0?K:re.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var P=performance;o.unstable_now=function(){return P.now()}}else{var O=Date,G=O.now();o.unstable_now=function(){return O.now()-G}}var S=[],w=[],g=1,N=null,F=3,b=!1,E=!1,M=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(re){for(var z=c(w);z!==null;){if(z.callback===null)a(w);else if(z.startTime<=re)a(w),z.sortIndex=z.expirationTime,s(S,z);else break;z=c(w)}}function I(re){if(M=!1,U(re),!E)if(c(S)!==null)E=!0,oe(y);else{var z=c(w);z!==null&&ee(I,z.startTime-re)}}function y(re,z){E=!1,M&&(M=!1,x(A),A=-1),b=!0;var K=F;try{for(U(z),N=c(S);N!==null&&(!(N.expirationTime>z)||re&&!m());){var B=N.callback;if(typeof B=="function"){N.callback=null,F=N.priorityLevel;var T=B(N.expirationTime<=z);z=o.unstable_now(),typeof T=="function"?N.callback=T:N===c(S)&&a(S),U(z)}else a(S);N=c(S)}if(N!==null)var f=!0;else{var p=c(w);p!==null&&ee(I,p.startTime-z),f=!1}return f}finally{N=null,F=K,b=!1}}var R=!1,_=null,A=-1,C=5,Y=-1;function m(){return!(o.unstable_now()-Y<C)}function k(){if(_!==null){var re=o.unstable_now();Y=re;var z=!0;try{z=_(!0,re)}finally{z?H():(R=!1,_=null)}}else R=!1}var H;if(typeof L=="function")H=function(){L(k)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ne=te.port2;te.port1.onmessage=k,H=function(){ne.postMessage(null)}}else H=function(){v(k,0)};function oe(re){_=re,R||(R=!0,H())}function ee(re,z){A=v(function(){re(o.unstable_now())},z)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(re){re.callback=null},o.unstable_continueExecution=function(){E||b||(E=!0,oe(y))},o.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<re?Math.floor(1e3/re):5},o.unstable_getCurrentPriorityLevel=function(){return F},o.unstable_getFirstCallbackNode=function(){return c(S)},o.unstable_next=function(re){switch(F){case 1:case 2:case 3:var z=3;break;default:z=F}var K=F;F=z;try{return re()}finally{F=K}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(re,z){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var K=F;F=re;try{return z()}finally{F=K}},o.unstable_scheduleCallback=function(re,z,K){var B=o.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?B+K:B):K=B,re){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=K+T,re={id:g++,callback:z,priorityLevel:re,startTime:K,expirationTime:T,sortIndex:-1},K>B?(re.sortIndex=K,s(w,re),c(S)===null&&re===c(w)&&(M?(x(A),A=-1):M=!0,ee(I,K-B))):(re.sortIndex=T,s(S,re),E||b||(E=!0,oe(y))),re},o.unstable_shouldYield=m,o.unstable_wrapCallback=function(re){var z=F;return function(){var K=F;F=z;try{return re.apply(this,arguments)}finally{F=K}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var o=requireReact(),s=requireScheduler();function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function P(e,t){O(e,t),O(e+"Capture",t)}function O(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var G=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},N={};function F(e){return S.call(N,e)?!0:S.call(g,e)?!1:w.test(e)?N[e]=!0:(g[e]=!0,!1)}function b(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,t,n,i){if(t===null||typeof t>"u"||b(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function M(e,t,n,i,l,h,j){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=j}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new M(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new M(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new M(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new M(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new M(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new M(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new M(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new M(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new M(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,L);v[t]=new M(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,L);v[t]=new M(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,L);v[t]=new M(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new M(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new M(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,t,n,i){var l=v.hasOwnProperty(t)?v[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E(t,n,l,i)&&(n=null),i||l===null?F(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,i=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var I=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),R=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),m=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),re=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,B;function T(e){if(B===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return`
`+B+e}var f=!1;function p(e,t){if(!e||f)return"";f=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(Fe){var i=Fe}Reflect.construct(e,[],t)}else{try{t.call()}catch(Fe){i=Fe}e.call(t.prototype)}else{try{throw Error()}catch(Fe){i=Fe}e()}}catch(Fe){if(Fe&&i&&typeof Fe.stack=="string"){for(var l=Fe.stack.split(`
`),h=i.stack.split(`
`),j=l.length-1,ie=h.length-1;1<=j&&0<=ie&&l[j]!==h[ie];)ie--;for(;1<=j&&0<=ie;j--,ie--)if(l[j]!==h[ie]){if(j!==1||ie!==1)do if(j--,ie--,0>ie||l[j]!==h[ie]){var fe=`
`+l[j].replace(" at new "," at ");return e.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",e.displayName)),fe}while(1<=j&&0<=ie);break}}}finally{f=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?T(e):""}function D(e){switch(e.tag){case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return e=p(e.type,!1),e;case 11:return e=p(e.type.render,!1),e;case 1:return e=p(e.type,!0),e;default:return""}}function W(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case R:return"Portal";case C:return"Profiler";case A:return"StrictMode";case H:return"Suspense";case te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case m:return(e.displayName||"Context")+".Consumer";case Y:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return t=e.displayName||null,t!==null?t:W(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return W(e(t))}catch{}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function X(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function se(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pe(e){var t=se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,h=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(j){i=""+j,h.call(this,j)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(j){i=""+j},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _e(e){e._valueTracker||(e._valueTracker=pe(e))}function Ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=se(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function ke(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Te(e,t){var n=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Le(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=X(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ue(e,t){t=t.checked,t!=null&&U(e,"checked",t,!1)}function de(e,t){ue(e,t);var n=X(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Q(e,t.type,n):t.hasOwnProperty("defaultValue")&&Q(e,t.type,X(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Q(e,t,n){(t!=="number"||ke(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var le=Array.isArray;function me(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ce(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(c(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ie(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(c(92));if(le(n)){if(1<n.length)throw Error(c(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function De(e,t){var n=X(t.value),i=X(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function he(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Be(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var at,rt=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(at=at||document.createElement("div"),at.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=at.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ht(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ze=["Webkit","ms","Moz","O"];Object.keys(qe).forEach(function(e){Ze.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qe[t]=qe[e]})});function ft(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qe.hasOwnProperty(e)&&qe[e]?(""+t).trim():t+"px"}function vt(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,l=ft(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,l):e[n]=l}}var Oe=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(Oe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(c(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(t.style!=null&&typeof t.style!="object")throw Error(c(62))}}function xe(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xe=null;function yt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pt=null,Z=null,Pe=null;function Ue(e){if(e=ai(e)){if(typeof pt!="function")throw Error(c(280));var t=e.stateNode;t&&(t=Ji(t),pt(e.stateNode,e.type,t))}}function Je(e){Z?Pe?Pe.push(e):Pe=[e]:Z=e}function et(){if(Z){var e=Z,t=Pe;if(Pe=Z=null,Ue(e),t)for(e=0;e<t.length;e++)Ue(t[e])}}function Ge(e,t){return e(t)}function J(){}var V=!1;function ae(e,t,n){if(V)return e(t,n);V=!0;try{return Ge(e,t,n)}finally{V=!1,(Z!==null||Pe!==null)&&(J(),et())}}function Se(e,t){var n=e.stateNode;if(n===null)return null;var i=Ji(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var be=!1;if(G)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){be=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch{be=!1}function Ne(e,t,n,i,l,h,j,ie,fe){var Fe=Array.prototype.slice.call(arguments,3);try{t.apply(n,Fe)}catch($e){this.onError($e)}}var Ke=!1,Ye=null,He=!1,ct=null,Qe={onError:function(e){Ke=!0,Ye=e}};function tt(e,t,n,i,l,h,j,ie,fe){Ke=!1,Ye=null,Ne.apply(Qe,arguments)}function lt(e,t,n,i,l,h,j,ie,fe){if(tt.apply(this,arguments),Ke){if(Ke){var Fe=Ye;Ke=!1,Ye=null}else throw Error(c(198));He||(He=!0,ct=Fe)}}function dt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Et(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _t(e){if(dt(e)!==e)throw Error(c(188))}function It(e){var t=e.alternate;if(!t){if(t=dt(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var h=l.alternate;if(h===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===h.child){for(h=l.child;h;){if(h===n)return _t(l),e;if(h===i)return _t(l),t;h=h.sibling}throw Error(c(188))}if(n.return!==i.return)n=l,i=h;else{for(var j=!1,ie=l.child;ie;){if(ie===n){j=!0,n=l,i=h;break}if(ie===i){j=!0,i=l,n=h;break}ie=ie.sibling}if(!j){for(ie=h.child;ie;){if(ie===n){j=!0,n=h,i=l;break}if(ie===i){j=!0,i=h,n=l;break}ie=ie.sibling}if(!j)throw Error(c(189))}}if(n.alternate!==i)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function Ct(e){return e=It(e),e!==null?an(e):null}function an(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=an(e);if(t!==null)return t;e=e.sibling}return null}var mn=s.unstable_scheduleCallback,gn=s.unstable_cancelCallback,ki=s.unstable_shouldYield,vd=s.unstable_requestPaint,Dt=s.unstable_now,xd=s.unstable_getCurrentPriorityLevel,Ks=s.unstable_ImmediatePriority,hl=s.unstable_UserBlockingPriority,Fi=s.unstable_NormalPriority,Ed=s.unstable_LowPriority,fl=s.unstable_IdlePriority,Li=null,bn=null;function _d(e){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Li,e,void 0,(e.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:bd,Sd=Math.log,wd=Math.LN2;function bd(e){return e>>>=0,e===0?32:31-(Sd(e)/wd|0)|0}var Mi=64,Di=4194304;function Hr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oi(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,l=e.suspendedLanes,h=e.pingedLanes,j=n&268435455;if(j!==0){var ie=j&~l;ie!==0?i=Hr(ie):(h&=j,h!==0&&(i=Hr(h)))}else j=n&~l,j!==0?i=Hr(j):h!==0&&(i=Hr(h));if(i===0)return 0;if(t!==0&&t!==i&&!(t&l)&&(l=i&-i,h=t&-t,l>=h||l===16&&(h&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-yn(t),l=1<<n,i|=e[n],t&=~l;return i}function Ad(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cd(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,h=e.pendingLanes;0<h;){var j=31-yn(h),ie=1<<j,fe=l[j];fe===-1?(!(ie&n)||ie&i)&&(l[j]=Ad(ie,t)):fe<=t&&(e.expiredLanes|=ie),h&=~ie}}function Js(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pl(){var e=Mi;return Mi<<=1,!(Mi&4194240)&&(Mi=64),e}function Qs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yn(t),e[t]=n}function Rd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-yn(n),h=1<<l;t[l]=0,i[l]=-1,e[l]=-1,n&=~h}}function Zs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-yn(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}var bt=0;function ml(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gl,eo,yl,vl,xl,to=!1,Ii=[],jn=null,Bn=null,Un=null,Vr=new Map,Gr=new Map,zn=[],Pd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function El(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(t.pointerId)}}function qr(e,t,n,i,l,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:h,targetContainers:[l]},t!==null&&(t=ai(t),t!==null&&eo(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Td(e,t,n,i,l){switch(t){case"focusin":return jn=qr(jn,e,t,n,i,l),!0;case"dragenter":return Bn=qr(Bn,e,t,n,i,l),!0;case"mouseover":return Un=qr(Un,e,t,n,i,l),!0;case"pointerover":var h=l.pointerId;return Vr.set(h,qr(Vr.get(h)||null,e,t,n,i,l)),!0;case"gotpointercapture":return h=l.pointerId,Gr.set(h,qr(Gr.get(h)||null,e,t,n,i,l)),!0}return!1}function _l(e){var t=rr(e.target);if(t!==null){var n=dt(t);if(n!==null){if(t=n.tag,t===13){if(t=Et(n),t!==null){e.blockedOn=t,xl(e.priority,function(){yl(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ro(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Xe=i,n.target.dispatchEvent(i),Xe=null}else return t=ai(n),t!==null&&eo(t),e.blockedOn=n,!1;t.shift()}return!0}function Sl(e,t,n){Ni(e)&&n.delete(t)}function kd(){to=!1,jn!==null&&Ni(jn)&&(jn=null),Bn!==null&&Ni(Bn)&&(Bn=null),Un!==null&&Ni(Un)&&(Un=null),Vr.forEach(Sl),Gr.forEach(Sl)}function Xr(e,t){e.blockedOn===t&&(e.blockedOn=null,to||(to=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,kd)))}function Yr(e){function t(l){return Xr(l,e)}if(0<Ii.length){Xr(Ii[0],e);for(var n=1;n<Ii.length;n++){var i=Ii[n];i.blockedOn===e&&(i.blockedOn=null)}}for(jn!==null&&Xr(jn,e),Bn!==null&&Xr(Bn,e),Un!==null&&Xr(Un,e),Vr.forEach(t),Gr.forEach(t),n=0;n<zn.length;n++)i=zn[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)_l(n),n.blockedOn===null&&zn.shift()}var gr=I.ReactCurrentBatchConfig,ji=!0;function Fd(e,t,n,i){var l=bt,h=gr.transition;gr.transition=null;try{bt=1,no(e,t,n,i)}finally{bt=l,gr.transition=h}}function Ld(e,t,n,i){var l=bt,h=gr.transition;gr.transition=null;try{bt=4,no(e,t,n,i)}finally{bt=l,gr.transition=h}}function no(e,t,n,i){if(ji){var l=ro(e,t,n,i);if(l===null)_o(e,t,i,Bi,n),El(e,i);else if(Td(l,e,t,n,i))i.stopPropagation();else if(El(e,i),t&4&&-1<Pd.indexOf(e)){for(;l!==null;){var h=ai(l);if(h!==null&&gl(h),h=ro(e,t,n,i),h===null&&_o(e,t,i,Bi,n),h===l)break;l=h}l!==null&&i.stopPropagation()}else _o(e,t,i,null,n)}}var Bi=null;function ro(e,t,n,i){if(Bi=null,e=yt(i),e=rr(e),e!==null)if(t=dt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Et(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bi=e,null}function wl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xd()){case Ks:return 1;case hl:return 4;case Fi:case Ed:return 16;case fl:return 536870912;default:return 16}default:return 16}}var $n=null,io=null,Ui=null;function bl(){if(Ui)return Ui;var e,t=io,n=t.length,i,l="value"in $n?$n.value:$n.textContent,h=l.length;for(e=0;e<n&&t[e]===l[e];e++);var j=n-e;for(i=1;i<=j&&t[n-i]===l[h-i];i++);return Ui=l.slice(e,1<i?1-i:void 0)}function zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function Al(){return!1}function nn(e){function t(n,i,l,h,j){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=h,this.target=j,this.currentTarget=null;for(var ie in e)e.hasOwnProperty(ie)&&(n=e[ie],this[ie]=n?n(h):h[ie]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?$i:Al,this.isPropagationStopped=Al,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),t}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=nn(yr),Kr=K({},yr,{view:0,detail:0}),Md=nn(Kr),oo,ao,Jr,Hi=K({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(oo=e.screenX-Jr.screenX,ao=e.screenY-Jr.screenY):ao=oo=0,Jr=e),oo)},movementY:function(e){return"movementY"in e?e.movementY:ao}}),Cl=nn(Hi),Dd=K({},Hi,{dataTransfer:0}),Od=nn(Dd),Id=K({},Kr,{relatedTarget:0}),lo=nn(Id),Nd=K({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),jd=nn(Nd),Bd=K({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ud=nn(Bd),zd=K({},yr,{data:0}),Rl=nn(zd),$d={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wd[e])?!!t[e]:!1}function uo(){return Vd}var Gd=K({},Kr,{key:function(e){if(e.key){var t=$d[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(e){return e.type==="keypress"?zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qd=nn(Gd),Xd=K({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pl=nn(Xd),Yd=K({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),Kd=nn(Yd),Jd=K({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qd=nn(Jd),Zd=K({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eh=nn(Zd),th=[9,13,27,32],co=G&&"CompositionEvent"in window,Qr=null;G&&"documentMode"in document&&(Qr=document.documentMode);var nh=G&&"TextEvent"in window&&!Qr,Tl=G&&(!co||Qr&&8<Qr&&11>=Qr),kl=" ",Fl=!1;function Ll(e,t){switch(e){case"keyup":return th.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ml(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vr=!1;function rh(e,t){switch(e){case"compositionend":return Ml(t);case"keypress":return t.which!==32?null:(Fl=!0,kl);case"textInput":return e=t.data,e===kl&&Fl?null:e;default:return null}}function ih(e,t){if(vr)return e==="compositionend"||!co&&Ll(e,t)?(e=bl(),Ui=io=$n=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tl&&t.locale!=="ko"?null:t.data;default:return null}}var sh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sh[e.type]:t==="textarea"}function Ol(e,t,n,i){Je(i),t=Xi(t,"onChange"),0<t.length&&(n=new so("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Zr=null,ei=null;function oh(e){Zl(e,0)}function Wi(e){var t=wr(e);if(Ae(t))return e}function ah(e,t){if(e==="change")return t}var Il=!1;if(G){var ho;if(G){var fo="oninput"in document;if(!fo){var Nl=document.createElement("div");Nl.setAttribute("oninput","return;"),fo=typeof Nl.oninput=="function"}ho=fo}else ho=!1;Il=ho&&(!document.documentMode||9<document.documentMode)}function jl(){Zr&&(Zr.detachEvent("onpropertychange",Bl),ei=Zr=null)}function Bl(e){if(e.propertyName==="value"&&Wi(ei)){var t=[];Ol(t,ei,e,yt(e)),ae(oh,t)}}function lh(e,t,n){e==="focusin"?(jl(),Zr=t,ei=n,Zr.attachEvent("onpropertychange",Bl)):e==="focusout"&&jl()}function uh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wi(ei)}function ch(e,t){if(e==="click")return Wi(t)}function dh(e,t){if(e==="input"||e==="change")return Wi(t)}function hh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vn=typeof Object.is=="function"?Object.is:hh;function ti(e,t){if(vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!S.call(t,l)||!vn(e[l],t[l]))return!1}return!0}function Ul(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zl(e,t){var n=Ul(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ul(n)}}function $l(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$l(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hl(){for(var e=window,t=ke();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ke(e.document)}return t}function po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fh(e){var t=Hl(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$l(n.ownerDocument.documentElement,n)){if(i!==null&&po(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,h=Math.min(i.start,l);i=i.end===void 0?h:Math.min(i.end,l),!e.extend&&h>i&&(l=i,i=h,h=l),l=zl(n,h);var j=zl(n,i);l&&j&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==j.node||e.focusOffset!==j.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),h>i?(e.addRange(t),e.extend(j.node,j.offset)):(t.setEnd(j.node,j.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ph=G&&"documentMode"in document&&11>=document.documentMode,xr=null,mo=null,ni=null,go=!1;function Wl(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;go||xr==null||xr!==ke(i)||(i=xr,"selectionStart"in i&&po(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ni&&ti(ni,i)||(ni=i,i=Xi(mo,"onSelect"),0<i.length&&(t=new so("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=xr)))}function Vi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionend:Vi("Transition","TransitionEnd")},yo={},Vl={};G&&(Vl=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function Gi(e){if(yo[e])return yo[e];if(!Er[e])return e;var t=Er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vl)return yo[e]=t[n];return e}var Gl=Gi("animationend"),ql=Gi("animationiteration"),Xl=Gi("animationstart"),Yl=Gi("transitionend"),Kl=new Map,Jl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(e,t){Kl.set(e,t),P(t,[e])}for(var vo=0;vo<Jl.length;vo++){var xo=Jl[vo],mh=xo.toLowerCase(),gh=xo[0].toUpperCase()+xo.slice(1);Hn(mh,"on"+gh)}Hn(Gl,"onAnimationEnd"),Hn(ql,"onAnimationIteration"),Hn(Xl,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Yl,"onTransitionEnd"),O("onMouseEnter",["mouseout","mouseover"]),O("onMouseLeave",["mouseout","mouseover"]),O("onPointerEnter",["pointerout","pointerover"]),O("onPointerLeave",["pointerout","pointerover"]),P("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),P("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),P("onBeforeInput",["compositionend","keypress","textInput","paste"]),P("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),P("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),P("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ri));function Ql(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,lt(i,t,void 0,e),e.currentTarget=null}function Zl(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var h=void 0;if(t)for(var j=i.length-1;0<=j;j--){var ie=i[j],fe=ie.instance,Fe=ie.currentTarget;if(ie=ie.listener,fe!==h&&l.isPropagationStopped())break e;Ql(l,ie,Fe),h=fe}else for(j=0;j<i.length;j++){if(ie=i[j],fe=ie.instance,Fe=ie.currentTarget,ie=ie.listener,fe!==h&&l.isPropagationStopped())break e;Ql(l,ie,Fe),h=fe}}}if(He)throw e=ct,He=!1,ct=null,e}function Pt(e,t){var n=t[Ro];n===void 0&&(n=t[Ro]=new Set);var i=e+"__bubble";n.has(i)||(eu(t,e,2,!1),n.add(i))}function Eo(e,t,n){var i=0;t&&(i|=4),eu(n,e,i,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function ii(e){if(!e[qi]){e[qi]=!0,a.forEach(function(n){n!=="selectionchange"&&(yh.has(n)||Eo(n,!1,e),Eo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,Eo("selectionchange",!1,t))}}function eu(e,t,n,i){switch(wl(t)){case 1:var l=Fd;break;case 4:l=Ld;break;default:l=no}n=l.bind(null,t,n,e),l=void 0,!be||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function _o(e,t,n,i,l){var h=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var j=i.tag;if(j===3||j===4){var ie=i.stateNode.containerInfo;if(ie===l||ie.nodeType===8&&ie.parentNode===l)break;if(j===4)for(j=i.return;j!==null;){var fe=j.tag;if((fe===3||fe===4)&&(fe=j.stateNode.containerInfo,fe===l||fe.nodeType===8&&fe.parentNode===l))return;j=j.return}for(;ie!==null;){if(j=rr(ie),j===null)return;if(fe=j.tag,fe===5||fe===6){i=h=j;continue e}ie=ie.parentNode}}i=i.return}ae(function(){var Fe=h,$e=yt(n),We=[];e:{var ze=Kl.get(e);if(ze!==void 0){var nt=so,st=e;switch(e){case"keypress":if(zi(n)===0)break e;case"keydown":case"keyup":nt=qd;break;case"focusin":st="focus",nt=lo;break;case"focusout":st="blur",nt=lo;break;case"beforeblur":case"afterblur":nt=lo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Kd;break;case Gl:case ql:case Xl:nt=jd;break;case Yl:nt=Qd;break;case"scroll":nt=Md;break;case"wheel":nt=eh;break;case"copy":case"cut":case"paste":nt=Ud;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Pl}var ot=(t&4)!==0,Ot=!ot&&e==="scroll",we=ot?ze!==null?ze+"Capture":null:ze;ot=[];for(var ge=Fe,Re;ge!==null;){Re=ge;var Ve=Re.stateNode;if(Re.tag===5&&Ve!==null&&(Re=Ve,we!==null&&(Ve=Se(ge,we),Ve!=null&&ot.push(si(ge,Ve,Re)))),Ot)break;ge=ge.return}0<ot.length&&(ze=new nt(ze,st,null,n,$e),We.push({event:ze,listeners:ot}))}}if(!(t&7)){e:{if(ze=e==="mouseover"||e==="pointerover",nt=e==="mouseout"||e==="pointerout",ze&&n!==Xe&&(st=n.relatedTarget||n.fromElement)&&(rr(st)||st[Tn]))break e;if((nt||ze)&&(ze=$e.window===$e?$e:(ze=$e.ownerDocument)?ze.defaultView||ze.parentWindow:window,nt?(st=n.relatedTarget||n.toElement,nt=Fe,st=st?rr(st):null,st!==null&&(Ot=dt(st),st!==Ot||st.tag!==5&&st.tag!==6)&&(st=null)):(nt=null,st=Fe),nt!==st)){if(ot=Cl,Ve="onMouseLeave",we="onMouseEnter",ge="mouse",(e==="pointerout"||e==="pointerover")&&(ot=Pl,Ve="onPointerLeave",we="onPointerEnter",ge="pointer"),Ot=nt==null?ze:wr(nt),Re=st==null?ze:wr(st),ze=new ot(Ve,ge+"leave",nt,n,$e),ze.target=Ot,ze.relatedTarget=Re,Ve=null,rr($e)===Fe&&(ot=new ot(we,ge+"enter",st,n,$e),ot.target=Re,ot.relatedTarget=Ot,Ve=ot),Ot=Ve,nt&&st)t:{for(ot=nt,we=st,ge=0,Re=ot;Re;Re=_r(Re))ge++;for(Re=0,Ve=we;Ve;Ve=_r(Ve))Re++;for(;0<ge-Re;)ot=_r(ot),ge--;for(;0<Re-ge;)we=_r(we),Re--;for(;ge--;){if(ot===we||we!==null&&ot===we.alternate)break t;ot=_r(ot),we=_r(we)}ot=null}else ot=null;nt!==null&&tu(We,ze,nt,ot,!1),st!==null&&Ot!==null&&tu(We,Ot,st,ot,!0)}}e:{if(ze=Fe?wr(Fe):window,nt=ze.nodeName&&ze.nodeName.toLowerCase(),nt==="select"||nt==="input"&&ze.type==="file")var ut=ah;else if(Dl(ze))if(Il)ut=dh;else{ut=uh;var mt=lh}else(nt=ze.nodeName)&&nt.toLowerCase()==="input"&&(ze.type==="checkbox"||ze.type==="radio")&&(ut=ch);if(ut&&(ut=ut(e,Fe))){Ol(We,ut,n,$e);break e}mt&&mt(e,ze,Fe),e==="focusout"&&(mt=ze._wrapperState)&&mt.controlled&&ze.type==="number"&&Q(ze,"number",ze.value)}switch(mt=Fe?wr(Fe):window,e){case"focusin":(Dl(mt)||mt.contentEditable==="true")&&(xr=mt,mo=Fe,ni=null);break;case"focusout":ni=mo=xr=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,Wl(We,n,$e);break;case"selectionchange":if(ph)break;case"keydown":case"keyup":Wl(We,n,$e)}var gt;if(co)e:{switch(e){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else vr?Ll(e,n)&&(xt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(xt="onCompositionStart");xt&&(Tl&&n.locale!=="ko"&&(vr||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&vr&&(gt=bl()):($n=$e,io="value"in $n?$n.value:$n.textContent,vr=!0)),mt=Xi(Fe,xt),0<mt.length&&(xt=new Rl(xt,e,null,n,$e),We.push({event:xt,listeners:mt}),gt?xt.data=gt:(gt=Ml(n),gt!==null&&(xt.data=gt)))),(gt=nh?rh(e,n):ih(e,n))&&(Fe=Xi(Fe,"onBeforeInput"),0<Fe.length&&($e=new Rl("onBeforeInput","beforeinput",null,n,$e),We.push({event:$e,listeners:Fe}),$e.data=gt))}Zl(We,t)})}function si(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xi(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,h=l.stateNode;l.tag===5&&h!==null&&(l=h,h=Se(e,n),h!=null&&i.unshift(si(e,h,l)),h=Se(e,t),h!=null&&i.push(si(e,h,l))),e=e.return}return i}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tu(e,t,n,i,l){for(var h=t._reactName,j=[];n!==null&&n!==i;){var ie=n,fe=ie.alternate,Fe=ie.stateNode;if(fe!==null&&fe===i)break;ie.tag===5&&Fe!==null&&(ie=Fe,l?(fe=Se(n,h),fe!=null&&j.unshift(si(n,fe,ie))):l||(fe=Se(n,h),fe!=null&&j.push(si(n,fe,ie)))),n=n.return}j.length!==0&&e.push({event:t,listeners:j})}var vh=/\r\n?/g,xh=/\u0000|\uFFFD/g;function nu(e){return(typeof e=="string"?e:""+e).replace(vh,`
`).replace(xh,"")}function Yi(e,t,n){if(t=nu(t),nu(e)!==t&&n)throw Error(c(425))}function Ki(){}var So=null,wo=null;function bo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ao=typeof setTimeout=="function"?setTimeout:void 0,Eh=typeof clearTimeout=="function"?clearTimeout:void 0,ru=typeof Promise=="function"?Promise:void 0,_h=typeof queueMicrotask=="function"?queueMicrotask:typeof ru<"u"?function(e){return ru.resolve(null).then(e).catch(Sh)}:Ao;function Sh(e){setTimeout(function(){throw e})}function Co(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(i===0){e.removeChild(l),Yr(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=l}while(n);Yr(t)}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function iu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),An="__reactFiber$"+Sr,oi="__reactProps$"+Sr,Tn="__reactContainer$"+Sr,Ro="__reactEvents$"+Sr,wh="__reactListeners$"+Sr,bh="__reactHandles$"+Sr;function rr(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[An]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=iu(e);e!==null;){if(n=e[An])return n;e=iu(e)}return t}e=n,n=e.parentNode}return null}function ai(e){return e=e[An]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function Ji(e){return e[oi]||null}var Po=[],br=-1;function Vn(e){return{current:e}}function Tt(e){0>br||(e.current=Po[br],Po[br]=null,br--)}function Rt(e,t){br++,Po[br]=e.current,e.current=t}var Gn={},Vt=Vn(Gn),Jt=Vn(!1),ir=Gn;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Gn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},h;for(h in n)l[h]=t[h];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Qt(e){return e=e.childContextTypes,e!=null}function Qi(){Tt(Jt),Tt(Vt)}function su(e,t,n){if(Vt.current!==Gn)throw Error(c(168));Rt(Vt,t),Rt(Jt,n)}function ou(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(c(108,q(e)||"Unknown",l));return K({},n,i)}function Zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,ir=Vt.current,Rt(Vt,e),Rt(Jt,Jt.current),!0}function au(e,t,n){var i=e.stateNode;if(!i)throw Error(c(169));n?(e=ou(e,t,ir),i.__reactInternalMemoizedMergedChildContext=e,Tt(Jt),Tt(Vt),Rt(Vt,e)):Tt(Jt),Rt(Jt,n)}var kn=null,es=!1,To=!1;function lu(e){kn===null?kn=[e]:kn.push(e)}function Ah(e){es=!0,lu(e)}function qn(){if(!To&&kn!==null){To=!0;var e=0,t=bt;try{var n=kn;for(bt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}kn=null,es=!1}catch(l){throw kn!==null&&(kn=kn.slice(e+1)),mn(Ks,qn),l}finally{bt=t,To=!1}}return null}var Cr=[],Rr=0,ts=null,ns=0,ln=[],un=0,sr=null,Fn=1,Ln="";function or(e,t){Cr[Rr++]=ns,Cr[Rr++]=ts,ts=e,ns=t}function uu(e,t,n){ln[un++]=Fn,ln[un++]=Ln,ln[un++]=sr,sr=e;var i=Fn;e=Ln;var l=32-yn(i)-1;i&=~(1<<l),n+=1;var h=32-yn(t)+l;if(30<h){var j=l-l%5;h=(i&(1<<j)-1).toString(32),i>>=j,l-=j,Fn=1<<32-yn(t)+l|n<<l|i,Ln=h+e}else Fn=1<<h|n<<l|i,Ln=e}function ko(e){e.return!==null&&(or(e,1),uu(e,1,0))}function Fo(e){for(;e===ts;)ts=Cr[--Rr],Cr[Rr]=null,ns=Cr[--Rr],Cr[Rr]=null;for(;e===sr;)sr=ln[--un],ln[un]=null,Ln=ln[--un],ln[un]=null,Fn=ln[--un],ln[un]=null}var rn=null,sn=null,kt=!1,xn=null;function cu(e,t){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function du(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rn=e,sn=Wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rn=e,sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sr!==null?{id:Fn,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rn=e,sn=null,!0):!1;default:return!1}}function Lo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mo(e){if(kt){var t=sn;if(t){var n=t;if(!du(e,t)){if(Lo(e))throw Error(c(418));t=Wn(n.nextSibling);var i=rn;t&&du(e,t)?cu(i,n):(e.flags=e.flags&-4097|2,kt=!1,rn=e)}}else{if(Lo(e))throw Error(c(418));e.flags=e.flags&-4097|2,kt=!1,rn=e}}}function hu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rn=e}function rs(e){if(e!==rn)return!1;if(!kt)return hu(e),kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bo(e.type,e.memoizedProps)),t&&(t=sn)){if(Lo(e))throw fu(),Error(c(418));for(;t;)cu(e,t),t=Wn(t.nextSibling)}if(hu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){sn=Wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}sn=null}}else sn=rn?Wn(e.stateNode.nextSibling):null;return!0}function fu(){for(var e=sn;e;)e=Wn(e.nextSibling)}function Pr(){sn=rn=null,kt=!1}function Do(e){xn===null?xn=[e]:xn.push(e)}var Ch=I.ReactCurrentBatchConfig;function li(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(c(309));var i=n.stateNode}if(!i)throw Error(c(147,e));var l=i,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(j){var ie=l.refs;j===null?delete ie[h]:ie[h]=j},t._stringRef=h,t)}if(typeof e!="string")throw Error(c(284));if(!n._owner)throw Error(c(290,e))}return e}function is(e,t){throw e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pu(e){var t=e._init;return t(e._payload)}function mu(e){function t(we,ge){if(e){var Re=we.deletions;Re===null?(we.deletions=[ge],we.flags|=16):Re.push(ge)}}function n(we,ge){if(!e)return null;for(;ge!==null;)t(we,ge),ge=ge.sibling;return null}function i(we,ge){for(we=new Map;ge!==null;)ge.key!==null?we.set(ge.key,ge):we.set(ge.index,ge),ge=ge.sibling;return we}function l(we,ge){return we=tr(we,ge),we.index=0,we.sibling=null,we}function h(we,ge,Re){return we.index=Re,e?(Re=we.alternate,Re!==null?(Re=Re.index,Re<ge?(we.flags|=2,ge):Re):(we.flags|=2,ge)):(we.flags|=1048576,ge)}function j(we){return e&&we.alternate===null&&(we.flags|=2),we}function ie(we,ge,Re,Ve){return ge===null||ge.tag!==6?(ge=Aa(Re,we.mode,Ve),ge.return=we,ge):(ge=l(ge,Re),ge.return=we,ge)}function fe(we,ge,Re,Ve){var ut=Re.type;return ut===_?$e(we,ge,Re.props.children,Ve,Re.key):ge!==null&&(ge.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===oe&&pu(ut)===ge.type)?(Ve=l(ge,Re.props),Ve.ref=li(we,ge,Re),Ve.return=we,Ve):(Ve=Ps(Re.type,Re.key,Re.props,null,we.mode,Ve),Ve.ref=li(we,ge,Re),Ve.return=we,Ve)}function Fe(we,ge,Re,Ve){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Re.containerInfo||ge.stateNode.implementation!==Re.implementation?(ge=Ca(Re,we.mode,Ve),ge.return=we,ge):(ge=l(ge,Re.children||[]),ge.return=we,ge)}function $e(we,ge,Re,Ve,ut){return ge===null||ge.tag!==7?(ge=pr(Re,we.mode,Ve,ut),ge.return=we,ge):(ge=l(ge,Re),ge.return=we,ge)}function We(we,ge,Re){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=Aa(""+ge,we.mode,Re),ge.return=we,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:return Re=Ps(ge.type,ge.key,ge.props,null,we.mode,Re),Re.ref=li(we,null,ge),Re.return=we,Re;case R:return ge=Ca(ge,we.mode,Re),ge.return=we,ge;case oe:var Ve=ge._init;return We(we,Ve(ge._payload),Re)}if(le(ge)||z(ge))return ge=pr(ge,we.mode,Re,null),ge.return=we,ge;is(we,ge)}return null}function ze(we,ge,Re,Ve){var ut=ge!==null?ge.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return ut!==null?null:ie(we,ge,""+Re,Ve);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case y:return Re.key===ut?fe(we,ge,Re,Ve):null;case R:return Re.key===ut?Fe(we,ge,Re,Ve):null;case oe:return ut=Re._init,ze(we,ge,ut(Re._payload),Ve)}if(le(Re)||z(Re))return ut!==null?null:$e(we,ge,Re,Ve,null);is(we,Re)}return null}function nt(we,ge,Re,Ve,ut){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return we=we.get(Re)||null,ie(ge,we,""+Ve,ut);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case y:return we=we.get(Ve.key===null?Re:Ve.key)||null,fe(ge,we,Ve,ut);case R:return we=we.get(Ve.key===null?Re:Ve.key)||null,Fe(ge,we,Ve,ut);case oe:var mt=Ve._init;return nt(we,ge,Re,mt(Ve._payload),ut)}if(le(Ve)||z(Ve))return we=we.get(Re)||null,$e(ge,we,Ve,ut,null);is(ge,Ve)}return null}function st(we,ge,Re,Ve){for(var ut=null,mt=null,gt=ge,xt=ge=0,$t=null;gt!==null&&xt<Re.length;xt++){gt.index>xt?($t=gt,gt=null):$t=gt.sibling;var wt=ze(we,gt,Re[xt],Ve);if(wt===null){gt===null&&(gt=$t);break}e&&gt&&wt.alternate===null&&t(we,gt),ge=h(wt,ge,xt),mt===null?ut=wt:mt.sibling=wt,mt=wt,gt=$t}if(xt===Re.length)return n(we,gt),kt&&or(we,xt),ut;if(gt===null){for(;xt<Re.length;xt++)gt=We(we,Re[xt],Ve),gt!==null&&(ge=h(gt,ge,xt),mt===null?ut=gt:mt.sibling=gt,mt=gt);return kt&&or(we,xt),ut}for(gt=i(we,gt);xt<Re.length;xt++)$t=nt(gt,we,xt,Re[xt],Ve),$t!==null&&(e&&$t.alternate!==null&&gt.delete($t.key===null?xt:$t.key),ge=h($t,ge,xt),mt===null?ut=$t:mt.sibling=$t,mt=$t);return e&&gt.forEach(function(nr){return t(we,nr)}),kt&&or(we,xt),ut}function ot(we,ge,Re,Ve){var ut=z(Re);if(typeof ut!="function")throw Error(c(150));if(Re=ut.call(Re),Re==null)throw Error(c(151));for(var mt=ut=null,gt=ge,xt=ge=0,$t=null,wt=Re.next();gt!==null&&!wt.done;xt++,wt=Re.next()){gt.index>xt?($t=gt,gt=null):$t=gt.sibling;var nr=ze(we,gt,wt.value,Ve);if(nr===null){gt===null&&(gt=$t);break}e&&gt&&nr.alternate===null&&t(we,gt),ge=h(nr,ge,xt),mt===null?ut=nr:mt.sibling=nr,mt=nr,gt=$t}if(wt.done)return n(we,gt),kt&&or(we,xt),ut;if(gt===null){for(;!wt.done;xt++,wt=Re.next())wt=We(we,wt.value,Ve),wt!==null&&(ge=h(wt,ge,xt),mt===null?ut=wt:mt.sibling=wt,mt=wt);return kt&&or(we,xt),ut}for(gt=i(we,gt);!wt.done;xt++,wt=Re.next())wt=nt(gt,we,xt,wt.value,Ve),wt!==null&&(e&&wt.alternate!==null&&gt.delete(wt.key===null?xt:wt.key),ge=h(wt,ge,xt),mt===null?ut=wt:mt.sibling=wt,mt=wt);return e&&gt.forEach(function(of){return t(we,of)}),kt&&or(we,xt),ut}function Ot(we,ge,Re,Ve){if(typeof Re=="object"&&Re!==null&&Re.type===_&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case y:e:{for(var ut=Re.key,mt=ge;mt!==null;){if(mt.key===ut){if(ut=Re.type,ut===_){if(mt.tag===7){n(we,mt.sibling),ge=l(mt,Re.props.children),ge.return=we,we=ge;break e}}else if(mt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===oe&&pu(ut)===mt.type){n(we,mt.sibling),ge=l(mt,Re.props),ge.ref=li(we,mt,Re),ge.return=we,we=ge;break e}n(we,mt);break}else t(we,mt);mt=mt.sibling}Re.type===_?(ge=pr(Re.props.children,we.mode,Ve,Re.key),ge.return=we,we=ge):(Ve=Ps(Re.type,Re.key,Re.props,null,we.mode,Ve),Ve.ref=li(we,ge,Re),Ve.return=we,we=Ve)}return j(we);case R:e:{for(mt=Re.key;ge!==null;){if(ge.key===mt)if(ge.tag===4&&ge.stateNode.containerInfo===Re.containerInfo&&ge.stateNode.implementation===Re.implementation){n(we,ge.sibling),ge=l(ge,Re.children||[]),ge.return=we,we=ge;break e}else{n(we,ge);break}else t(we,ge);ge=ge.sibling}ge=Ca(Re,we.mode,Ve),ge.return=we,we=ge}return j(we);case oe:return mt=Re._init,Ot(we,ge,mt(Re._payload),Ve)}if(le(Re))return st(we,ge,Re,Ve);if(z(Re))return ot(we,ge,Re,Ve);is(we,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,ge!==null&&ge.tag===6?(n(we,ge.sibling),ge=l(ge,Re),ge.return=we,we=ge):(n(we,ge),ge=Aa(Re,we.mode,Ve),ge.return=we,we=ge),j(we)):n(we,ge)}return Ot}var Tr=mu(!0),gu=mu(!1),ss=Vn(null),os=null,kr=null,Oo=null;function Io(){Oo=kr=os=null}function No(e){var t=ss.current;Tt(ss),e._currentValue=t}function jo(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Fr(e,t){os=e,Oo=kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zt=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(Oo!==e)if(e={context:e,memoizedValue:t,next:null},kr===null){if(os===null)throw Error(c(308));kr=e,os.dependencies={lanes:0,firstContext:e}}else kr=kr.next=e;return t}var ar=null;function Bo(e){ar===null?ar=[e]:ar.push(e)}function yu(e,t,n,i){var l=t.interleaved;return l===null?(n.next=n,Bo(t)):(n.next=l.next,l.next=n),t.interleaved=n,Mn(e,i)}function Mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xn=!1;function Uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,St&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,Mn(e,n)}return l=i.interleaved,l===null?(t.next=t,Bo(i)):(t.next=l.next,l.next=t),i.interleaved=t,Mn(e,n)}function as(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Zs(e,n)}}function xu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var j={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};h===null?l=h=j:h=h.next=j,n=n.next}while(n!==null);h===null?l=h=t:h=h.next=t}else l=h=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:h,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ls(e,t,n,i){var l=e.updateQueue;Xn=!1;var h=l.firstBaseUpdate,j=l.lastBaseUpdate,ie=l.shared.pending;if(ie!==null){l.shared.pending=null;var fe=ie,Fe=fe.next;fe.next=null,j===null?h=Fe:j.next=Fe,j=fe;var $e=e.alternate;$e!==null&&($e=$e.updateQueue,ie=$e.lastBaseUpdate,ie!==j&&(ie===null?$e.firstBaseUpdate=Fe:ie.next=Fe,$e.lastBaseUpdate=fe))}if(h!==null){var We=l.baseState;j=0,$e=Fe=fe=null,ie=h;do{var ze=ie.lane,nt=ie.eventTime;if((i&ze)===ze){$e!==null&&($e=$e.next={eventTime:nt,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var st=e,ot=ie;switch(ze=t,nt=n,ot.tag){case 1:if(st=ot.payload,typeof st=="function"){We=st.call(nt,We,ze);break e}We=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ot.payload,ze=typeof st=="function"?st.call(nt,We,ze):st,ze==null)break e;We=K({},We,ze);break e;case 2:Xn=!0}}ie.callback!==null&&ie.lane!==0&&(e.flags|=64,ze=l.effects,ze===null?l.effects=[ie]:ze.push(ie))}else nt={eventTime:nt,lane:ze,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},$e===null?(Fe=$e=nt,fe=We):$e=$e.next=nt,j|=ze;if(ie=ie.next,ie===null){if(ie=l.shared.pending,ie===null)break;ze=ie,ie=ze.next,ze.next=null,l.lastBaseUpdate=ze,l.shared.pending=null}}while(!0);if($e===null&&(fe=We),l.baseState=fe,l.firstBaseUpdate=Fe,l.lastBaseUpdate=$e,t=l.shared.interleaved,t!==null){l=t;do j|=l.lane,l=l.next;while(l!==t)}else h===null&&(l.shared.lanes=0);cr|=j,e.lanes=j,e.memoizedState=We}}function Eu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=n,typeof l!="function")throw Error(c(191,l));l.call(i)}}}var ui={},Cn=Vn(ui),ci=Vn(ui),di=Vn(ui);function lr(e){if(e===ui)throw Error(c(174));return e}function zo(e,t){switch(Rt(di,t),Rt(ci,e),Rt(Cn,ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=je(t,e)}Tt(Cn),Rt(Cn,t)}function Lr(){Tt(Cn),Tt(ci),Tt(di)}function _u(e){lr(di.current);var t=lr(Cn.current),n=je(t,e.type);t!==n&&(Rt(ci,e),Rt(Cn,n))}function $o(e){ci.current===e&&(Tt(Cn),Tt(ci))}var Ft=Vn(0);function us(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ho=[];function Wo(){for(var e=0;e<Ho.length;e++)Ho[e]._workInProgressVersionPrimary=null;Ho.length=0}var cs=I.ReactCurrentDispatcher,Vo=I.ReactCurrentBatchConfig,ur=0,Lt=null,jt=null,Ut=null,ds=!1,hi=!1,fi=0,Rh=0;function Gt(){throw Error(c(321))}function Go(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vn(e[n],t[n]))return!1;return!0}function qo(e,t,n,i,l,h){if(ur=h,Lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cs.current=e===null||e.memoizedState===null?Fh:Lh,e=n(i,l),hi){h=0;do{if(hi=!1,fi=0,25<=h)throw Error(c(301));h+=1,Ut=jt=null,t.updateQueue=null,cs.current=Mh,e=n(i,l)}while(hi)}if(cs.current=ps,t=jt!==null&&jt.next!==null,ur=0,Ut=jt=Lt=null,ds=!1,t)throw Error(c(300));return e}function Xo(){var e=fi!==0;return fi=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Lt.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function dn(){if(jt===null){var e=Lt.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=Ut===null?Lt.memoizedState:Ut.next;if(t!==null)Ut=t,jt=e;else{if(e===null)throw Error(c(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Ut===null?Lt.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function pi(e,t){return typeof t=="function"?t(e):t}function Yo(e){var t=dn(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var i=jt,l=i.baseQueue,h=n.pending;if(h!==null){if(l!==null){var j=l.next;l.next=h.next,h.next=j}i.baseQueue=l=h,n.pending=null}if(l!==null){h=l.next,i=i.baseState;var ie=j=null,fe=null,Fe=h;do{var $e=Fe.lane;if((ur&$e)===$e)fe!==null&&(fe=fe.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),i=Fe.hasEagerState?Fe.eagerState:e(i,Fe.action);else{var We={lane:$e,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};fe===null?(ie=fe=We,j=i):fe=fe.next=We,Lt.lanes|=$e,cr|=$e}Fe=Fe.next}while(Fe!==null&&Fe!==h);fe===null?j=i:fe.next=ie,vn(i,t.memoizedState)||(Zt=!0),t.memoizedState=i,t.baseState=j,t.baseQueue=fe,n.lastRenderedState=i}if(e=n.interleaved,e!==null){l=e;do h=l.lane,Lt.lanes|=h,cr|=h,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ko(e){var t=dn(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,h=t.memoizedState;if(l!==null){n.pending=null;var j=l=l.next;do h=e(h,j.action),j=j.next;while(j!==l);vn(h,t.memoizedState)||(Zt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,i]}function Su(){}function wu(e,t){var n=Lt,i=dn(),l=t(),h=!vn(i.memoizedState,l);if(h&&(i.memoizedState=l,Zt=!0),i=i.queue,Jo(Cu.bind(null,n,i,e),[e]),i.getSnapshot!==t||h||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,mi(9,Au.bind(null,n,i,l,t),void 0,null),zt===null)throw Error(c(349));ur&30||bu(n,t,l)}return l}function bu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Lt.updateQueue,t===null?(t={lastEffect:null,stores:null},Lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Au(e,t,n,i){t.value=n,t.getSnapshot=i,Ru(t)&&Pu(e)}function Cu(e,t,n){return n(function(){Ru(t)&&Pu(e)})}function Ru(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vn(e,n)}catch{return!0}}function Pu(e){var t=Mn(e,1);t!==null&&wn(t,e,1,-1)}function Tu(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:e},t.queue=e,e=e.dispatch=kh.bind(null,Lt,e),[t.memoizedState,e]}function mi(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Lt.updateQueue,t===null?(t={lastEffect:null,stores:null},Lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function ku(){return dn().memoizedState}function hs(e,t,n,i){var l=Rn();Lt.flags|=e,l.memoizedState=mi(1|t,n,void 0,i===void 0?null:i)}function fs(e,t,n,i){var l=dn();i=i===void 0?null:i;var h=void 0;if(jt!==null){var j=jt.memoizedState;if(h=j.destroy,i!==null&&Go(i,j.deps)){l.memoizedState=mi(t,n,h,i);return}}Lt.flags|=e,l.memoizedState=mi(1|t,n,h,i)}function Fu(e,t){return hs(8390656,8,e,t)}function Jo(e,t){return fs(2048,8,e,t)}function Lu(e,t){return fs(4,2,e,t)}function Mu(e,t){return fs(4,4,e,t)}function Du(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ou(e,t,n){return n=n!=null?n.concat([e]):null,fs(4,4,Du.bind(null,t,e),n)}function Qo(){}function Iu(e,t){var n=dn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Go(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Nu(e,t){var n=dn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Go(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function ju(e,t,n){return ur&21?(vn(n,t)||(n=pl(),Lt.lanes|=n,cr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zt=!0),e.memoizedState=n)}function Ph(e,t){var n=bt;bt=n!==0&&4>n?n:4,e(!0);var i=Vo.transition;Vo.transition={};try{e(!1),t()}finally{bt=n,Vo.transition=i}}function Bu(){return dn().memoizedState}function Th(e,t,n){var i=Zn(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Uu(e))zu(t,n);else if(n=yu(e,t,n,i),n!==null){var l=Kt();wn(n,e,i,l),$u(n,t,i)}}function kh(e,t,n){var i=Zn(e),l={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))zu(t,l);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var j=t.lastRenderedState,ie=h(j,n);if(l.hasEagerState=!0,l.eagerState=ie,vn(ie,j)){var fe=t.interleaved;fe===null?(l.next=l,Bo(t)):(l.next=fe.next,fe.next=l),t.interleaved=l;return}}catch{}finally{}n=yu(e,t,l,i),n!==null&&(l=Kt(),wn(n,e,i,l),$u(n,t,i))}}function Uu(e){var t=e.alternate;return e===Lt||t!==null&&t===Lt}function zu(e,t){hi=ds=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $u(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Zs(e,n)}}var ps={readContext:cn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},Fh={readContext:cn,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:Fu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hs(4194308,4,Du.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hs(4194308,4,e,t)},useInsertionEffect:function(e,t){return hs(4,2,e,t)},useMemo:function(e,t){var n=Rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Rn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Th.bind(null,Lt,e),[i.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:Tu,useDebugValue:Qo,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=Tu(!1),t=e[0];return e=Ph.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Lt,l=Rn();if(kt){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),zt===null)throw Error(c(349));ur&30||bu(i,t,n)}l.memoizedState=n;var h={value:n,getSnapshot:t};return l.queue=h,Fu(Cu.bind(null,i,h,e),[e]),i.flags|=2048,mi(9,Au.bind(null,i,h,n,t),void 0,null),n},useId:function(){var e=Rn(),t=zt.identifierPrefix;if(kt){var n=Ln,i=Fn;n=(i&~(1<<32-yn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=fi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lh={readContext:cn,useCallback:Iu,useContext:cn,useEffect:Jo,useImperativeHandle:Ou,useInsertionEffect:Lu,useLayoutEffect:Mu,useMemo:Nu,useReducer:Yo,useRef:ku,useState:function(){return Yo(pi)},useDebugValue:Qo,useDeferredValue:function(e){var t=dn();return ju(t,jt.memoizedState,e)},useTransition:function(){var e=Yo(pi)[0],t=dn().memoizedState;return[e,t]},useMutableSource:Su,useSyncExternalStore:wu,useId:Bu,unstable_isNewReconciler:!1},Mh={readContext:cn,useCallback:Iu,useContext:cn,useEffect:Jo,useImperativeHandle:Ou,useInsertionEffect:Lu,useLayoutEffect:Mu,useMemo:Nu,useReducer:Ko,useRef:ku,useState:function(){return Ko(pi)},useDebugValue:Qo,useDeferredValue:function(e){var t=dn();return jt===null?t.memoizedState=e:ju(t,jt.memoizedState,e)},useTransition:function(){var e=Ko(pi)[0],t=dn().memoizedState;return[e,t]},useMutableSource:Su,useSyncExternalStore:wu,useId:Bu,unstable_isNewReconciler:!1};function En(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zo(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:K({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ms={isMounted:function(e){return(e=e._reactInternals)?dt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Kt(),l=Zn(e),h=Dn(i,l);h.payload=t,n!=null&&(h.callback=n),t=Yn(e,h,l),t!==null&&(wn(t,e,l,i),as(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Kt(),l=Zn(e),h=Dn(i,l);h.tag=1,h.payload=t,n!=null&&(h.callback=n),t=Yn(e,h,l),t!==null&&(wn(t,e,l,i),as(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kt(),i=Zn(e),l=Dn(n,i);l.tag=2,t!=null&&(l.callback=t),t=Yn(e,l,i),t!==null&&(wn(t,e,i,n),as(t,e,i))}};function Hu(e,t,n,i,l,h,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,h,j):t.prototype&&t.prototype.isPureReactComponent?!ti(n,i)||!ti(l,h):!0}function Wu(e,t,n){var i=!1,l=Gn,h=t.contextType;return typeof h=="object"&&h!==null?h=cn(h):(l=Qt(t)?ir:Vt.current,i=t.contextTypes,h=(i=i!=null)?Ar(e,l):Gn),t=new t(n,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ms,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=h),t}function Vu(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function ea(e,t,n,i){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Uo(e);var h=t.contextType;typeof h=="object"&&h!==null?l.context=cn(h):(h=Qt(t)?ir:Vt.current,l.context=Ar(e,h)),l.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Zo(e,t,h,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ms.enqueueReplaceState(l,l.state,null),ls(e,n,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Mr(e,t){try{var n="",i=t;do n+=D(i),i=i.return;while(i);var l=n}catch(h){l=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:l,digest:null}}function ta(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function na(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dh=typeof WeakMap=="function"?WeakMap:Map;function Gu(e,t,n){n=Dn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ss||(Ss=!0,ya=i),na(e,t)},n}function qu(e,t,n){n=Dn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;n.payload=function(){return i(l)},n.callback=function(){na(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(n.callback=function(){na(e,t),typeof i!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var j=t.stack;this.componentDidCatch(t.value,{componentStack:j!==null?j:""})}),n}function Xu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Dh;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(l.add(n),e=Xh.bind(null,e,t,n),t.then(e,e))}function Yu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ku(e,t,n,i,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dn(-1,1),t.tag=2,Yn(n,t,1))),n.lanes|=1),e)}var Oh=I.ReactCurrentOwner,Zt=!1;function Yt(e,t,n,i){t.child=e===null?gu(t,null,n,i):Tr(t,e.child,n,i)}function Ju(e,t,n,i,l){n=n.render;var h=t.ref;return Fr(t,l),i=qo(e,t,n,i,h,l),n=Xo(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,On(e,t,l)):(kt&&n&&ko(t),t.flags|=1,Yt(e,t,i,l),t.child)}function Qu(e,t,n,i,l){if(e===null){var h=n.type;return typeof h=="function"&&!ba(h)&&h.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=h,Zu(e,t,h,i,l)):(e=Ps(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!(e.lanes&l)){var j=h.memoizedProps;if(n=n.compare,n=n!==null?n:ti,n(j,i)&&e.ref===t.ref)return On(e,t,l)}return t.flags|=1,e=tr(h,i),e.ref=t.ref,e.return=t,t.child=e}function Zu(e,t,n,i,l){if(e!==null){var h=e.memoizedProps;if(ti(h,i)&&e.ref===t.ref)if(Zt=!1,t.pendingProps=i=h,(e.lanes&l)!==0)e.flags&131072&&(Zt=!0);else return t.lanes=e.lanes,On(e,t,l)}return ra(e,t,n,i,l)}function ec(e,t,n){var i=t.pendingProps,l=i.children,h=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Or,on),on|=n;else{if(!(n&1073741824))return e=h!==null?h.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rt(Or,on),on|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=h!==null?h.baseLanes:n,Rt(Or,on),on|=i}else h!==null?(i=h.baseLanes|n,t.memoizedState=null):i=n,Rt(Or,on),on|=i;return Yt(e,t,l,n),t.child}function tc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ra(e,t,n,i,l){var h=Qt(n)?ir:Vt.current;return h=Ar(t,h),Fr(t,l),n=qo(e,t,n,i,h,l),i=Xo(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,On(e,t,l)):(kt&&i&&ko(t),t.flags|=1,Yt(e,t,n,l),t.child)}function nc(e,t,n,i,l){if(Qt(n)){var h=!0;Zi(t)}else h=!1;if(Fr(t,l),t.stateNode===null)ys(e,t),Wu(t,n,i),ea(t,n,i,l),i=!0;else if(e===null){var j=t.stateNode,ie=t.memoizedProps;j.props=ie;var fe=j.context,Fe=n.contextType;typeof Fe=="object"&&Fe!==null?Fe=cn(Fe):(Fe=Qt(n)?ir:Vt.current,Fe=Ar(t,Fe));var $e=n.getDerivedStateFromProps,We=typeof $e=="function"||typeof j.getSnapshotBeforeUpdate=="function";We||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ie!==i||fe!==Fe)&&Vu(t,j,i,Fe),Xn=!1;var ze=t.memoizedState;j.state=ze,ls(t,i,j,l),fe=t.memoizedState,ie!==i||ze!==fe||Jt.current||Xn?(typeof $e=="function"&&(Zo(t,n,$e,i),fe=t.memoizedState),(ie=Xn||Hu(t,n,ie,i,ze,fe,Fe))?(We||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(t.flags|=4194308)):(typeof j.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=fe),j.props=i,j.state=fe,j.context=Fe,i=ie):(typeof j.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{j=t.stateNode,vu(e,t),ie=t.memoizedProps,Fe=t.type===t.elementType?ie:En(t.type,ie),j.props=Fe,We=t.pendingProps,ze=j.context,fe=n.contextType,typeof fe=="object"&&fe!==null?fe=cn(fe):(fe=Qt(n)?ir:Vt.current,fe=Ar(t,fe));var nt=n.getDerivedStateFromProps;($e=typeof nt=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ie!==We||ze!==fe)&&Vu(t,j,i,fe),Xn=!1,ze=t.memoizedState,j.state=ze,ls(t,i,j,l);var st=t.memoizedState;ie!==We||ze!==st||Jt.current||Xn?(typeof nt=="function"&&(Zo(t,n,nt,i),st=t.memoizedState),(Fe=Xn||Hu(t,n,Fe,i,ze,st,fe)||!1)?($e||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(i,st,fe),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(i,st,fe)),typeof j.componentDidUpdate=="function"&&(t.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof j.componentDidUpdate!="function"||ie===e.memoizedProps&&ze===e.memoizedState||(t.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ie===e.memoizedProps&&ze===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=st),j.props=i,j.state=st,j.context=fe,i=Fe):(typeof j.componentDidUpdate!="function"||ie===e.memoizedProps&&ze===e.memoizedState||(t.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ie===e.memoizedProps&&ze===e.memoizedState||(t.flags|=1024),i=!1)}return ia(e,t,n,i,h,l)}function ia(e,t,n,i,l,h){tc(e,t);var j=(t.flags&128)!==0;if(!i&&!j)return l&&au(t,n,!1),On(e,t,h);i=t.stateNode,Oh.current=t;var ie=j&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&j?(t.child=Tr(t,e.child,null,h),t.child=Tr(t,null,ie,h)):Yt(e,t,ie,h),t.memoizedState=i.state,l&&au(t,n,!0),t.child}function rc(e){var t=e.stateNode;t.pendingContext?su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&su(e,t.context,!1),zo(e,t.containerInfo)}function ic(e,t,n,i,l){return Pr(),Do(l),t.flags|=256,Yt(e,t,n,i),t.child}var sa={dehydrated:null,treeContext:null,retryLane:0};function oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function sc(e,t,n){var i=t.pendingProps,l=Ft.current,h=!1,j=(t.flags&128)!==0,ie;if((ie=j)||(ie=e!==null&&e.memoizedState===null?!1:(l&2)!==0),ie?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Rt(Ft,l&1),e===null)return Mo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(j=i.children,e=i.fallback,h?(i=t.mode,h=t.child,j={mode:"hidden",children:j},!(i&1)&&h!==null?(h.childLanes=0,h.pendingProps=j):h=Ts(j,i,0,null),e=pr(e,i,n,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=oa(n),t.memoizedState=sa,e):aa(t,j));if(l=e.memoizedState,l!==null&&(ie=l.dehydrated,ie!==null))return Ih(e,t,j,i,ie,l,n);if(h){h=i.fallback,j=t.mode,l=e.child,ie=l.sibling;var fe={mode:"hidden",children:i.children};return!(j&1)&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=fe,t.deletions=null):(i=tr(l,fe),i.subtreeFlags=l.subtreeFlags&14680064),ie!==null?h=tr(ie,h):(h=pr(h,j,n,null),h.flags|=2),h.return=t,i.return=t,i.sibling=h,t.child=i,i=h,h=t.child,j=e.child.memoizedState,j=j===null?oa(n):{baseLanes:j.baseLanes|n,cachePool:null,transitions:j.transitions},h.memoizedState=j,h.childLanes=e.childLanes&~n,t.memoizedState=sa,i}return h=e.child,e=h.sibling,i=tr(h,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function aa(e,t){return t=Ts({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gs(e,t,n,i){return i!==null&&Do(i),Tr(t,e.child,null,n),e=aa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ih(e,t,n,i,l,h,j){if(n)return t.flags&256?(t.flags&=-257,i=ta(Error(c(422))),gs(e,t,j,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=i.fallback,l=t.mode,i=Ts({mode:"visible",children:i.children},l,0,null),h=pr(h,l,j,null),h.flags|=2,i.return=t,h.return=t,i.sibling=h,t.child=i,t.mode&1&&Tr(t,e.child,null,j),t.child.memoizedState=oa(j),t.memoizedState=sa,h);if(!(t.mode&1))return gs(e,t,j,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var ie=i.dgst;return i=ie,h=Error(c(419)),i=ta(h,i,void 0),gs(e,t,j,i)}if(ie=(j&e.childLanes)!==0,Zt||ie){if(i=zt,i!==null){switch(j&-j){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(i.suspendedLanes|j)?0:l,l!==0&&l!==h.retryLane&&(h.retryLane=l,Mn(e,l),wn(i,e,l,-1))}return wa(),i=ta(Error(c(421))),gs(e,t,j,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Yh.bind(null,e),l._reactRetry=t,null):(e=h.treeContext,sn=Wn(l.nextSibling),rn=t,kt=!0,xn=null,e!==null&&(ln[un++]=Fn,ln[un++]=Ln,ln[un++]=sr,Fn=e.id,Ln=e.overflow,sr=t),t=aa(t,i.children),t.flags|=4096,t)}function oc(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),jo(e.return,t,n)}function la(e,t,n,i,l){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=n,h.tailMode=l)}function ac(e,t,n){var i=t.pendingProps,l=i.revealOrder,h=i.tail;if(Yt(e,t,i.children,n),i=Ft.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oc(e,n,t);else if(e.tag===19)oc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Rt(Ft,i),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&us(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),la(t,!1,l,n,h);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&us(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}la(t,!0,n,null,h);break;case"together":la(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ys(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function On(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=tr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nh(e,t,n){switch(t.tag){case 3:rc(t),Pr();break;case 5:_u(t);break;case 1:Qt(t.type)&&Zi(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;Rt(ss,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Rt(Ft,Ft.current&1),t.flags|=128,null):n&t.child.childLanes?sc(e,t,n):(Rt(Ft,Ft.current&1),e=On(e,t,n),e!==null?e.sibling:null);Rt(Ft,Ft.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return ac(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Rt(Ft,Ft.current),i)break;return null;case 22:case 23:return t.lanes=0,ec(e,t,n)}return On(e,t,n)}var lc,ua,uc,cc;lc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ua=function(){},uc=function(e,t,n,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,lr(Cn.current);var h=null;switch(n){case"input":l=Te(e,l),i=Te(e,i),h=[];break;case"select":l=K({},l,{value:void 0}),i=K({},i,{value:void 0}),h=[];break;case"textarea":l=Ce(e,l),i=Ce(e,i),h=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ki)}ye(n,i);var j;n=null;for(Fe in l)if(!i.hasOwnProperty(Fe)&&l.hasOwnProperty(Fe)&&l[Fe]!=null)if(Fe==="style"){var ie=l[Fe];for(j in ie)ie.hasOwnProperty(j)&&(n||(n={}),n[j]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(u.hasOwnProperty(Fe)?h||(h=[]):(h=h||[]).push(Fe,null));for(Fe in i){var fe=i[Fe];if(ie=l!=null?l[Fe]:void 0,i.hasOwnProperty(Fe)&&fe!==ie&&(fe!=null||ie!=null))if(Fe==="style")if(ie){for(j in ie)!ie.hasOwnProperty(j)||fe&&fe.hasOwnProperty(j)||(n||(n={}),n[j]="");for(j in fe)fe.hasOwnProperty(j)&&ie[j]!==fe[j]&&(n||(n={}),n[j]=fe[j])}else n||(h||(h=[]),h.push(Fe,n)),n=fe;else Fe==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,ie=ie?ie.__html:void 0,fe!=null&&ie!==fe&&(h=h||[]).push(Fe,fe)):Fe==="children"?typeof fe!="string"&&typeof fe!="number"||(h=h||[]).push(Fe,""+fe):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(u.hasOwnProperty(Fe)?(fe!=null&&Fe==="onScroll"&&Pt("scroll",e),h||ie===fe||(h=[])):(h=h||[]).push(Fe,fe))}n&&(h=h||[]).push("style",n);var Fe=h;(t.updateQueue=Fe)&&(t.flags|=4)}},cc=function(e,t,n,i){n!==i&&(t.flags|=4)};function gi(e,t){if(!kt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function jh(e,t,n){var i=t.pendingProps;switch(Fo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return Qt(t.type)&&Qi(),qt(t),null;case 3:return i=t.stateNode,Lr(),Tt(Jt),Tt(Vt),Wo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xn!==null&&(Ea(xn),xn=null))),ua(e,t),qt(t),null;case 5:$o(t);var l=lr(di.current);if(n=t.type,e!==null&&t.stateNode!=null)uc(e,t,n,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(c(166));return qt(t),null}if(e=lr(Cn.current),rs(t)){i=t.stateNode,n=t.type;var h=t.memoizedProps;switch(i[An]=t,i[oi]=h,e=(t.mode&1)!==0,n){case"dialog":Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":case"embed":Pt("load",i);break;case"video":case"audio":for(l=0;l<ri.length;l++)Pt(ri[l],i);break;case"source":Pt("error",i);break;case"img":case"image":case"link":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"input":Le(i,h),Pt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!h.multiple},Pt("invalid",i);break;case"textarea":Ie(i,h),Pt("invalid",i)}ye(n,h),l=null;for(var j in h)if(h.hasOwnProperty(j)){var ie=h[j];j==="children"?typeof ie=="string"?i.textContent!==ie&&(h.suppressHydrationWarning!==!0&&Yi(i.textContent,ie,e),l=["children",ie]):typeof ie=="number"&&i.textContent!==""+ie&&(h.suppressHydrationWarning!==!0&&Yi(i.textContent,ie,e),l=["children",""+ie]):u.hasOwnProperty(j)&&ie!=null&&j==="onScroll"&&Pt("scroll",i)}switch(n){case"input":_e(i),$(i,h,!0);break;case"textarea":_e(i),he(i);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(i.onclick=Ki)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{j=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Be(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=j.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=j.createElement(n,{is:i.is}):(e=j.createElement(n),n==="select"&&(j=e,i.multiple?j.multiple=!0:i.size&&(j.size=i.size))):e=j.createElementNS(e,n),e[An]=t,e[oi]=i,lc(e,t,!1,!1),t.stateNode=e;e:{switch(j=xe(n,i),n){case"dialog":Pt("cancel",e),Pt("close",e),l=i;break;case"iframe":case"object":case"embed":Pt("load",e),l=i;break;case"video":case"audio":for(l=0;l<ri.length;l++)Pt(ri[l],e);l=i;break;case"source":Pt("error",e),l=i;break;case"img":case"image":case"link":Pt("error",e),Pt("load",e),l=i;break;case"details":Pt("toggle",e),l=i;break;case"input":Le(e,i),l=Te(e,i),Pt("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=K({},i,{value:void 0}),Pt("invalid",e);break;case"textarea":Ie(e,i),l=Ce(e,i),Pt("invalid",e);break;default:l=i}ye(n,l),ie=l;for(h in ie)if(ie.hasOwnProperty(h)){var fe=ie[h];h==="style"?vt(e,fe):h==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&rt(e,fe)):h==="children"?typeof fe=="string"?(n!=="textarea"||fe!=="")&&ht(e,fe):typeof fe=="number"&&ht(e,""+fe):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(u.hasOwnProperty(h)?fe!=null&&h==="onScroll"&&Pt("scroll",e):fe!=null&&U(e,h,fe,j))}switch(n){case"input":_e(e),$(e,i,!1);break;case"textarea":_e(e),he(e);break;case"option":i.value!=null&&e.setAttribute("value",""+X(i.value));break;case"select":e.multiple=!!i.multiple,h=i.value,h!=null?me(e,!!i.multiple,h,!1):i.defaultValue!=null&&me(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ki)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qt(t),null;case 6:if(e&&t.stateNode!=null)cc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(c(166));if(n=lr(di.current),lr(Cn.current),rs(t)){if(i=t.stateNode,n=t.memoizedProps,i[An]=t,(h=i.nodeValue!==n)&&(e=rn,e!==null))switch(e.tag){case 3:Yi(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yi(i.nodeValue,n,(e.mode&1)!==0)}h&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[An]=t,t.stateNode=i}return qt(t),null;case 13:if(Tt(Ft),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kt&&sn!==null&&t.mode&1&&!(t.flags&128))fu(),Pr(),t.flags|=98560,h=!1;else if(h=rs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!h)throw Error(c(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(c(317));h[An]=t}else Pr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qt(t),h=!1}else xn!==null&&(Ea(xn),xn=null),h=!0;if(!h)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Ft.current&1?Bt===0&&(Bt=3):wa())),t.updateQueue!==null&&(t.flags|=4),qt(t),null);case 4:return Lr(),ua(e,t),e===null&&ii(t.stateNode.containerInfo),qt(t),null;case 10:return No(t.type._context),qt(t),null;case 17:return Qt(t.type)&&Qi(),qt(t),null;case 19:if(Tt(Ft),h=t.memoizedState,h===null)return qt(t),null;if(i=(t.flags&128)!==0,j=h.rendering,j===null)if(i)gi(h,!1);else{if(Bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(j=us(e),j!==null){for(t.flags|=128,gi(h,!1),i=j.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)h=n,e=i,h.flags&=14680066,j=h.alternate,j===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=j.childLanes,h.lanes=j.lanes,h.child=j.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=j.memoizedProps,h.memoizedState=j.memoizedState,h.updateQueue=j.updateQueue,h.type=j.type,e=j.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rt(Ft,Ft.current&1|2),t.child}e=e.sibling}h.tail!==null&&Dt()>Ir&&(t.flags|=128,i=!0,gi(h,!1),t.lanes=4194304)}else{if(!i)if(e=us(j),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gi(h,!0),h.tail===null&&h.tailMode==="hidden"&&!j.alternate&&!kt)return qt(t),null}else 2*Dt()-h.renderingStartTime>Ir&&n!==1073741824&&(t.flags|=128,i=!0,gi(h,!1),t.lanes=4194304);h.isBackwards?(j.sibling=t.child,t.child=j):(n=h.last,n!==null?n.sibling=j:t.child=j,h.last=j)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Dt(),t.sibling=null,n=Ft.current,Rt(Ft,i?n&1|2:n&1),t):(qt(t),null);case 22:case 23:return Sa(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?on&1073741824&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),null;case 24:return null;case 25:return null}throw Error(c(156,t.tag))}function Bh(e,t){switch(Fo(t),t.tag){case 1:return Qt(t.type)&&Qi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lr(),Tt(Jt),Tt(Vt),Wo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $o(t),null;case 13:if(Tt(Ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Tt(Ft),null;case 4:return Lr(),null;case 10:return No(t.type._context),null;case 22:case 23:return Sa(),null;case 24:return null;default:return null}}var vs=!1,Xt=!1,Uh=typeof WeakSet=="function"?WeakSet:Set,it=null;function Dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Mt(e,t,i)}else n.current=null}function ca(e,t,n){try{n()}catch(i){Mt(e,t,i)}}var dc=!1;function zh(e,t){if(So=ji,e=Hl(),po(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var j=0,ie=-1,fe=-1,Fe=0,$e=0,We=e,ze=null;t:for(;;){for(var nt;We!==n||l!==0&&We.nodeType!==3||(ie=j+l),We!==h||i!==0&&We.nodeType!==3||(fe=j+i),We.nodeType===3&&(j+=We.nodeValue.length),(nt=We.firstChild)!==null;)ze=We,We=nt;for(;;){if(We===e)break t;if(ze===n&&++Fe===l&&(ie=j),ze===h&&++$e===i&&(fe=j),(nt=We.nextSibling)!==null)break;We=ze,ze=We.parentNode}We=nt}n=ie===-1||fe===-1?null:{start:ie,end:fe}}else n=null}n=n||{start:0,end:0}}else n=null;for(wo={focusedElem:e,selectionRange:n},ji=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var st=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var ot=st.memoizedProps,Ot=st.memoizedState,we=t.stateNode,ge=we.getSnapshotBeforeUpdate(t.elementType===t.type?ot:En(t.type,ot),Ot);we.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var Re=t.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(Ve){Mt(t,t.return,Ve)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return st=dc,dc=!1,st}function yi(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var h=l.destroy;l.destroy=void 0,h!==void 0&&ca(t,n,h)}l=l.next}while(l!==i)}}function xs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function da(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hc(e){var t=e.alternate;t!==null&&(e.alternate=null,hc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[An],delete t[oi],delete t[Ro],delete t[wh],delete t[bh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fc(e){return e.tag===5||e.tag===3||e.tag===4}function pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ha(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ki));else if(i!==4&&(e=e.child,e!==null))for(ha(e,t,n),e=e.sibling;e!==null;)ha(e,t,n),e=e.sibling}function fa(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(fa(e,t,n),e=e.sibling;e!==null;)fa(e,t,n),e=e.sibling}var Ht=null,_n=!1;function Kn(e,t,n){for(n=n.child;n!==null;)mc(e,t,n),n=n.sibling}function mc(e,t,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Li,n)}catch{}switch(n.tag){case 5:Xt||Dr(n,t);case 6:var i=Ht,l=_n;Ht=null,Kn(e,t,n),Ht=i,_n=l,Ht!==null&&(_n?(e=Ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(_n?(e=Ht,n=n.stateNode,e.nodeType===8?Co(e.parentNode,n):e.nodeType===1&&Co(e,n),Yr(e)):Co(Ht,n.stateNode));break;case 4:i=Ht,l=_n,Ht=n.stateNode.containerInfo,_n=!0,Kn(e,t,n),Ht=i,_n=l;break;case 0:case 11:case 14:case 15:if(!Xt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var h=l,j=h.destroy;h=h.tag,j!==void 0&&(h&2||h&4)&&ca(n,t,j),l=l.next}while(l!==i)}Kn(e,t,n);break;case 1:if(!Xt&&(Dr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(ie){Mt(n,t,ie)}Kn(e,t,n);break;case 21:Kn(e,t,n);break;case 22:n.mode&1?(Xt=(i=Xt)||n.memoizedState!==null,Kn(e,t,n),Xt=i):Kn(e,t,n);break;default:Kn(e,t,n)}}function gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Uh),t.forEach(function(i){var l=Kh.bind(null,e,i);n.has(i)||(n.add(i),i.then(l,l))})}}function Sn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];try{var h=e,j=t,ie=j;e:for(;ie!==null;){switch(ie.tag){case 5:Ht=ie.stateNode,_n=!1;break e;case 3:Ht=ie.stateNode.containerInfo,_n=!0;break e;case 4:Ht=ie.stateNode.containerInfo,_n=!0;break e}ie=ie.return}if(Ht===null)throw Error(c(160));mc(h,j,l),Ht=null,_n=!1;var fe=l.alternate;fe!==null&&(fe.return=null),l.return=null}catch(Fe){Mt(l,t,Fe)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yc(t,e),t=t.sibling}function yc(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sn(t,e),Pn(e),i&4){try{yi(3,e,e.return),xs(3,e)}catch(ot){Mt(e,e.return,ot)}try{yi(5,e,e.return)}catch(ot){Mt(e,e.return,ot)}}break;case 1:Sn(t,e),Pn(e),i&512&&n!==null&&Dr(n,n.return);break;case 5:if(Sn(t,e),Pn(e),i&512&&n!==null&&Dr(n,n.return),e.flags&32){var l=e.stateNode;try{ht(l,"")}catch(ot){Mt(e,e.return,ot)}}if(i&4&&(l=e.stateNode,l!=null)){var h=e.memoizedProps,j=n!==null?n.memoizedProps:h,ie=e.type,fe=e.updateQueue;if(e.updateQueue=null,fe!==null)try{ie==="input"&&h.type==="radio"&&h.name!=null&&ue(l,h),xe(ie,j);var Fe=xe(ie,h);for(j=0;j<fe.length;j+=2){var $e=fe[j],We=fe[j+1];$e==="style"?vt(l,We):$e==="dangerouslySetInnerHTML"?rt(l,We):$e==="children"?ht(l,We):U(l,$e,We,Fe)}switch(ie){case"input":de(l,h);break;case"textarea":De(l,h);break;case"select":var ze=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!h.multiple;var nt=h.value;nt!=null?me(l,!!h.multiple,nt,!1):ze!==!!h.multiple&&(h.defaultValue!=null?me(l,!!h.multiple,h.defaultValue,!0):me(l,!!h.multiple,h.multiple?[]:"",!1))}l[oi]=h}catch(ot){Mt(e,e.return,ot)}}break;case 6:if(Sn(t,e),Pn(e),i&4){if(e.stateNode===null)throw Error(c(162));l=e.stateNode,h=e.memoizedProps;try{l.nodeValue=h}catch(ot){Mt(e,e.return,ot)}}break;case 3:if(Sn(t,e),Pn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Yr(t.containerInfo)}catch(ot){Mt(e,e.return,ot)}break;case 4:Sn(t,e),Pn(e);break;case 13:Sn(t,e),Pn(e),l=e.child,l.flags&8192&&(h=l.memoizedState!==null,l.stateNode.isHidden=h,!h||l.alternate!==null&&l.alternate.memoizedState!==null||(ga=Dt())),i&4&&gc(e);break;case 22:if($e=n!==null&&n.memoizedState!==null,e.mode&1?(Xt=(Fe=Xt)||$e,Sn(t,e),Xt=Fe):Sn(t,e),Pn(e),i&8192){if(Fe=e.memoizedState!==null,(e.stateNode.isHidden=Fe)&&!$e&&e.mode&1)for(it=e,$e=e.child;$e!==null;){for(We=it=$e;it!==null;){switch(ze=it,nt=ze.child,ze.tag){case 0:case 11:case 14:case 15:yi(4,ze,ze.return);break;case 1:Dr(ze,ze.return);var st=ze.stateNode;if(typeof st.componentWillUnmount=="function"){i=ze,n=ze.return;try{t=i,st.props=t.memoizedProps,st.state=t.memoizedState,st.componentWillUnmount()}catch(ot){Mt(i,n,ot)}}break;case 5:Dr(ze,ze.return);break;case 22:if(ze.memoizedState!==null){Ec(We);continue}}nt!==null?(nt.return=ze,it=nt):Ec(We)}$e=$e.sibling}e:for($e=null,We=e;;){if(We.tag===5){if($e===null){$e=We;try{l=We.stateNode,Fe?(h=l.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(ie=We.stateNode,fe=We.memoizedProps.style,j=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,ie.style.display=ft("display",j))}catch(ot){Mt(e,e.return,ot)}}}else if(We.tag===6){if($e===null)try{We.stateNode.nodeValue=Fe?"":We.memoizedProps}catch(ot){Mt(e,e.return,ot)}}else if((We.tag!==22&&We.tag!==23||We.memoizedState===null||We===e)&&We.child!==null){We.child.return=We,We=We.child;continue}if(We===e)break e;for(;We.sibling===null;){if(We.return===null||We.return===e)break e;$e===We&&($e=null),We=We.return}$e===We&&($e=null),We.sibling.return=We.return,We=We.sibling}}break;case 19:Sn(t,e),Pn(e),i&4&&gc(e);break;case 21:break;default:Sn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fc(n)){var i=n;break e}n=n.return}throw Error(c(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(ht(l,""),i.flags&=-33);var h=pc(e);fa(e,h,l);break;case 3:case 4:var j=i.stateNode.containerInfo,ie=pc(e);ha(e,ie,j);break;default:throw Error(c(161))}}catch(fe){Mt(e,e.return,fe)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $h(e,t,n){it=e,vc(e)}function vc(e,t,n){for(var i=(e.mode&1)!==0;it!==null;){var l=it,h=l.child;if(l.tag===22&&i){var j=l.memoizedState!==null||vs;if(!j){var ie=l.alternate,fe=ie!==null&&ie.memoizedState!==null||Xt;ie=vs;var Fe=Xt;if(vs=j,(Xt=fe)&&!Fe)for(it=l;it!==null;)j=it,fe=j.child,j.tag===22&&j.memoizedState!==null?_c(l):fe!==null?(fe.return=j,it=fe):_c(l);for(;h!==null;)it=h,vc(h),h=h.sibling;it=l,vs=ie,Xt=Fe}xc(e)}else l.subtreeFlags&8772&&h!==null?(h.return=l,it=h):xc(e)}}function xc(e){for(;it!==null;){var t=it;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xt||xs(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Xt)if(n===null)i.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:En(t.type,n.memoizedProps);i.componentDidUpdate(l,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Eu(t,h,i);break;case 3:var j=t.updateQueue;if(j!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Eu(t,j,n)}break;case 5:var ie=t.stateNode;if(n===null&&t.flags&4){n=ie;var fe=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&n.focus();break;case"img":fe.src&&(n.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var Fe=t.alternate;if(Fe!==null){var $e=Fe.memoizedState;if($e!==null){var We=$e.dehydrated;We!==null&&Yr(We)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}Xt||t.flags&512&&da(t)}catch(ze){Mt(t,t.return,ze)}}if(t===e){it=null;break}if(n=t.sibling,n!==null){n.return=t.return,it=n;break}it=t.return}}function Ec(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var n=t.sibling;if(n!==null){n.return=t.return,it=n;break}it=t.return}}function _c(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xs(4,t)}catch(fe){Mt(t,n,fe)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(fe){Mt(t,l,fe)}}var h=t.return;try{da(t)}catch(fe){Mt(t,h,fe)}break;case 5:var j=t.return;try{da(t)}catch(fe){Mt(t,j,fe)}}}catch(fe){Mt(t,t.return,fe)}if(t===e){it=null;break}var ie=t.sibling;if(ie!==null){ie.return=t.return,it=ie;break}it=t.return}}var Hh=Math.ceil,Es=I.ReactCurrentDispatcher,pa=I.ReactCurrentOwner,hn=I.ReactCurrentBatchConfig,St=0,zt=null,Nt=null,Wt=0,on=0,Or=Vn(0),Bt=0,vi=null,cr=0,_s=0,ma=0,xi=null,en=null,ga=0,Ir=1/0,In=null,Ss=!1,ya=null,Jn=null,ws=!1,Qn=null,bs=0,Ei=0,va=null,As=-1,Cs=0;function Kt(){return St&6?Dt():As!==-1?As:As=Dt()}function Zn(e){return e.mode&1?St&2&&Wt!==0?Wt&-Wt:Ch.transition!==null?(Cs===0&&(Cs=pl()),Cs):(e=bt,e!==0||(e=window.event,e=e===void 0?16:wl(e.type)),e):1}function wn(e,t,n,i){if(50<Ei)throw Ei=0,va=null,Error(c(185));Wr(e,n,i),(!(St&2)||e!==zt)&&(e===zt&&(!(St&2)&&(_s|=n),Bt===4&&er(e,Wt)),tn(e,i),n===1&&St===0&&!(t.mode&1)&&(Ir=Dt()+500,es&&qn()))}function tn(e,t){var n=e.callbackNode;Cd(e,t);var i=Oi(e,e===zt?Wt:0);if(i===0)n!==null&&gn(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&gn(n),t===1)e.tag===0?Ah(wc.bind(null,e)):lu(wc.bind(null,e)),_h(function(){!(St&6)&&qn()}),n=null;else{switch(ml(i)){case 1:n=Ks;break;case 4:n=hl;break;case 16:n=Fi;break;case 536870912:n=fl;break;default:n=Fi}n=Fc(n,Sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sc(e,t){if(As=-1,Cs=0,St&6)throw Error(c(327));var n=e.callbackNode;if(Nr()&&e.callbackNode!==n)return null;var i=Oi(e,e===zt?Wt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Rs(e,i);else{t=i;var l=St;St|=2;var h=Ac();(zt!==e||Wt!==t)&&(In=null,Ir=Dt()+500,hr(e,t));do try{Gh();break}catch(ie){bc(e,ie)}while(!0);Io(),Es.current=h,St=l,Nt!==null?t=0:(zt=null,Wt=0,t=Bt)}if(t!==0){if(t===2&&(l=Js(e),l!==0&&(i=l,t=xa(e,l))),t===1)throw n=vi,hr(e,0),er(e,i),tn(e,Dt()),n;if(t===6)er(e,i);else{if(l=e.current.alternate,!(i&30)&&!Wh(l)&&(t=Rs(e,i),t===2&&(h=Js(e),h!==0&&(i=h,t=xa(e,h))),t===1))throw n=vi,hr(e,0),er(e,i),tn(e,Dt()),n;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(c(345));case 2:fr(e,en,In);break;case 3:if(er(e,i),(i&130023424)===i&&(t=ga+500-Dt(),10<t)){if(Oi(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){Kt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ao(fr.bind(null,e,en,In),t);break}fr(e,en,In);break;case 4:if(er(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var j=31-yn(i);h=1<<j,j=t[j],j>l&&(l=j),i&=~h}if(i=l,i=Dt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Hh(i/1960))-i,10<i){e.timeoutHandle=Ao(fr.bind(null,e,en,In),i);break}fr(e,en,In);break;case 5:fr(e,en,In);break;default:throw Error(c(329))}}}return tn(e,Dt()),e.callbackNode===n?Sc.bind(null,e):null}function xa(e,t){var n=xi;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=Rs(e,t),e!==2&&(t=en,en=n,t!==null&&Ea(t)),e}function Ea(e){en===null?en=e:en.push.apply(en,e)}function Wh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var l=n[i],h=l.getSnapshot;l=l.value;try{if(!vn(h(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function er(e,t){for(t&=~ma,t&=~_s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yn(t),i=1<<n;e[n]=-1,t&=~i}}function wc(e){if(St&6)throw Error(c(327));Nr();var t=Oi(e,0);if(!(t&1))return tn(e,Dt()),null;var n=Rs(e,t);if(e.tag!==0&&n===2){var i=Js(e);i!==0&&(t=i,n=xa(e,i))}if(n===1)throw n=vi,hr(e,0),er(e,t),tn(e,Dt()),n;if(n===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,en,In),tn(e,Dt()),null}function _a(e,t){var n=St;St|=1;try{return e(t)}finally{St=n,St===0&&(Ir=Dt()+500,es&&qn())}}function dr(e){Qn!==null&&Qn.tag===0&&!(St&6)&&Nr();var t=St;St|=1;var n=hn.transition,i=bt;try{if(hn.transition=null,bt=1,e)return e()}finally{bt=i,hn.transition=n,St=t,!(St&6)&&qn()}}function Sa(){on=Or.current,Tt(Or)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Eh(n)),Nt!==null)for(n=Nt.return;n!==null;){var i=n;switch(Fo(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Qi();break;case 3:Lr(),Tt(Jt),Tt(Vt),Wo();break;case 5:$o(i);break;case 4:Lr();break;case 13:Tt(Ft);break;case 19:Tt(Ft);break;case 10:No(i.type._context);break;case 22:case 23:Sa()}n=n.return}if(zt=e,Nt=e=tr(e.current,null),Wt=on=t,Bt=0,vi=null,ma=_s=cr=0,en=xi=null,ar!==null){for(t=0;t<ar.length;t++)if(n=ar[t],i=n.interleaved,i!==null){n.interleaved=null;var l=i.next,h=n.pending;if(h!==null){var j=h.next;h.next=l,i.next=j}n.pending=i}ar=null}return e}function bc(e,t){do{var n=Nt;try{if(Io(),cs.current=ps,ds){for(var i=Lt.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}ds=!1}if(ur=0,Ut=jt=Lt=null,hi=!1,fi=0,pa.current=null,n===null||n.return===null){Bt=1,vi=t,Nt=null;break}e:{var h=e,j=n.return,ie=n,fe=t;if(t=Wt,ie.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Fe=fe,$e=ie,We=$e.tag;if(!($e.mode&1)&&(We===0||We===11||We===15)){var ze=$e.alternate;ze?($e.updateQueue=ze.updateQueue,$e.memoizedState=ze.memoizedState,$e.lanes=ze.lanes):($e.updateQueue=null,$e.memoizedState=null)}var nt=Yu(j);if(nt!==null){nt.flags&=-257,Ku(nt,j,ie,h,t),nt.mode&1&&Xu(h,Fe,t),t=nt,fe=Fe;var st=t.updateQueue;if(st===null){var ot=new Set;ot.add(fe),t.updateQueue=ot}else st.add(fe);break e}else{if(!(t&1)){Xu(h,Fe,t),wa();break e}fe=Error(c(426))}}else if(kt&&ie.mode&1){var Ot=Yu(j);if(Ot!==null){!(Ot.flags&65536)&&(Ot.flags|=256),Ku(Ot,j,ie,h,t),Do(Mr(fe,ie));break e}}h=fe=Mr(fe,ie),Bt!==4&&(Bt=2),xi===null?xi=[h]:xi.push(h),h=j;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var we=Gu(h,fe,t);xu(h,we);break e;case 1:ie=fe;var ge=h.type,Re=h.stateNode;if(!(h.flags&128)&&(typeof ge.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(Jn===null||!Jn.has(Re)))){h.flags|=65536,t&=-t,h.lanes|=t;var Ve=qu(h,ie,t);xu(h,Ve);break e}}h=h.return}while(h!==null)}Rc(n)}catch(ut){t=ut,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function Ac(){var e=Es.current;return Es.current=ps,e===null?ps:e}function wa(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),zt===null||!(cr&268435455)&&!(_s&268435455)||er(zt,Wt)}function Rs(e,t){var n=St;St|=2;var i=Ac();(zt!==e||Wt!==t)&&(In=null,hr(e,t));do try{Vh();break}catch(l){bc(e,l)}while(!0);if(Io(),St=n,Es.current=i,Nt!==null)throw Error(c(261));return zt=null,Wt=0,Bt}function Vh(){for(;Nt!==null;)Cc(Nt)}function Gh(){for(;Nt!==null&&!ki();)Cc(Nt)}function Cc(e){var t=kc(e.alternate,e,on);e.memoizedProps=e.pendingProps,t===null?Rc(e):Nt=t,pa.current=null}function Rc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Bh(n,t),n!==null){n.flags&=32767,Nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Bt=6,Nt=null;return}}else if(n=jh(n,t,on),n!==null){Nt=n;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);Bt===0&&(Bt=5)}function fr(e,t,n){var i=bt,l=hn.transition;try{hn.transition=null,bt=1,qh(e,t,n,i)}finally{hn.transition=l,bt=i}return null}function qh(e,t,n,i){do Nr();while(Qn!==null);if(St&6)throw Error(c(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var h=n.lanes|n.childLanes;if(Rd(e,h),e===zt&&(Nt=zt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ws||(ws=!0,Fc(Fi,function(){return Nr(),null})),h=(n.flags&15990)!==0,n.subtreeFlags&15990||h){h=hn.transition,hn.transition=null;var j=bt;bt=1;var ie=St;St|=4,pa.current=null,zh(e,n),yc(n,e),fh(wo),ji=!!So,wo=So=null,e.current=n,$h(n),vd(),St=ie,bt=j,hn.transition=h}else e.current=n;if(ws&&(ws=!1,Qn=e,bs=l),h=e.pendingLanes,h===0&&(Jn=null),_d(n.stateNode),tn(e,Dt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],i(l.value,{componentStack:l.stack,digest:l.digest});if(Ss)throw Ss=!1,e=ya,ya=null,e;return bs&1&&e.tag!==0&&Nr(),h=e.pendingLanes,h&1?e===va?Ei++:(Ei=0,va=e):Ei=0,qn(),null}function Nr(){if(Qn!==null){var e=ml(bs),t=hn.transition,n=bt;try{if(hn.transition=null,bt=16>e?16:e,Qn===null)var i=!1;else{if(e=Qn,Qn=null,bs=0,St&6)throw Error(c(331));var l=St;for(St|=4,it=e.current;it!==null;){var h=it,j=h.child;if(it.flags&16){var ie=h.deletions;if(ie!==null){for(var fe=0;fe<ie.length;fe++){var Fe=ie[fe];for(it=Fe;it!==null;){var $e=it;switch($e.tag){case 0:case 11:case 15:yi(8,$e,h)}var We=$e.child;if(We!==null)We.return=$e,it=We;else for(;it!==null;){$e=it;var ze=$e.sibling,nt=$e.return;if(hc($e),$e===Fe){it=null;break}if(ze!==null){ze.return=nt,it=ze;break}it=nt}}}var st=h.alternate;if(st!==null){var ot=st.child;if(ot!==null){st.child=null;do{var Ot=ot.sibling;ot.sibling=null,ot=Ot}while(ot!==null)}}it=h}}if(h.subtreeFlags&2064&&j!==null)j.return=h,it=j;else e:for(;it!==null;){if(h=it,h.flags&2048)switch(h.tag){case 0:case 11:case 15:yi(9,h,h.return)}var we=h.sibling;if(we!==null){we.return=h.return,it=we;break e}it=h.return}}var ge=e.current;for(it=ge;it!==null;){j=it;var Re=j.child;if(j.subtreeFlags&2064&&Re!==null)Re.return=j,it=Re;else e:for(j=ge;it!==null;){if(ie=it,ie.flags&2048)try{switch(ie.tag){case 0:case 11:case 15:xs(9,ie)}}catch(ut){Mt(ie,ie.return,ut)}if(ie===j){it=null;break e}var Ve=ie.sibling;if(Ve!==null){Ve.return=ie.return,it=Ve;break e}it=ie.return}}if(St=l,qn(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Li,e)}catch{}i=!0}return i}finally{bt=n,hn.transition=t}}return!1}function Pc(e,t,n){t=Mr(n,t),t=Gu(e,t,1),e=Yn(e,t,1),t=Kt(),e!==null&&(Wr(e,1,t),tn(e,t))}function Mt(e,t,n){if(e.tag===3)Pc(e,e,n);else for(;t!==null;){if(t.tag===3){Pc(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Jn===null||!Jn.has(i))){e=Mr(n,e),e=qu(t,e,1),t=Yn(t,e,1),e=Kt(),t!==null&&(Wr(t,1,e),tn(t,e));break}}t=t.return}}function Xh(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&n,zt===e&&(Wt&n)===n&&(Bt===4||Bt===3&&(Wt&130023424)===Wt&&500>Dt()-ga?hr(e,0):ma|=n),tn(e,t)}function Tc(e,t){t===0&&(e.mode&1?(t=Di,Di<<=1,!(Di&130023424)&&(Di=4194304)):t=1);var n=Kt();e=Mn(e,t),e!==null&&(Wr(e,t,n),tn(e,n))}function Yh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tc(e,n)}function Kh(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(c(314))}i!==null&&i.delete(t),Tc(e,n)}var kc;kc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)Zt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zt=!1,Nh(e,t,n);Zt=!!(e.flags&131072)}else Zt=!1,kt&&t.flags&1048576&&uu(t,ns,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ys(e,t),e=t.pendingProps;var l=Ar(t,Vt.current);Fr(t,n),l=qo(null,t,i,e,l,n);var h=Xo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qt(i)?(h=!0,Zi(t)):h=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Uo(t),l.updater=ms,t.stateNode=l,l._reactInternals=t,ea(t,i,e,n),t=ia(null,t,i,!0,h,n)):(t.tag=0,kt&&h&&ko(t),Yt(null,t,l,n),t=t.child),t;case 16:i=t.elementType;e:{switch(ys(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=Qh(i),e=En(i,e),l){case 0:t=ra(null,t,i,e,n);break e;case 1:t=nc(null,t,i,e,n);break e;case 11:t=Ju(null,t,i,e,n);break e;case 14:t=Qu(null,t,i,En(i.type,e),n);break e}throw Error(c(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:En(i,l),ra(e,t,i,l,n);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:En(i,l),nc(e,t,i,l,n);case 3:e:{if(rc(t),e===null)throw Error(c(387));i=t.pendingProps,h=t.memoizedState,l=h.element,vu(e,t),ls(t,i,null,n);var j=t.memoizedState;if(i=j.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){l=Mr(Error(c(423)),t),t=ic(e,t,i,n,l);break e}else if(i!==l){l=Mr(Error(c(424)),t),t=ic(e,t,i,n,l);break e}else for(sn=Wn(t.stateNode.containerInfo.firstChild),rn=t,kt=!0,xn=null,n=gu(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pr(),i===l){t=On(e,t,n);break e}Yt(e,t,i,n)}t=t.child}return t;case 5:return _u(t),e===null&&Mo(t),i=t.type,l=t.pendingProps,h=e!==null?e.memoizedProps:null,j=l.children,bo(i,l)?j=null:h!==null&&bo(i,h)&&(t.flags|=32),tc(e,t),Yt(e,t,j,n),t.child;case 6:return e===null&&Mo(t),null;case 13:return sc(e,t,n);case 4:return zo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Tr(t,null,i,n):Yt(e,t,i,n),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:En(i,l),Ju(e,t,i,l,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,h=t.memoizedProps,j=l.value,Rt(ss,i._currentValue),i._currentValue=j,h!==null)if(vn(h.value,j)){if(h.children===l.children&&!Jt.current){t=On(e,t,n);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var ie=h.dependencies;if(ie!==null){j=h.child;for(var fe=ie.firstContext;fe!==null;){if(fe.context===i){if(h.tag===1){fe=Dn(-1,n&-n),fe.tag=2;var Fe=h.updateQueue;if(Fe!==null){Fe=Fe.shared;var $e=Fe.pending;$e===null?fe.next=fe:(fe.next=$e.next,$e.next=fe),Fe.pending=fe}}h.lanes|=n,fe=h.alternate,fe!==null&&(fe.lanes|=n),jo(h.return,n,t),ie.lanes|=n;break}fe=fe.next}}else if(h.tag===10)j=h.type===t.type?null:h.child;else if(h.tag===18){if(j=h.return,j===null)throw Error(c(341));j.lanes|=n,ie=j.alternate,ie!==null&&(ie.lanes|=n),jo(j,n,t),j=h.sibling}else j=h.child;if(j!==null)j.return=h;else for(j=h;j!==null;){if(j===t){j=null;break}if(h=j.sibling,h!==null){h.return=j.return,j=h;break}j=j.return}h=j}Yt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,Fr(t,n),l=cn(l),i=i(l),t.flags|=1,Yt(e,t,i,n),t.child;case 14:return i=t.type,l=En(i,t.pendingProps),l=En(i.type,l),Qu(e,t,i,l,n);case 15:return Zu(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:En(i,l),ys(e,t),t.tag=1,Qt(i)?(e=!0,Zi(t)):e=!1,Fr(t,n),Wu(t,i,l),ea(t,i,l,n),ia(null,t,i,!0,e,n);case 19:return ac(e,t,n);case 22:return ec(e,t,n)}throw Error(c(156,t.tag))};function Fc(e,t){return mn(e,t)}function Jh(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,i){return new Jh(e,t,n,i)}function ba(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qh(e){if(typeof e=="function")return ba(e)?1:0;if(e!=null){if(e=e.$$typeof,e===k)return 11;if(e===ne)return 14}return 2}function tr(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ps(e,t,n,i,l,h){var j=2;if(i=e,typeof e=="function")ba(e)&&(j=1);else if(typeof e=="string")j=5;else e:switch(e){case _:return pr(n.children,l,h,t);case A:j=8,l|=8;break;case C:return e=fn(12,n,t,l|2),e.elementType=C,e.lanes=h,e;case H:return e=fn(13,n,t,l),e.elementType=H,e.lanes=h,e;case te:return e=fn(19,n,t,l),e.elementType=te,e.lanes=h,e;case ee:return Ts(n,l,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:j=10;break e;case m:j=9;break e;case k:j=11;break e;case ne:j=14;break e;case oe:j=16,i=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return t=fn(j,n,t,l),t.elementType=e,t.type=i,t.lanes=h,t}function pr(e,t,n,i){return e=fn(7,e,i,t),e.lanes=n,e}function Ts(e,t,n,i){return e=fn(22,e,i,t),e.elementType=ee,e.lanes=n,e.stateNode={isHidden:!1},e}function Aa(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function Ca(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zh(e,t,n,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qs(0),this.expirationTimes=Qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ra(e,t,n,i,l,h,j,ie,fe){return e=new Zh(e,t,n,ie,fe),t===1?(t=1,h===!0&&(t|=8)):t=0,h=fn(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uo(h),e}function ef(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Lc(e){if(!e)return Gn;e=e._reactInternals;e:{if(dt(e)!==e||e.tag!==1)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(c(171))}if(e.tag===1){var n=e.type;if(Qt(n))return ou(e,n,t)}return t}function Mc(e,t,n,i,l,h,j,ie,fe){return e=Ra(n,i,!0,e,l,h,j,ie,fe),e.context=Lc(null),n=e.current,i=Kt(),l=Zn(n),h=Dn(i,l),h.callback=t??null,Yn(n,h,l),e.current.lanes=l,Wr(e,l,i),tn(e,i),e}function ks(e,t,n,i){var l=t.current,h=Kt(),j=Zn(l);return n=Lc(n),t.context===null?t.context=n:t.pendingContext=n,t=Dn(h,j),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Yn(l,t,j),e!==null&&(wn(e,l,j,h),as(e,l,j)),j}function Fs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pa(e,t){Dc(e,t),(e=e.alternate)&&Dc(e,t)}function tf(){return null}var Oc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ta(e){this._internalRoot=e}Ls.prototype.render=Ta.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));ks(e,t,null,null)},Ls.prototype.unmount=Ta.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){ks(null,e,null,null)}),t[Tn]=null}};function Ls(e){this._internalRoot=e}Ls.prototype.unstable_scheduleHydration=function(e){if(e){var t=vl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zn.length&&t!==0&&t<zn[n].priority;n++);zn.splice(n,0,e),n===0&&_l(e)}};function ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ms(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ic(){}function nf(e,t,n,i,l){if(l){if(typeof i=="function"){var h=i;i=function(){var Fe=Fs(j);h.call(Fe)}}var j=Mc(t,i,e,0,null,!1,!1,"",Ic);return e._reactRootContainer=j,e[Tn]=j.current,ii(e.nodeType===8?e.parentNode:e),dr(),j}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var ie=i;i=function(){var Fe=Fs(fe);ie.call(Fe)}}var fe=Ra(e,0,!1,null,null,!1,!1,"",Ic);return e._reactRootContainer=fe,e[Tn]=fe.current,ii(e.nodeType===8?e.parentNode:e),dr(function(){ks(t,fe,n,i)}),fe}function Ds(e,t,n,i,l){var h=n._reactRootContainer;if(h){var j=h;if(typeof l=="function"){var ie=l;l=function(){var fe=Fs(j);ie.call(fe)}}ks(t,j,e,l)}else j=nf(n,t,e,l,i);return Fs(j)}gl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hr(t.pendingLanes);n!==0&&(Zs(t,n|1),tn(t,Dt()),!(St&6)&&(Ir=Dt()+500,qn()))}break;case 13:dr(function(){var i=Mn(e,1);if(i!==null){var l=Kt();wn(i,e,1,l)}}),Pa(e,1)}},eo=function(e){if(e.tag===13){var t=Mn(e,134217728);if(t!==null){var n=Kt();wn(t,e,134217728,n)}Pa(e,134217728)}},yl=function(e){if(e.tag===13){var t=Zn(e),n=Mn(e,t);if(n!==null){var i=Kt();wn(n,e,t,i)}Pa(e,t)}},vl=function(){return bt},xl=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},pt=function(e,t,n){switch(t){case"input":if(de(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=Ji(i);if(!l)throw Error(c(90));Ae(i),de(i,l)}}}break;case"textarea":De(e,n);break;case"select":t=n.value,t!=null&&me(e,!!n.multiple,t,!1)}},Ge=_a,J=dr;var rf={usingClientEntryPoint:!1,Events:[ai,wr,Ji,Je,et,_a]},_i={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sf={bundleType:_i.bundleType,version:_i.version,rendererPackageName:_i.rendererPackageName,rendererConfig:_i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ct(e),e===null?null:e.stateNode},findFiberByHostInstance:_i.findFiberByHostInstance||tf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Li=Os.inject(sf),bn=Os}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rf,reactDom_production_min.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ka(t))throw Error(c(200));return ef(e,t,null,n)},reactDom_production_min.createRoot=function(e,t){if(!ka(e))throw Error(c(299));var n=!1,i="",l=Oc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ra(e,1,!1,null,null,n,!1,i,l),e[Tn]=t.current,ii(e.nodeType===8?e.parentNode:e),new Ta(t)},reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=Ct(t),e=e===null?null:e.stateNode,e},reactDom_production_min.flushSync=function(e){return dr(e)},reactDom_production_min.hydrate=function(e,t,n){if(!Ms(t))throw Error(c(200));return Ds(null,e,t,!0,n)},reactDom_production_min.hydrateRoot=function(e,t,n){if(!ka(e))throw Error(c(405));var i=n!=null&&n.hydratedSources||null,l=!1,h="",j=Oc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onRecoverableError!==void 0&&(j=n.onRecoverableError)),t=Mc(t,null,e,1,n??null,l,!1,h,j),e[Tn]=t.current,ii(e),i)for(e=0;e<i.length;e++)n=i[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ls(t)},reactDom_production_min.render=function(e,t,n){if(!Ms(t))throw Error(c(200));return Ds(null,e,t,!1,n)},reactDom_production_min.unmountComponentAtNode=function(e){if(!Ms(e))throw Error(c(40));return e._reactRootContainer?(dr(function(){Ds(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=_a,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ms(n))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return Ds(e,t,n,!1,i)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var o=requireReactDom();return client.createRoot=o.createRoot,client.hydrateRoot=o.hydrateRoot,client}var clientExports=requireClient();function commonjsRequire(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(s,c){module.exports=s.pdfjsLib=c()})(globalThis,()=>(()=>{var __webpack_modules__=[,(o,s)=>{var vt;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=z,s.bytesToString=_e,s.createValidAbsoluteUrl=B,s.getModificationDate=je,s.getUuid=Ze,s.getVerbosityLevel=ne,s.info=oe,s.isArrayBuffer=he,s.isArrayEqual=Be,s.isNodeJS=void 0,s.normalizeUnicode=qe,s.objectFromMap=Le,s.objectSize=Te,s.setVerbosityLevel=te,s.shadow=T,s.string32=ke,s.stringToBytes=Ae,s.stringToPDFString=Ce,s.stringToUTF8String=Ie,s.unreachable=re,s.utf8StringToString=De,s.warn=ee;const c=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=c;const a=[1,0,0,1,0,0];s.IDENTITY_MATRIX=a;const u=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=u;const P=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=P;const O=1.35;s.LINE_FACTOR=O;const G=.35;s.LINE_DESCENT_FACTOR=G;const S=G/O;s.BASELINE_FACTOR=S;const w={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=w;const g={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=g;const N="pdfjs_internal_editor_";s.AnnotationEditorPrefix=N;const F={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=F;const b={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=b;const E={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=E;const M={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=M;const v={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=v;const x={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=x;const L={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=L;const U={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=U;const I={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=I;const y={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=y;const R={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=R;const _={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=_;const A={O:"PageOpen",C:"PageClose"};s.PageActionEventType=A;const C={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=C;const Y={NONE:0,BINARY:1};s.CMapCompressionType=Y;const m={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=m;const k={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=k;let H=C.WARNINGS;function te(Oe){Number.isInteger(Oe)&&(H=Oe)}function ne(){return H}function oe(Oe){H>=C.INFOS&&console.log(`Info: ${Oe}`)}function ee(Oe){H>=C.WARNINGS&&console.log(`Warning: ${Oe}`)}function re(Oe){throw new Error(Oe)}function z(Oe,ye){Oe||re(ye)}function K(Oe){switch(Oe==null?void 0:Oe.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function B(Oe,ye=null,xe=null){if(!Oe)return null;try{if(xe&&typeof Oe=="string"){if(xe.addDefaultProtocol&&Oe.startsWith("www.")){const yt=Oe.match(/\./g);(yt==null?void 0:yt.length)>=2&&(Oe=`http://${Oe}`)}if(xe.tryConvertEncoding)try{Oe=Ie(Oe)}catch{}}const Xe=ye?new URL(Oe,ye):new URL(Oe);if(K(Xe))return Xe}catch{}return null}function T(Oe,ye,xe,Xe=!1){return Object.defineProperty(Oe,ye,{value:xe,enumerable:!Xe,configurable:!0,writable:!1}),xe}const f=function(){function ye(xe,Xe){this.constructor===ye&&re("Cannot initialize BaseException."),this.message=xe,this.name=Xe}return ye.prototype=new Error,ye.constructor=ye,ye}();s.BaseException=f;class p extends f{constructor(ye,xe){super(ye,"PasswordException"),this.code=xe}}s.PasswordException=p;class D extends f{constructor(ye,xe){super(ye,"UnknownErrorException"),this.details=xe}}s.UnknownErrorException=D;class W extends f{constructor(ye){super(ye,"InvalidPDFException")}}s.InvalidPDFException=W;class q extends f{constructor(ye){super(ye,"MissingPDFException")}}s.MissingPDFException=q;class X extends f{constructor(ye,xe){super(ye,"UnexpectedResponseException"),this.status=xe}}s.UnexpectedResponseException=X;class se extends f{constructor(ye){super(ye,"FormatError")}}s.FormatError=se;class pe extends f{constructor(ye){super(ye,"AbortException")}}s.AbortException=pe;function _e(Oe){(typeof Oe!="object"||(Oe==null?void 0:Oe.length)===void 0)&&re("Invalid argument for bytesToString");const ye=Oe.length,xe=8192;if(ye<xe)return String.fromCharCode.apply(null,Oe);const Xe=[];for(let yt=0;yt<ye;yt+=xe){const pt=Math.min(yt+xe,ye),Z=Oe.subarray(yt,pt);Xe.push(String.fromCharCode.apply(null,Z))}return Xe.join("")}function Ae(Oe){typeof Oe!="string"&&re("Invalid argument for stringToBytes");const ye=Oe.length,xe=new Uint8Array(ye);for(let Xe=0;Xe<ye;++Xe)xe[Xe]=Oe.charCodeAt(Xe)&255;return xe}function ke(Oe){return String.fromCharCode(Oe>>24&255,Oe>>16&255,Oe>>8&255,Oe&255)}function Te(Oe){return Object.keys(Oe).length}function Le(Oe){const ye=Object.create(null);for(const[xe,Xe]of Oe)ye[xe]=Xe;return ye}function ue(){const Oe=new Uint8Array(4);return Oe[0]=1,new Uint32Array(Oe.buffer,0,1)[0]===1}function de(){try{return new Function(""),!0}catch{return!1}}class ${static get isLittleEndian(){return T(this,"isLittleEndian",ue())}static get isEvalSupported(){return T(this,"isEvalSupported",de())}static get isOffscreenCanvasSupported(){return T(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?T(this,"platform",{isWin:!1,isMac:!1}):T(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var ye,xe;return T(this,"isCSSRoundSupported",(xe=(ye=globalThis.CSS)==null?void 0:ye.supports)==null?void 0:xe.call(ye,"width: round(1.5px, 1px)"))}}s.FeatureTest=$;const Q=[...Array(256).keys()].map(Oe=>Oe.toString(16).padStart(2,"0"));class le{static makeHexColor(ye,xe,Xe){return`#${Q[ye]}${Q[xe]}${Q[Xe]}`}static scaleMinMax(ye,xe){let Xe;ye[0]?(ye[0]<0&&(Xe=xe[0],xe[0]=xe[1],xe[1]=Xe),xe[0]*=ye[0],xe[1]*=ye[0],ye[3]<0&&(Xe=xe[2],xe[2]=xe[3],xe[3]=Xe),xe[2]*=ye[3],xe[3]*=ye[3]):(Xe=xe[0],xe[0]=xe[2],xe[2]=Xe,Xe=xe[1],xe[1]=xe[3],xe[3]=Xe,ye[1]<0&&(Xe=xe[2],xe[2]=xe[3],xe[3]=Xe),xe[2]*=ye[1],xe[3]*=ye[1],ye[2]<0&&(Xe=xe[0],xe[0]=xe[1],xe[1]=Xe),xe[0]*=ye[2],xe[1]*=ye[2]),xe[0]+=ye[4],xe[1]+=ye[4],xe[2]+=ye[5],xe[3]+=ye[5]}static transform(ye,xe){return[ye[0]*xe[0]+ye[2]*xe[1],ye[1]*xe[0]+ye[3]*xe[1],ye[0]*xe[2]+ye[2]*xe[3],ye[1]*xe[2]+ye[3]*xe[3],ye[0]*xe[4]+ye[2]*xe[5]+ye[4],ye[1]*xe[4]+ye[3]*xe[5]+ye[5]]}static applyTransform(ye,xe){const Xe=ye[0]*xe[0]+ye[1]*xe[2]+xe[4],yt=ye[0]*xe[1]+ye[1]*xe[3]+xe[5];return[Xe,yt]}static applyInverseTransform(ye,xe){const Xe=xe[0]*xe[3]-xe[1]*xe[2],yt=(ye[0]*xe[3]-ye[1]*xe[2]+xe[2]*xe[5]-xe[4]*xe[3])/Xe,pt=(-ye[0]*xe[1]+ye[1]*xe[0]+xe[4]*xe[1]-xe[5]*xe[0])/Xe;return[yt,pt]}static getAxialAlignedBoundingBox(ye,xe){const Xe=this.applyTransform(ye,xe),yt=this.applyTransform(ye.slice(2,4),xe),pt=this.applyTransform([ye[0],ye[3]],xe),Z=this.applyTransform([ye[2],ye[1]],xe);return[Math.min(Xe[0],yt[0],pt[0],Z[0]),Math.min(Xe[1],yt[1],pt[1],Z[1]),Math.max(Xe[0],yt[0],pt[0],Z[0]),Math.max(Xe[1],yt[1],pt[1],Z[1])]}static inverseTransform(ye){const xe=ye[0]*ye[3]-ye[1]*ye[2];return[ye[3]/xe,-ye[1]/xe,-ye[2]/xe,ye[0]/xe,(ye[2]*ye[5]-ye[4]*ye[3])/xe,(ye[4]*ye[1]-ye[5]*ye[0])/xe]}static singularValueDecompose2dScale(ye){const xe=[ye[0],ye[2],ye[1],ye[3]],Xe=ye[0]*xe[0]+ye[1]*xe[2],yt=ye[0]*xe[1]+ye[1]*xe[3],pt=ye[2]*xe[0]+ye[3]*xe[2],Z=ye[2]*xe[1]+ye[3]*xe[3],Pe=(Xe+Z)/2,Ue=Math.sqrt((Xe+Z)**2-4*(Xe*Z-pt*yt))/2,Je=Pe+Ue||1,et=Pe-Ue||1;return[Math.sqrt(Je),Math.sqrt(et)]}static normalizeRect(ye){const xe=ye.slice(0);return ye[0]>ye[2]&&(xe[0]=ye[2],xe[2]=ye[0]),ye[1]>ye[3]&&(xe[1]=ye[3],xe[3]=ye[1]),xe}static intersect(ye,xe){const Xe=Math.max(Math.min(ye[0],ye[2]),Math.min(xe[0],xe[2])),yt=Math.min(Math.max(ye[0],ye[2]),Math.max(xe[0],xe[2]));if(Xe>yt)return null;const pt=Math.max(Math.min(ye[1],ye[3]),Math.min(xe[1],xe[3])),Z=Math.min(Math.max(ye[1],ye[3]),Math.max(xe[1],xe[3]));return pt>Z?null:[Xe,pt,yt,Z]}static bezierBoundingBox(ye,xe,Xe,yt,pt,Z,Pe,Ue){const Je=[],et=[[],[]];let Ge,J,V,ae,Se,be,Me,Ne;for(let ct=0;ct<2;++ct){if(ct===0?(J=6*ye-12*Xe+6*pt,Ge=-3*ye+9*Xe-9*pt+3*Pe,V=3*Xe-3*ye):(J=6*xe-12*yt+6*Z,Ge=-3*xe+9*yt-9*Z+3*Ue,V=3*yt-3*xe),Math.abs(Ge)<1e-12){if(Math.abs(J)<1e-12)continue;ae=-V/J,0<ae&&ae<1&&Je.push(ae);continue}Me=J*J-4*V*Ge,Ne=Math.sqrt(Me),!(Me<0)&&(Se=(-J+Ne)/(2*Ge),0<Se&&Se<1&&Je.push(Se),be=(-J-Ne)/(2*Ge),0<be&&be<1&&Je.push(be))}let Ke=Je.length,Ye;const He=Ke;for(;Ke--;)ae=Je[Ke],Ye=1-ae,et[0][Ke]=Ye*Ye*Ye*ye+3*Ye*Ye*ae*Xe+3*Ye*ae*ae*pt+ae*ae*ae*Pe,et[1][Ke]=Ye*Ye*Ye*xe+3*Ye*Ye*ae*yt+3*Ye*ae*ae*Z+ae*ae*ae*Ue;return et[0][He]=ye,et[1][He]=xe,et[0][He+1]=Pe,et[1][He+1]=Ue,et[0].length=et[1].length=He+2,[Math.min(...et[0]),Math.min(...et[1]),Math.max(...et[0]),Math.max(...et[1])]}}s.Util=le;const me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ce(Oe){if(Oe[0]>=""){let xe;if(Oe[0]===""&&Oe[1]===""?xe="utf-16be":Oe[0]===""&&Oe[1]===""?xe="utf-16le":Oe[0]===""&&Oe[1]===""&&Oe[2]===""&&(xe="utf-8"),xe)try{const Xe=new TextDecoder(xe,{fatal:!0}),yt=Ae(Oe);return Xe.decode(yt)}catch(Xe){ee(`stringToPDFString: "${Xe}".`)}}const ye=[];for(let xe=0,Xe=Oe.length;xe<Xe;xe++){const yt=me[Oe.charCodeAt(xe)];ye.push(yt?String.fromCharCode(yt):Oe.charAt(xe))}return ye.join("")}function Ie(Oe){return decodeURIComponent(escape(Oe))}function De(Oe){return unescape(encodeURIComponent(Oe))}function he(Oe){return typeof Oe=="object"&&(Oe==null?void 0:Oe.byteLength)!==void 0}function Be(Oe,ye){if(Oe.length!==ye.length)return!1;for(let xe=0,Xe=Oe.length;xe<Xe;xe++)if(Oe[xe]!==ye[xe])return!1;return!0}function je(Oe=new Date){return[Oe.getUTCFullYear().toString(),(Oe.getUTCMonth()+1).toString().padStart(2,"0"),Oe.getUTCDate().toString().padStart(2,"0"),Oe.getUTCHours().toString().padStart(2,"0"),Oe.getUTCMinutes().toString().padStart(2,"0"),Oe.getUTCSeconds().toString().padStart(2,"0")].join("")}class at{constructor(){ve(this,vt,!1);this.promise=new Promise((ye,xe)=>{this.resolve=Xe=>{Ee(this,vt,!0),ye(Xe)},this.reject=Xe=>{Ee(this,vt,!0),xe(Xe)}})}get settled(){return d(this,vt)}}vt=new WeakMap,s.PromiseCapability=at;let rt=null,ht=null;function qe(Oe){return rt||(rt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ht=new Map([["","t"]])),Oe.replaceAll(rt,(ye,xe,Xe)=>xe?xe.normalize("NFKC"):ht.get(Xe))}function Ze(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Oe=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Oe);else for(let ye=0;ye<32;ye++)Oe[ye]=Math.floor(Math.random()*255);return _e(Oe)}const ft="pdfjs_internal_id_";s.AnnotationPrefix=ft},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var o,c,a,u,jr,Is,G,S,w,g,N,F,b,E,M,Ns,x,L,La,I,y;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(_){if(typeof _=="string"||_ instanceof URL?_={url:_}:(0,_util.isArrayBuffer)(_)&&(_={data:_}),typeof _!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!_.url&&!_.data&&!_.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const A=new PDFDocumentLoadingTask,{docId:C}=A,Y=_.url?getUrlProp(_.url):null,m=_.data?getDataProp(_.data):null,k=_.httpHeaders||null,H=_.withCredentials===!0,te=_.password??null,ne=_.range instanceof PDFDataRangeTransport?_.range:null,oe=Number.isInteger(_.rangeChunkSize)&&_.rangeChunkSize>0?_.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ee=_.worker instanceof PDFWorker?_.worker:null;const re=_.verbosity,z=typeof _.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(_.docBaseUrl)?_.docBaseUrl:null,K=typeof _.cMapUrl=="string"?_.cMapUrl:null,B=_.cMapPacked!==!1,T=_.CMapReaderFactory||DefaultCMapReaderFactory,f=typeof _.standardFontDataUrl=="string"?_.standardFontDataUrl:null,p=_.StandardFontDataFactory||DefaultStandardFontDataFactory,D=_.stopAtErrors!==!0,W=Number.isInteger(_.maxImageSize)&&_.maxImageSize>-1?_.maxImageSize:-1,q=_.isEvalSupported!==!1,X=typeof _.isOffscreenCanvasSupported=="boolean"?_.isOffscreenCanvasSupported:!_util.isNodeJS,se=Number.isInteger(_.canvasMaxAreaInBytes)?_.canvasMaxAreaInBytes:-1,pe=typeof _.disableFontFace=="boolean"?_.disableFontFace:_util.isNodeJS,_e=_.fontExtraProperties===!0,Ae=_.enableXfa===!0,ke=_.ownerDocument||globalThis.document,Te=_.disableRange===!0,Le=_.disableStream===!0,ue=_.disableAutoFetch===!0,de=_.pdfBug===!0,$=ne?ne.length:_.length??NaN,Q=typeof _.useSystemFonts=="boolean"?_.useSystemFonts:!_util.isNodeJS&&!pe,le=typeof _.useWorkerFetch=="boolean"?_.useWorkerFetch:T===_display_utils.DOMCMapReaderFactory&&p===_display_utils.DOMStandardFontDataFactory&&K&&f&&(0,_display_utils.isValidFetchUrl)(K,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(f,document.baseURI),me=_.canvasFactory||new DefaultCanvasFactory({ownerDocument:ke}),Ce=_.filterFactory||new DefaultFilterFactory({docId:C,ownerDocument:ke}),Ie=null;(0,_util.setVerbosityLevel)(re);const De={canvasFactory:me,filterFactory:Ce};if(le||(De.cMapReaderFactory=new T({baseUrl:K,isCompressed:B}),De.standardFontDataFactory=new p({baseUrl:f})),!ee){const je={verbosity:re,port:_worker_options.GlobalWorkerOptions.workerPort};ee=je.port?PDFWorker.fromPort(je):new PDFWorker(je),A._worker=ee}const he={docId:C,apiVersion:"3.11.174",data:m,password:te,disableAutoFetch:ue,rangeChunkSize:oe,length:$,docBaseUrl:z,enableXfa:Ae,evaluatorOptions:{maxImageSize:W,disableFontFace:pe,ignoreErrors:D,isEvalSupported:q,isOffscreenCanvasSupported:X,canvasMaxAreaInBytes:se,fontExtraProperties:_e,useSystemFonts:Q,cMapUrl:le?K:null,standardFontDataUrl:le?f:null}},Be={ignoreErrors:D,isEvalSupported:q,disableFontFace:pe,fontExtraProperties:_e,enableXfa:Ae,ownerDocument:ke,disableAutoFetch:ue,pdfBug:de,styleElement:Ie};return ee.promise.then(function(){if(A.destroyed)throw new Error("Loading aborted");const je=_fetchDocument(ee,he),at=new Promise(function(rt){let ht;ne?ht=new _transport_stream.PDFDataTransportStream({length:$,initialData:ne.initialData,progressiveDone:ne.progressiveDone,contentDispositionFilename:ne.contentDispositionFilename,disableRange:Te,disableStream:Le},ne):m||(ht=(Ze=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Ze):(0,_display_utils.isValidFetchUrl)(Ze.url)?new _displayFetch_stream.PDFFetchStream(Ze):new _displayNetwork.PDFNetworkStream(Ze))({url:Y,length:$,httpHeaders:k,withCredentials:H,rangeChunkSize:oe,disableRange:Te,disableStream:Le})),rt(ht)});return Promise.all([je,at]).then(function([rt,ht]){if(A.destroyed)throw new Error("Loading aborted");const qe=new _message_handler.MessageHandler(C,rt,ee.port),Ze=new WorkerTransport(qe,A,ht,Be,De);A._transport=Ze,qe.send("Ready",null)})}).catch(A._capability.reject),A}async function _fetchDocument(_,A){if(_.destroyed)throw new Error("Worker was destroyed");const C=await _.messageHandler.sendWithPromise("GetDocRequest",A,A.data?[A.data.buffer]:null);if(_.destroyed)throw new Error("Worker was destroyed");return C}function getUrlProp(_){if(_ instanceof URL)return _.href;try{return new URL(_,window.location).href}catch{if(_util.isNodeJS&&typeof _=="string")return _}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(_){if(_util.isNodeJS&&typeof Buffer<"u"&&_ instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength)return _;if(typeof _=="string")return(0,_util.stringToBytes)(_);if(typeof _=="object"&&!isNaN(_==null?void 0:_.length)||(0,_util.isArrayBuffer)(_))return new Uint8Array(_);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Si(s,o)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var A,C,Y;this.destroyed=!0;try{(A=this._worker)!=null&&A.port&&(this._worker._pendingDestroy=!0),await((C=this._transport)==null?void 0:C.destroy())}catch(m){throw(Y=this._worker)!=null&&Y.port&&delete this._worker._pendingDestroy,m}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};o=new WeakMap,ve(s,o,0);let PDFDocumentLoadingTask=s;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(A,C,Y=!1,m=null){this.length=A,this.initialData=C,this.progressiveDone=Y,this.contentDispositionFilename=m,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(A){this._rangeListeners.push(A)}addProgressListener(A){this._progressListeners.push(A)}addProgressiveReadListener(A){this._progressiveReadListeners.push(A)}addProgressiveDoneListener(A){this._progressiveDoneListeners.push(A)}onDataRange(A,C){for(const Y of this._rangeListeners)Y(A,C)}onDataProgress(A,C){this._readyCapability.promise.then(()=>{for(const Y of this._progressListeners)Y(A,C)})}onDataProgressiveRead(A){this._readyCapability.promise.then(()=>{for(const C of this._progressiveReadListeners)C(A)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const A of this._progressiveDoneListeners)A()})}transportReady(){this._readyCapability.resolve()}requestDataRange(A,C){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(A,C){this._pdfInfo=A,this._transport=C,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Y=>{if(!Y)return Y;const m=[];for(const k in Y)m.push(...Y[k]);return m}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(A){return this._transport.getPage(A)}getPageIndex(A){return this._transport.getPageIndex(A)}getDestinations(){return this._transport.getDestinations()}getDestination(A){return this._transport.getDestination(A)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(A=!1){return this._transport.startCleanup(A||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(A,C,Y,m=!1){ve(this,u);ve(this,c,null);ve(this,a,!1);this._pageIndex=A,this._pageInfo=C,this._transport=Y,this._stats=m?new _display_utils.StatTimer:null,this._pdfBug=m,this.commonObjs=Y.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:A,rotation:C=this.rotate,offsetX:Y=0,offsetY:m=0,dontFlip:k=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:A,rotation:C,offsetX:Y,offsetY:m,dontFlip:k})}getAnnotations({intent:A="display"}={}){const C=this._transport.getRenderingIntent(A);return this._transport.getAnnotations(this._pageIndex,C.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var A;return((A=this._transport._htmlForXfa)==null?void 0:A.children[this._pageIndex])||null}render({canvasContext:A,viewport:C,intent:Y="display",annotationMode:m=_util.AnnotationMode.ENABLE,transform:k=null,background:H=null,optionalContentConfigPromise:te=null,annotationCanvasMap:ne=null,pageColors:oe=null,printAnnotationStorage:ee=null}){var p,D;(p=this._stats)==null||p.time("Overall");const re=this._transport.getRenderingIntent(Y,m,ee);Ee(this,a,!1),ce(this,u,Is).call(this),te||(te=this._transport.getOptionalContentConfig());let z=this._intentStates.get(re.cacheKey);z||(z=Object.create(null),this._intentStates.set(re.cacheKey,z)),z.streamReaderCancelTimeout&&(clearTimeout(z.streamReaderCancelTimeout),z.streamReaderCancelTimeout=null);const K=!!(re.renderingIntent&_util.RenderingIntentFlag.PRINT);z.displayReadyCapability||(z.displayReadyCapability=new _util.PromiseCapability,z.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(D=this._stats)==null||D.time("Page Request"),this._pumpOperatorList(re));const B=W=>{var q,X;z.renderTasks.delete(T),(this._maybeCleanupAfterRender||K)&&Ee(this,a,!0),ce(this,u,jr).call(this,!K),W?(T.capability.reject(W),this._abortOperatorList({intentState:z,reason:W instanceof Error?W:new Error(W)})):T.capability.resolve(),(q=this._stats)==null||q.timeEnd("Rendering"),(X=this._stats)==null||X.timeEnd("Overall")},T=new InternalRenderTask({callback:B,params:{canvasContext:A,viewport:C,transform:k,background:H},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ne,operatorList:z.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!K,pdfBug:this._pdfBug,pageColors:oe});(z.renderTasks||(z.renderTasks=new Set)).add(T);const f=T.task;return Promise.all([z.displayReadyCapability.promise,te]).then(([W,q])=>{var X;if(this.destroyed){B();return}(X=this._stats)==null||X.time("Rendering"),T.initializeGraphics({transparency:W,optionalContentConfig:q}),T.operatorListChanged()}).catch(B),f}getOperatorList({intent:A="display",annotationMode:C=_util.AnnotationMode.ENABLE,printAnnotationStorage:Y=null}={}){var ne;function m(){H.operatorList.lastChunk&&(H.opListReadCapability.resolve(H.operatorList),H.renderTasks.delete(te))}const k=this._transport.getRenderingIntent(A,C,Y,!0);let H=this._intentStates.get(k.cacheKey);H||(H=Object.create(null),this._intentStates.set(k.cacheKey,H));let te;return H.opListReadCapability||(te=Object.create(null),te.operatorListChanged=m,H.opListReadCapability=new _util.PromiseCapability,(H.renderTasks||(H.renderTasks=new Set)).add(te),H.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ne=this._stats)==null||ne.time("Page Request"),this._pumpOperatorList(k)),H.opListReadCapability.promise}streamTextContent({includeMarkedContent:A=!1,disableNormalization:C=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:A===!0,disableNormalization:C===!0},{highWaterMark:100,size(m){return m.items.length}})}getTextContent(A={}){if(this._transport._htmlForXfa)return this.getXfa().then(Y=>_xfa_text.XfaText.textContent(Y));const C=this.streamTextContent(A);return new Promise(function(Y,m){function k(){H.read().then(function({value:ne,done:oe}){if(oe){Y(te);return}Object.assign(te.styles,ne.styles),te.items.push(...ne.items),k()},m)}const H=C.getReader(),te={items:[],styles:Object.create(null)};k()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const A=[];for(const C of this._intentStates.values())if(this._abortOperatorList({intentState:C,reason:new Error("Page was destroyed."),force:!0}),!C.opListReadCapability)for(const Y of C.renderTasks)A.push(Y.completed),Y.cancel();return this.objs.clear(),Ee(this,a,!1),ce(this,u,Is).call(this),Promise.all(A)}cleanup(A=!1){Ee(this,a,!0);const C=ce(this,u,jr).call(this,!1);return A&&C&&this._stats&&(this._stats=new _display_utils.StatTimer),C}_startRenderPage(A,C){var m,k;const Y=this._intentStates.get(C);Y&&((m=this._stats)==null||m.timeEnd("Page Request"),(k=Y.displayReadyCapability)==null||k.resolve(A))}_renderPageChunk(A,C){for(let Y=0,m=A.length;Y<m;Y++)C.operatorList.fnArray.push(A.fnArray[Y]),C.operatorList.argsArray.push(A.argsArray[Y]);C.operatorList.lastChunk=A.lastChunk,C.operatorList.separateAnnots=A.separateAnnots;for(const Y of C.renderTasks)Y.operatorListChanged();A.lastChunk&&ce(this,u,jr).call(this,!0)}_pumpOperatorList({renderingIntent:A,cacheKey:C,annotationStorageSerializable:Y}){const{map:m,transfers:k}=Y,te=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:A,cacheKey:C,annotationStorage:m},k).getReader(),ne=this._intentStates.get(C);ne.streamReader=te;const oe=()=>{te.read().then(({value:ee,done:re})=>{if(re){ne.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ee,ne),oe())},ee=>{if(ne.streamReader=null,!this._transport.destroyed){if(ne.operatorList){ne.operatorList.lastChunk=!0;for(const re of ne.renderTasks)re.operatorListChanged();ce(this,u,jr).call(this,!0)}if(ne.displayReadyCapability)ne.displayReadyCapability.reject(ee);else if(ne.opListReadCapability)ne.opListReadCapability.reject(ee);else throw ee}})};oe()}_abortOperatorList({intentState:A,reason:C,force:Y=!1}){if(A.streamReader){if(A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null),!Y){if(A.renderTasks.size>0)return;if(C instanceof _display_utils.RenderingCancelledException){let m=RENDERING_CANCELLED_TIMEOUT;C.extraDelay>0&&C.extraDelay<1e3&&(m+=C.extraDelay),A.streamReaderCancelTimeout=setTimeout(()=>{A.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:A,reason:C,force:!0})},m);return}}if(A.streamReader.cancel(new _util.AbortException(C.message)).catch(()=>{}),A.streamReader=null,!this._transport.destroyed){for(const[m,k]of this._intentStates)if(k===A){this._intentStates.delete(m);break}this.cleanup()}}}get stats(){return this._stats}}c=new WeakMap,a=new WeakMap,u=new WeakSet,jr=function(A=!1){if(ce(this,u,Is).call(this),!d(this,a)||this.destroyed)return!1;if(A)return Ee(this,c,setTimeout(()=>{Ee(this,c,null),ce(this,u,jr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:C,operatorList:Y}of this._intentStates.values())if(C.size>0||!Y.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ee(this,a,!1),!0},Is=function(){d(this,c)&&(clearTimeout(d(this,c)),Ee(this,c,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ve(this,G,new Set);ve(this,S,Promise.resolve())}postMessage(A,C){const Y={data:structuredClone(A,C?{transfer:C}:null)};d(this,S).then(()=>{for(const m of d(this,G))m.call(this,Y)})}addEventListener(A,C){d(this,G).add(C)}removeEventListener(A,C){d(this,G).delete(C)}terminate(){d(this,G).clear()}}G=new WeakMap,S=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const _=(w=document==null?void 0:document.currentScript)==null?void 0:w.src;_&&(PDFWorkerUtil.fallbackWorkerSrc=_.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(_,A){let C;try{if(C=new URL(_),!C.origin||C.origin==="null")return!1}catch{return!1}const Y=new URL(A,C);return C.origin===Y.origin},PDFWorkerUtil.createCDNWrapper=function(_){const A=`importScripts("${_}");`;return URL.createObjectURL(new Blob([A]))}}const _PDFWorker=class _PDFWorker{constructor({name:_=null,port:A=null,verbosity:C=(0,_util.getVerbosityLevel)()}={}){var Y;if(this.name=_,this.destroyed=!1,this.verbosity=C,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,A){if((Y=d(_PDFWorker,g))!=null&&Y.has(A))throw new Error("Cannot use more than one PDFWorker per port.");(d(_PDFWorker,g)||Ee(_PDFWorker,g,new WeakMap)).set(A,this),this._initializeFromPort(A);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(_){this._port=_,this._messageHandler=new _message_handler.MessageHandler("main","worker",_),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:_}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,_)||(_=PDFWorkerUtil.createCDNWrapper(new URL(_,window.location).href));const A=new Worker(_),C=new _message_handler.MessageHandler("main","worker",A),Y=()=>{A.removeEventListener("error",m),C.destroy(),A.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},m=()=>{this._webWorker||Y()};A.addEventListener("error",m),C.on("test",H=>{if(A.removeEventListener("error",m),this.destroyed){Y();return}H?(this._messageHandler=C,this._port=A,this._webWorker=A,this._readyCapability.resolve(),C.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),C.destroy(),A.terminate())}),C.on("ready",H=>{if(A.removeEventListener("error",m),this.destroyed){Y();return}try{k()}catch{this._setupFakeWorker()}});const k=()=>{const H=new Uint8Array;C.send("test",H,[H.buffer])};k();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(_=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const A=new LoopbackPort;this._port=A;const C=`fake${PDFWorkerUtil.fakeWorkerId++}`,Y=new _message_handler.MessageHandler(C+"_worker",C,A);_.setup(Y,A);const m=new _message_handler.MessageHandler(C,C+"_worker",A);this._messageHandler=m,this._readyCapability.resolve(),m.send("configure",{verbosity:this.verbosity})}).catch(_=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${_.message}".`))})}destroy(){var _;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(_=d(_PDFWorker,g))==null||_.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(_){var C;if(!(_!=null&&_.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const A=(C=d(this,g))==null?void 0:C.get(_.port);if(A){if(A._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return A}return new _PDFWorker(_)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var _;try{return((_=globalThis.pdfjsWorker)==null?void 0:_.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};g=new WeakMap,ve(_PDFWorker,g);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(A,C,Y,m,k){ve(this,M);ve(this,N,new Map);ve(this,F,new Map);ve(this,b,new Map);ve(this,E,null);this.messageHandler=A,this.loadingTask=C,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:m.ownerDocument,styleElement:m.styleElement}),this._params=m,this.canvasFactory=k.canvasFactory,this.filterFactory=k.filterFactory,this.cMapReaderFactory=k.cMapReaderFactory,this.standardFontDataFactory=k.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Y,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(A,C=_util.AnnotationMode.ENABLE,Y=null,m=!1){let k=_util.RenderingIntentFlag.DISPLAY,H=_annotation_storage.SerializableEmpty;switch(A){case"any":k=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":k=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${A}`)}switch(C){case _util.AnnotationMode.DISABLE:k+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:k+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:k+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,H=(k&_util.RenderingIntentFlag.PRINT&&Y instanceof _annotation_storage.PrintAnnotationStorage?Y:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${C}`)}return m&&(k+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:k,cacheKey:`${k}_${H.hash}`,annotationStorageSerializable:H}}destroy(){var Y;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Y=d(this,E))==null||Y.reject(new Error("Worker was destroyed during onPassword callback"));const A=[];for(const m of d(this,F).values())A.push(m._destroy());d(this,F).clear(),d(this,b).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const C=this.messageHandler.sendWithPromise("Terminate",null);return A.push(C),Promise.all(A).then(()=>{var m;this.commonObjs.clear(),this.fontLoader.clear(),d(this,N).clear(),this.filterFactory.destroy(),(m=this._networkStream)==null||m.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:A,loadingTask:C}=this;A.on("GetReader",(Y,m)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=k=>{this._lastProgress={loaded:k.loaded,total:k.total}},m.onPull=()=>{this._fullReader.read().then(function({value:k,done:H}){if(H){m.close();return}(0,_util.assert)(k instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),m.enqueue(new Uint8Array(k),1,[k])}).catch(k=>{m.error(k)})},m.onCancel=k=>{this._fullReader.cancel(k),m.ready.catch(H=>{if(!this.destroyed)throw H})}}),A.on("ReaderHeadersReady",Y=>{const m=new _util.PromiseCapability,k=this._fullReader;return k.headersReady.then(()=>{var H;(!k.isStreamingSupported||!k.isRangeSupported)&&(this._lastProgress&&((H=C.onProgress)==null||H.call(C,this._lastProgress)),k.onProgress=te=>{var ne;(ne=C.onProgress)==null||ne.call(C,{loaded:te.loaded,total:te.total})}),m.resolve({isStreamingSupported:k.isStreamingSupported,isRangeSupported:k.isRangeSupported,contentLength:k.contentLength})},m.reject),m.promise}),A.on("GetRangeReader",(Y,m)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const k=this._networkStream.getRangeReader(Y.begin,Y.end);if(!k){m.close();return}m.onPull=()=>{k.read().then(function({value:H,done:te}){if(te){m.close();return}(0,_util.assert)(H instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),m.enqueue(new Uint8Array(H),1,[H])}).catch(H=>{m.error(H)})},m.onCancel=H=>{k.cancel(H),m.ready.catch(te=>{if(!this.destroyed)throw te})}}),A.on("GetDoc",({pdfInfo:Y})=>{this._numPages=Y.numPages,this._htmlForXfa=Y.htmlForXfa,delete Y.htmlForXfa,C._capability.resolve(new PDFDocumentProxy(Y,this))}),A.on("DocException",function(Y){let m;switch(Y.name){case"PasswordException":m=new _util.PasswordException(Y.message,Y.code);break;case"InvalidPDFException":m=new _util.InvalidPDFException(Y.message);break;case"MissingPDFException":m=new _util.MissingPDFException(Y.message);break;case"UnexpectedResponseException":m=new _util.UnexpectedResponseException(Y.message,Y.status);break;case"UnknownErrorException":m=new _util.UnknownErrorException(Y.message,Y.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}C._capability.reject(m)}),A.on("PasswordRequest",Y=>{if(Ee(this,E,new _util.PromiseCapability),C.onPassword){const m=k=>{k instanceof Error?d(this,E).reject(k):d(this,E).resolve({password:k})};try{C.onPassword(m,Y.code)}catch(k){d(this,E).reject(k)}}else d(this,E).reject(new _util.PasswordException(Y.message,Y.code));return d(this,E).promise}),A.on("DataLoaded",Y=>{var m;(m=C.onProgress)==null||m.call(C,{loaded:Y.length,total:Y.length}),this.downloadInfoCapability.resolve(Y)}),A.on("StartRenderPage",Y=>{if(this.destroyed)return;d(this,F).get(Y.pageIndex)._startRenderPage(Y.transparency,Y.cacheKey)}),A.on("commonobj",([Y,m,k])=>{var H;if(!this.destroyed&&!this.commonObjs.has(Y))switch(m){case"Font":const te=this._params;if("error"in k){const ee=k.error;(0,_util.warn)(`Error during font loading: ${ee}`),this.commonObjs.resolve(Y,ee);break}const ne=te.pdfBug&&((H=globalThis.FontInspector)!=null&&H.enabled)?(ee,re)=>globalThis.FontInspector.fontAdded(ee,re):null,oe=new _font_loader.FontFaceObject(k,{isEvalSupported:te.isEvalSupported,disableFontFace:te.disableFontFace,ignoreErrors:te.ignoreErrors,inspectFont:ne});this.fontLoader.bind(oe).catch(ee=>A.sendWithPromise("FontFallback",{id:Y})).finally(()=>{!te.fontExtraProperties&&oe.data&&(oe.data=null),this.commonObjs.resolve(Y,oe)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Y,k);break;default:throw new Error(`Got unknown common object type ${m}`)}}),A.on("obj",([Y,m,k,H])=>{var ne;if(this.destroyed)return;const te=d(this,F).get(m);if(!te.objs.has(Y))switch(k){case"Image":if(te.objs.resolve(Y,H),H){let oe;if(H.bitmap){const{width:ee,height:re}=H;oe=ee*re*4}else oe=((ne=H.data)==null?void 0:ne.length)||0;oe>_util.MAX_IMAGE_SIZE_TO_CACHE&&(te._maybeCleanupAfterRender=!0)}break;case"Pattern":te.objs.resolve(Y,H);break;default:throw new Error(`Got unknown object type ${k}`)}}),A.on("DocProgress",Y=>{var m;this.destroyed||(m=C.onProgress)==null||m.call(C,{loaded:Y.loaded,total:Y.total})}),A.on("FetchBuiltInCMap",Y=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Y):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),A.on("FetchStandardFontData",Y=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Y):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Y;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:A,transfers:C}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:A,filename:((Y=this._fullReader)==null?void 0:Y.filename)??null},C).finally(()=>{this.annotationStorage.resetModified()})}getPage(A){if(!Number.isInteger(A)||A<=0||A>this._numPages)return Promise.reject(new Error("Invalid page request."));const C=A-1,Y=d(this,b).get(C);if(Y)return Y;const m=this.messageHandler.sendWithPromise("GetPage",{pageIndex:C}).then(k=>{if(this.destroyed)throw new Error("Transport destroyed");const H=new PDFPageProxy(C,k,this,this._params.pdfBug);return d(this,F).set(C,H),H});return d(this,b).set(C,m),m}getPageIndex(A){return typeof A!="object"||A===null||!Number.isInteger(A.num)||A.num<0||!Number.isInteger(A.gen)||A.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:A.num,gen:A.gen})}getAnnotations(A,C){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:A,intent:C})}getFieldObjects(){return ce(this,M,Ns).call(this,"GetFieldObjects")}hasJSActions(){return ce(this,M,Ns).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(A){return typeof A!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:A})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ce(this,M,Ns).call(this,"GetDocJSActions")}getPageJSActions(A){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:A})}getStructTree(A){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:A})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(A=>new _optional_content_config.OptionalContentConfig(A))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const A="GetMetadata",C=d(this,N).get(A);if(C)return C;const Y=this.messageHandler.sendWithPromise(A,null).then(m=>{var k,H;return{info:m[0],metadata:m[1]?new _metadata.Metadata(m[1]):null,contentDispositionFilename:((k=this._fullReader)==null?void 0:k.filename)??null,contentLength:((H=this._fullReader)==null?void 0:H.contentLength)??null}});return d(this,N).set(A,Y),Y}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(A=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const C of d(this,F).values())if(!C.cleanup())throw new Error(`startCleanup: Page ${C.pageNumber} is currently rendering.`);this.commonObjs.clear(),A||this.fontLoader.clear(),d(this,N).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:A,enableXfa:C}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:A,enableXfa:C})}}N=new WeakMap,F=new WeakMap,b=new WeakMap,E=new WeakMap,M=new WeakSet,Ns=function(A,C=null){const Y=d(this,N).get(A);if(Y)return Y;const m=this.messageHandler.sendWithPromise(A,C);return d(this,N).set(A,m),m};class PDFObjects{constructor(){ve(this,L);ve(this,x,Object.create(null))}get(A,C=null){if(C){const m=ce(this,L,La).call(this,A);return m.capability.promise.then(()=>C(m.data)),null}const Y=d(this,x)[A];if(!(Y!=null&&Y.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${A}.`);return Y.data}has(A){const C=d(this,x)[A];return(C==null?void 0:C.capability.settled)||!1}resolve(A,C=null){const Y=ce(this,L,La).call(this,A);Y.data=C,Y.capability.resolve()}clear(){var A;for(const C in d(this,x)){const{data:Y}=d(this,x)[C];(A=Y==null?void 0:Y.bitmap)==null||A.close()}Ee(this,x,Object.create(null))}}x=new WeakMap,L=new WeakSet,La=function(A){var C;return(C=d(this,x))[A]||(C[A]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(A){ve(this,I,null);Ee(this,I,A),this.onContinue=null}get promise(){return d(this,I).capability.promise}cancel(A=0){d(this,I).cancel(null,A)}get separateAnnots(){const{separateAnnots:A}=d(this,I).operatorList;if(!A)return!1;const{annotationCanvasMap:C}=d(this,I);return A.form||A.canvas&&(C==null?void 0:C.size)>0}}I=new WeakMap,exports.RenderTask=RenderTask;const R=class R{constructor({callback:A,params:C,objs:Y,commonObjs:m,annotationCanvasMap:k,operatorList:H,pageIndex:te,canvasFactory:ne,filterFactory:oe,useRequestAnimationFrame:ee=!1,pdfBug:re=!1,pageColors:z=null}){this.callback=A,this.params=C,this.objs=Y,this.commonObjs=m,this.annotationCanvasMap=k,this.operatorListIdx=null,this.operatorList=H,this._pageIndex=te,this.canvasFactory=ne,this.filterFactory=oe,this._pdfBug=re,this.pageColors=z,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ee===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=C.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:A=!1,optionalContentConfig:C}){var te,ne;if(this.cancelled)return;if(this._canvas){if(d(R,y).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(R,y).add(this._canvas)}this._pdfBug&&((te=globalThis.StepperManager)!=null&&te.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Y,viewport:m,transform:k,background:H}=this.params;this.gfx=new _canvas.CanvasGraphics(Y,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:C},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:k,viewport:m,transparency:A,background:H}),this.operatorListIdx=0,this.graphicsReady=!0,(ne=this.graphicsReadyCallback)==null||ne.call(this)}cancel(A=null,C=0){var Y;this.running=!1,this.cancelled=!0,(Y=this.gfx)==null||Y.endDrawing(),d(R,y).delete(this._canvas),this.callback(A||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,C))}operatorListChanged(){var A;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(A=this.stepper)==null||A.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(R,y).delete(this._canvas),this.callback())))}};y=new WeakMap,ve(R,y,new WeakSet);let InternalRenderTask=R;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(o,s,c)=>{var w,g,N,jc,b;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var a=c(1),u=c(4),P=c(8);const O=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=O;class G{constructor(){ve(this,N);ve(this,w,!1);ve(this,g,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(M,v){const x=d(this,g).get(M);return x===void 0?v:Object.assign(v,x)}getRawValue(M){return d(this,g).get(M)}remove(M){if(d(this,g).delete(M),d(this,g).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const v of d(this,g).values())if(v instanceof u.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(M,v){const x=d(this,g).get(M);let L=!1;if(x!==void 0)for(const[U,I]of Object.entries(v))x[U]!==I&&(L=!0,x[U]=I);else L=!0,d(this,g).set(M,v);L&&ce(this,N,jc).call(this),v instanceof u.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(v.constructor._type)}has(M){return d(this,g).has(M)}getAll(){return d(this,g).size>0?(0,a.objectFromMap)(d(this,g)):null}setAll(M){for(const[v,x]of Object.entries(M))this.setValue(v,x)}get size(){return d(this,g).size}resetModified(){d(this,w)&&(Ee(this,w,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new S(this)}get serializable(){if(d(this,g).size===0)return O;const M=new Map,v=new P.MurmurHash3_64,x=[],L=Object.create(null);let U=!1;for(const[I,y]of d(this,g)){const R=y instanceof u.AnnotationEditor?y.serialize(!1,L):y;R&&(M.set(I,R),v.update(`${I}:${JSON.stringify(R)}`),U||(U=!!R.bitmap))}if(U)for(const I of M.values())I.bitmap&&x.push(I.bitmap);return M.size>0?{map:M,hash:v.hexdigest(),transfers:x}:O}}w=new WeakMap,g=new WeakMap,N=new WeakSet,jc=function(){d(this,w)||(Ee(this,w,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=G;class S extends G{constructor(v){super();ve(this,b);const{map:x,hash:L,transfers:U}=v.serializable,I=structuredClone(x,U?{transfer:U}:null);Ee(this,b,{map:I,hash:L,transfers:U})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,b)}}b=new WeakMap,s.PrintAnnotationStorage=S},(o,s,c)=>{var S,w,g,N,F,b,E,M,v,x,L,U,I,y,R,Ma,Da,C,Oa,Ia,Bc,Uc,zc,Na,$c;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var a=c(5),u=c(1),P=c(6);const ee=class ee{constructor(z){ve(this,R);ve(this,S,"");ve(this,w,!1);ve(this,g,null);ve(this,N,null);ve(this,F,null);ve(this,b,!1);ve(this,E,null);ve(this,M,this.focusin.bind(this));ve(this,v,this.focusout.bind(this));ve(this,x,!1);ve(this,L,!1);ve(this,U,!1);At(this,"_initialOptions",Object.create(null));At(this,"_uiManager",null);At(this,"_focusEventsAllowed",!0);At(this,"_l10nPromise",null);ve(this,I,!1);ve(this,y,ee._zIndex++);this.constructor===ee&&(0,u.unreachable)("Cannot initialize AnnotationEditor."),this.parent=z.parent,this.id=z.id,this.width=this.height=null,this.pageIndex=z.parent.pageIndex,this.name=z.name,this.div=null,this._uiManager=z.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=z.isCentered,this._structTreeParentId=null;const{rotation:K,rawDims:{pageWidth:B,pageHeight:T,pageX:f,pageY:p}}=this.parent.viewport;this.rotation=K,this.pageRotation=(360+K-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[B,T],this.pageTranslation=[f,p];const[D,W]=this.parentDimensions;this.x=z.x/D,this.y=z.y/W,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,u.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(z){const K=new G({id:z.parent.getNextId(),parent:z.parent,uiManager:z._uiManager});K.annotationElementId=z.annotationElementId,K.deleted=!0,K._uiManager.addToAnnotationStorage(K)}static initialize(z,K=null){if(ee._l10nPromise||(ee._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(T=>[T,z.get(T)]))),K!=null&&K.strings)for(const T of K.strings)ee._l10nPromise.set(T,z.get(T));if(ee._borderLineWidth!==-1)return;const B=getComputedStyle(document.documentElement);ee._borderLineWidth=parseFloat(B.getPropertyValue("--outline-width"))||0}static updateDefaultParams(z,K){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(z){return!1}static paste(z,K){(0,u.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,I)}set _isDraggable(z){var K;Ee(this,I,z),(K=this.div)==null||K.classList.toggle("draggable",z)}center(){const[z,K]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*K/(z*2),this.y+=this.width*z/(K*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*K/(z*2),this.y-=this.width*z/(K*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(z){this._uiManager.addCommands(z)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,y)}setParent(z){z!==null&&(this.pageIndex=z.pageIndex,this.pageDimensions=z.pageDimensions),this.parent=z}focusin(z){this._focusEventsAllowed&&(d(this,x)?Ee(this,x,!1):this.parent.setSelected(this))}focusout(z){var B;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const K=z.relatedTarget;K!=null&&K.closest(`#${this.id}`)||(z.preventDefault(),(B=this.parent)!=null&&B.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(z,K,B,T){const[f,p]=this.parentDimensions;[B,T]=this.screenToPageTranslation(B,T),this.x=(z+B)/f,this.y=(K+T)/p,this.fixAndSetPosition()}translate(z,K){ce(this,R,Ma).call(this,this.parentDimensions,z,K)}translateInPage(z,K){ce(this,R,Ma).call(this,this.pageDimensions,z,K),this.div.scrollIntoView({block:"nearest"})}drag(z,K){const[B,T]=this.parentDimensions;if(this.x+=z/B,this.y+=K/T,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:q,y:X}=this.div.getBoundingClientRect();this.parent.findNewParent(this,q,X)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:f,y:p}=this;const[D,W]=ce(this,R,Da).call(this);f+=D,p+=W,this.div.style.left=`${(100*f).toFixed(2)}%`,this.div.style.top=`${(100*p).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[z,K]=this.pageDimensions;let{x:B,y:T,width:f,height:p}=this;switch(f*=z,p*=K,B*=z,T*=K,this.rotation){case 0:B=Math.max(0,Math.min(z-f,B)),T=Math.max(0,Math.min(K-p,T));break;case 90:B=Math.max(0,Math.min(z-p,B)),T=Math.min(K,Math.max(f,T));break;case 180:B=Math.min(z,Math.max(f,B)),T=Math.min(K,Math.max(p,T));break;case 270:B=Math.min(z,Math.max(p,B)),T=Math.max(0,Math.min(K-f,T));break}this.x=B/=z,this.y=T/=K;const[D,W]=ce(this,R,Da).call(this);B+=D,T+=W;const{style:q}=this.div;q.left=`${(100*B).toFixed(2)}%`,q.top=`${(100*T).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(z,K){var B;return ce(B=ee,C,Oa).call(B,z,K,this.parentRotation)}pageTranslationToScreen(z,K){var B;return ce(B=ee,C,Oa).call(B,z,K,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:z,pageDimensions:[K,B]}=this,T=K*z,f=B*z;return u.FeatureTest.isCSSRoundSupported?[Math.round(T),Math.round(f)]:[T,f]}setDims(z,K){var f;const[B,T]=this.parentDimensions;this.div.style.width=`${(100*z/B).toFixed(2)}%`,d(this,b)||(this.div.style.height=`${(100*K/T).toFixed(2)}%`),(f=d(this,g))==null||f.classList.toggle("small",z<ee.SMALL_EDITOR_SIZE||K<ee.SMALL_EDITOR_SIZE)}fixDims(){const{style:z}=this.div,{height:K,width:B}=z,T=B.endsWith("%"),f=!d(this,b)&&K.endsWith("%");if(T&&f)return;const[p,D]=this.parentDimensions;T||(z.width=`${(100*parseFloat(B)/p).toFixed(2)}%`),!d(this,b)&&!f&&(z.height=`${(100*parseFloat(K)/D).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(d(this,g))return;const z=Ee(this,g,document.createElement("button"));z.className="altText";const K=await ee._l10nPromise.get("editor_alt_text_button_label");z.textContent=K,z.setAttribute("aria-label",K),z.tabIndex="0",z.addEventListener("contextmenu",P.noContextMenu),z.addEventListener("pointerdown",B=>B.stopPropagation()),z.addEventListener("click",B=>{B.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),z.addEventListener("keydown",B=>{B.target===z&&B.key==="Enter"&&(B.preventDefault(),this._uiManager.editAltText(this))}),ce(this,R,Na).call(this),this.div.append(z),ee.SMALL_EDITOR_SIZE||(ee.SMALL_EDITOR_SIZE=Math.min(128,Math.round(z.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:d(this,S),decorative:d(this,w)}}set altTextData({altText:z,decorative:K}){d(this,S)===z&&d(this,w)===K||(Ee(this,S,z),Ee(this,w,K),ce(this,R,Na).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",d(this,M)),this.div.addEventListener("focusout",d(this,v));const[z,K]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*K/z).toFixed(2)}%`,this.div.style.maxHeight=`${(100*z/K).toFixed(2)}%`);const[B,T]=this.getInitialTranslation();return this.translate(B,T),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(z){const{isMac:K}=u.FeatureTest.platform;if(z.button!==0||z.ctrlKey&&K){z.preventDefault();return}Ee(this,x,!0),ce(this,R,$c).call(this,z)}moveInDOM(){var z;(z=this.parent)==null||z.moveEditorInDOM(this)}_setParentAndPosition(z,K,B){z.changeParent(this),this.x=K,this.y=B,this.fixAndSetPosition()}getRect(z,K){const B=this.parentScale,[T,f]=this.pageDimensions,[p,D]=this.pageTranslation,W=z/B,q=K/B,X=this.x*T,se=this.y*f,pe=this.width*T,_e=this.height*f;switch(this.rotation){case 0:return[X+W+p,f-se-q-_e+D,X+W+pe+p,f-se-q+D];case 90:return[X+q+p,f-se+W+D,X+q+_e+p,f-se+W+pe+D];case 180:return[X-W-pe+p,f-se+q+D,X-W+p,f-se+q+_e+D];case 270:return[X-q-_e+p,f-se-W-pe+D,X-q+p,f-se-W+D];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(z,K){const[B,T,f,p]=z,D=f-B,W=p-T;switch(this.rotation){case 0:return[B,K-p,D,W];case 90:return[B,K-T,W,D];case 180:return[f,K-T,D,W];case 270:return[f,K-p,W,D];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ee(this,U,!0)}disableEditMode(){Ee(this,U,!1)}isInEditMode(){return d(this,U)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var z,K;(z=this.div)==null||z.addEventListener("focusin",d(this,M)),(K=this.div)==null||K.addEventListener("focusout",d(this,v))}serialize(z=!1,K=null){(0,u.unreachable)("An editor must be serializable")}static deserialize(z,K,B){const T=new this.prototype.constructor({parent:K,id:K.getNextId(),uiManager:B});T.rotation=z.rotation;const[f,p]=T.pageDimensions,[D,W,q,X]=T.getRectInCurrentCoords(z.rect,p);return T.x=D/f,T.y=W/p,T.width=q/f,T.height=X/p,T}remove(){var z;this.div.removeEventListener("focusin",d(this,M)),this.div.removeEventListener("focusout",d(this,v)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(z=d(this,g))==null||z.remove(),Ee(this,g,null),Ee(this,N,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ce(this,R,Bc).call(this),d(this,E).classList.remove("hidden"))}select(){var z;this.makeResizable(),(z=this.div)==null||z.classList.add("selectedEditor")}unselect(){var z,K,B;(z=d(this,E))==null||z.classList.add("hidden"),(K=this.div)==null||K.classList.remove("selectedEditor"),(B=this.div)!=null&&B.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(z,K){}disableEditing(){d(this,g)&&(d(this,g).hidden=!0)}enableEditing(){d(this,g)&&(d(this,g).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return d(this,L)}set isEditing(z){Ee(this,L,z),this.parent&&(z?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(z,K){Ee(this,b,!0);const B=z/K,{style:T}=this.div;T.aspectRatio=B,T.height="auto"}static get MIN_SIZE(){return 16}};S=new WeakMap,w=new WeakMap,g=new WeakMap,N=new WeakMap,F=new WeakMap,b=new WeakMap,E=new WeakMap,M=new WeakMap,v=new WeakMap,x=new WeakMap,L=new WeakMap,U=new WeakMap,I=new WeakMap,y=new WeakMap,R=new WeakSet,Ma=function([z,K],B,T){[B,T]=this.screenToPageTranslation(B,T),this.x+=B/z,this.y+=T/K,this.fixAndSetPosition()},Da=function(){const[z,K]=this.parentDimensions,{_borderLineWidth:B}=ee,T=B/z,f=B/K;switch(this.rotation){case 90:return[-T,f];case 180:return[T,f];case 270:return[T,-f];default:return[-T,-f]}},C=new WeakSet,Oa=function(z,K,B){switch(B){case 90:return[K,-z];case 180:return[-z,-K];case 270:return[-K,z];default:return[z,K]}},Ia=function(z){switch(z){case 90:{const[K,B]=this.pageDimensions;return[0,-K/B,B/K,0]}case 180:return[-1,0,0,-1];case 270:{const[K,B]=this.pageDimensions;return[0,K/B,-B/K,0]}default:return[1,0,0,1]}},Bc=function(){if(d(this,E))return;Ee(this,E,document.createElement("div")),d(this,E).classList.add("resizers");const z=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||z.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const K of z){const B=document.createElement("div");d(this,E).append(B),B.classList.add("resizer",K),B.addEventListener("pointerdown",ce(this,R,Uc).bind(this,K)),B.addEventListener("contextmenu",P.noContextMenu)}this.div.prepend(d(this,E))},Uc=function(z,K){K.preventDefault();const{isMac:B}=u.FeatureTest.platform;if(K.button!==0||K.ctrlKey&&B)return;const T=ce(this,R,zc).bind(this,z),f=this._isDraggable;this._isDraggable=!1;const p={passive:!0,capture:!0};window.addEventListener("pointermove",T,p);const D=this.x,W=this.y,q=this.width,X=this.height,se=this.parent.div.style.cursor,pe=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(K.target).cursor;const _e=()=>{this._isDraggable=f,window.removeEventListener("pointerup",_e),window.removeEventListener("blur",_e),window.removeEventListener("pointermove",T,p),this.parent.div.style.cursor=se,this.div.style.cursor=pe;const Ae=this.x,ke=this.y,Te=this.width,Le=this.height;Ae===D&&ke===W&&Te===q&&Le===X||this.addCommands({cmd:()=>{this.width=Te,this.height=Le,this.x=Ae,this.y=ke;const[ue,de]=this.parentDimensions;this.setDims(ue*Te,de*Le),this.fixAndSetPosition()},undo:()=>{this.width=q,this.height=X,this.x=D,this.y=W;const[ue,de]=this.parentDimensions;this.setDims(ue*q,de*X),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",_e),window.addEventListener("blur",_e)},zc=function(z,K){const[B,T]=this.parentDimensions,f=this.x,p=this.y,D=this.width,W=this.height,q=ee.MIN_SIZE/B,X=ee.MIN_SIZE/T,se=qe=>Math.round(qe*1e4)/1e4,pe=ce(this,R,Ia).call(this,this.rotation),_e=(qe,Ze)=>[pe[0]*qe+pe[2]*Ze,pe[1]*qe+pe[3]*Ze],Ae=ce(this,R,Ia).call(this,360-this.rotation),ke=(qe,Ze)=>[Ae[0]*qe+Ae[2]*Ze,Ae[1]*qe+Ae[3]*Ze];let Te,Le,ue=!1,de=!1;switch(z){case"topLeft":ue=!0,Te=(qe,Ze)=>[0,0],Le=(qe,Ze)=>[qe,Ze];break;case"topMiddle":Te=(qe,Ze)=>[qe/2,0],Le=(qe,Ze)=>[qe/2,Ze];break;case"topRight":ue=!0,Te=(qe,Ze)=>[qe,0],Le=(qe,Ze)=>[0,Ze];break;case"middleRight":de=!0,Te=(qe,Ze)=>[qe,Ze/2],Le=(qe,Ze)=>[0,Ze/2];break;case"bottomRight":ue=!0,Te=(qe,Ze)=>[qe,Ze],Le=(qe,Ze)=>[0,0];break;case"bottomMiddle":Te=(qe,Ze)=>[qe/2,Ze],Le=(qe,Ze)=>[qe/2,0];break;case"bottomLeft":ue=!0,Te=(qe,Ze)=>[0,Ze],Le=(qe,Ze)=>[qe,0];break;case"middleLeft":de=!0,Te=(qe,Ze)=>[0,Ze/2],Le=(qe,Ze)=>[qe,Ze/2];break}const $=Te(D,W),Q=Le(D,W);let le=_e(...Q);const me=se(f+le[0]),Ce=se(p+le[1]);let Ie=1,De=1,[he,Be]=this.screenToPageTranslation(K.movementX,K.movementY);if([he,Be]=ke(he/B,Be/T),ue){const qe=Math.hypot(D,W);Ie=De=Math.max(Math.min(Math.hypot(Q[0]-$[0]-he,Q[1]-$[1]-Be)/qe,1/D,1/W),q/D,X/W)}else de?Ie=Math.max(q,Math.min(1,Math.abs(Q[0]-$[0]-he)))/D:De=Math.max(X,Math.min(1,Math.abs(Q[1]-$[1]-Be)))/W;const je=se(D*Ie),at=se(W*De);le=_e(...Le(je,at));const rt=me-le[0],ht=Ce-le[1];this.width=je,this.height=at,this.x=rt,this.y=ht,this.setDims(B*je,T*at),this.fixAndSetPosition()},Na=async function(){var B;const z=d(this,g);if(!z)return;if(!d(this,S)&&!d(this,w)){z.classList.remove("done"),(B=d(this,N))==null||B.remove();return}ee._l10nPromise.get("editor_alt_text_edit_button_label").then(T=>{z.setAttribute("aria-label",T)});let K=d(this,N);if(!K){Ee(this,N,K=document.createElement("span")),K.className="tooltip",K.setAttribute("role","tooltip");const T=K.id=`alt-text-tooltip-${this.id}`;z.setAttribute("aria-describedby",T);const f=100;z.addEventListener("mouseenter",()=>{Ee(this,F,setTimeout(()=>{Ee(this,F,null),d(this,N).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},f))}),z.addEventListener("mouseleave",()=>{var p;clearTimeout(d(this,F)),Ee(this,F,null),(p=d(this,N))==null||p.classList.remove("show")})}z.classList.add("done"),K.innerText=d(this,w)?await ee._l10nPromise.get("editor_alt_text_decorative_tooltip"):d(this,S),K.parentNode||z.append(K)},$c=function(z){if(!this._isDraggable)return;const K=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let B,T;K&&(B={passive:!0,capture:!0},T=p=>{const[D,W]=this.screenToPageTranslation(p.movementX,p.movementY);this._uiManager.dragSelectedEditors(D,W)},window.addEventListener("pointermove",T,B));const f=()=>{if(window.removeEventListener("pointerup",f),window.removeEventListener("blur",f),K&&window.removeEventListener("pointermove",T,B),Ee(this,x,!1),!this._uiManager.endDragSession()){const{isMac:p}=u.FeatureTest.platform;z.ctrlKey&&!p||z.shiftKey||z.metaKey&&p?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",f),window.addEventListener("blur",f)},ve(ee,C),At(ee,"_borderLineWidth",-1),At(ee,"_colorManager",new a.ColorManager),At(ee,"_zIndex",1),At(ee,"SMALL_EDITOR_SIZE",0);let O=ee;s.AnnotationEditor=O;class G extends O{constructor(z){super(z),this.annotationElementId=z.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(o,s,c)=>{var b,E,M,v,x,ja,I,y,R,_,A,Hc,m,k,H,te,ne,oe,ee,re,z,K,B,T,f,p,D,W,q,X,se,pe,_e,Ae,ke,Te,Le,ue,de,$,Q,le,me,Ce,Ie,De,he,Wc,Ba,Ua,js,za,$a,pn,wi,Vc,Gc,Ha,bi,Wa;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=P,s.opacityToHex=O;var a=c(1),u=c(6);function P(pt,Z,Pe){for(const Ue of Pe)Z.addEventListener(Ue,pt[Ue].bind(pt))}function O(pt){return Math.round(Math.min(255,Math.max(1,255*pt))).toString(16).padStart(2,"0")}class G{constructor(){ve(this,b,0)}getId(){return`${a.AnnotationEditorPrefix}${Si(this,b)._++}`}}b=new WeakMap;const U=class U{constructor(){ve(this,x);ve(this,E,(0,a.getUuid)());ve(this,M,0);ve(this,v,null)}static get _isSVGFittingCanvas(){const Z='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Ue=new OffscreenCanvas(1,3).getContext("2d"),Je=new Image;Je.src=Z;const et=Je.decode().then(()=>(Ue.drawImage(Je,0,0,1,1,0,0,1,3),new Uint32Array(Ue.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",et)}async getFromFile(Z){const{lastModified:Pe,name:Ue,size:Je,type:et}=Z;return ce(this,x,ja).call(this,`${Pe}_${Ue}_${Je}_${et}`,Z)}async getFromUrl(Z){return ce(this,x,ja).call(this,Z,Z)}async getFromId(Z){d(this,v)||Ee(this,v,new Map);const Pe=d(this,v).get(Z);return Pe?Pe.bitmap?(Pe.refCounter+=1,Pe):Pe.file?this.getFromFile(Pe.file):this.getFromUrl(Pe.url):null}getSvgUrl(Z){const Pe=d(this,v).get(Z);return Pe!=null&&Pe.isSvg?Pe.svgUrl:null}deleteId(Z){d(this,v)||Ee(this,v,new Map);const Pe=d(this,v).get(Z);Pe&&(Pe.refCounter-=1,Pe.refCounter===0&&(Pe.bitmap=null))}isValidId(Z){return Z.startsWith(`image_${d(this,E)}_`)}};E=new WeakMap,M=new WeakMap,v=new WeakMap,x=new WeakSet,ja=async function(Z,Pe){d(this,v)||Ee(this,v,new Map);let Ue=d(this,v).get(Z);if(Ue===null)return null;if(Ue!=null&&Ue.bitmap)return Ue.refCounter+=1,Ue;try{Ue||(Ue={bitmap:null,id:`image_${d(this,E)}_${Si(this,M)._++}`,refCounter:0,isSvg:!1});let Je;if(typeof Pe=="string"){Ue.url=Pe;const et=await fetch(Pe);if(!et.ok)throw new Error(et.statusText);Je=await et.blob()}else Je=Ue.file=Pe;if(Je.type==="image/svg+xml"){const et=U._isSVGFittingCanvas,Ge=new FileReader,J=new Image,V=new Promise((ae,Se)=>{J.onload=()=>{Ue.bitmap=J,Ue.isSvg=!0,ae()},Ge.onload=async()=>{const be=Ue.svgUrl=Ge.result;J.src=await et?`${be}#svgView(preserveAspectRatio(none))`:be},J.onerror=Ge.onerror=Se});Ge.readAsDataURL(Je),await V}else Ue.bitmap=await createImageBitmap(Je);Ue.refCounter=1}catch(Je){console.error(Je),Ue=null}return d(this,v).set(Z,Ue),Ue&&d(this,v).set(Ue.id,Ue),Ue};let S=U;class w{constructor(Z=128){ve(this,I,[]);ve(this,y,!1);ve(this,R);ve(this,_,-1);Ee(this,R,Z)}add({cmd:Z,undo:Pe,mustExec:Ue,type:Je=NaN,overwriteIfSameType:et=!1,keepUndo:Ge=!1}){if(Ue&&Z(),d(this,y))return;const J={cmd:Z,undo:Pe,type:Je};if(d(this,_)===-1){d(this,I).length>0&&(d(this,I).length=0),Ee(this,_,0),d(this,I).push(J);return}if(et&&d(this,I)[d(this,_)].type===Je){Ge&&(J.undo=d(this,I)[d(this,_)].undo),d(this,I)[d(this,_)]=J;return}const V=d(this,_)+1;V===d(this,R)?d(this,I).splice(0,1):(Ee(this,_,V),V<d(this,I).length&&d(this,I).splice(V)),d(this,I).push(J)}undo(){d(this,_)!==-1&&(Ee(this,y,!0),d(this,I)[d(this,_)].undo(),Ee(this,y,!1),Ee(this,_,d(this,_)-1))}redo(){d(this,_)<d(this,I).length-1&&(Ee(this,_,d(this,_)+1),Ee(this,y,!0),d(this,I)[d(this,_)].cmd(),Ee(this,y,!1))}hasSomethingToUndo(){return d(this,_)!==-1}hasSomethingToRedo(){return d(this,_)<d(this,I).length-1}destroy(){Ee(this,I,null)}}I=new WeakMap,y=new WeakMap,R=new WeakMap,_=new WeakMap,s.CommandManager=w;class g{constructor(Z){ve(this,A);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Pe}=a.FeatureTest.platform;for(const[Ue,Je,et={}]of Z)for(const Ge of Ue){const J=Ge.startsWith("mac+");Pe&&J?(this.callbacks.set(Ge.slice(4),{callback:Je,options:et}),this.allKeys.add(Ge.split("+").at(-1))):!Pe&&!J&&(this.callbacks.set(Ge,{callback:Je,options:et}),this.allKeys.add(Ge.split("+").at(-1)))}}exec(Z,Pe){if(!this.allKeys.has(Pe.key))return;const Ue=this.callbacks.get(ce(this,A,Hc).call(this,Pe));if(!Ue)return;const{callback:Je,options:{bubbles:et=!1,args:Ge=[],checker:J=null}}=Ue;J&&!J(Z,Pe)||(Je.bind(Z,...Ge)(),et||(Pe.stopPropagation(),Pe.preventDefault()))}}A=new WeakSet,Hc=function(Z){Z.altKey&&this.buffer.push("alt"),Z.ctrlKey&&this.buffer.push("ctrl"),Z.metaKey&&this.buffer.push("meta"),Z.shiftKey&&this.buffer.push("shift"),this.buffer.push(Z.key);const Pe=this.buffer.join("+");return this.buffer.length=0,Pe},s.KeyboardManager=g;const Y=class Y{get _colors(){const Z=new Map([["CanvasText",null],["Canvas",null]]);return(0,u.getColorValues)(Z),(0,a.shadow)(this,"_colors",Z)}convert(Z){const Pe=(0,u.getRGB)(Z);if(!window.matchMedia("(forced-colors: active)").matches)return Pe;for(const[Ue,Je]of this._colors)if(Je.every((et,Ge)=>et===Pe[Ge]))return Y._colorsMapping.get(Ue);return Pe}getHexCode(Z){const Pe=this._colors.get(Z);return Pe?a.Util.makeHexColor(...Pe):Z}};At(Y,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let N=Y;s.ColorManager=N;const yt=class yt{constructor(Z,Pe,Ue,Je,et,Ge){ve(this,he);ve(this,m,null);ve(this,k,new Map);ve(this,H,new Map);ve(this,te,null);ve(this,ne,null);ve(this,oe,new w);ve(this,ee,0);ve(this,re,new Set);ve(this,z,null);ve(this,K,null);ve(this,B,new Set);ve(this,T,null);ve(this,f,new G);ve(this,p,!1);ve(this,D,!1);ve(this,W,null);ve(this,q,a.AnnotationEditorType.NONE);ve(this,X,new Set);ve(this,se,null);ve(this,pe,this.blur.bind(this));ve(this,_e,this.focus.bind(this));ve(this,Ae,this.copy.bind(this));ve(this,ke,this.cut.bind(this));ve(this,Te,this.paste.bind(this));ve(this,Le,this.keydown.bind(this));ve(this,ue,this.onEditingAction.bind(this));ve(this,de,this.onPageChanging.bind(this));ve(this,$,this.onScaleChanging.bind(this));ve(this,Q,this.onRotationChanging.bind(this));ve(this,le,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ve(this,me,[0,0]);ve(this,Ce,null);ve(this,Ie,null);ve(this,De,null);Ee(this,Ie,Z),Ee(this,De,Pe),Ee(this,te,Ue),this._eventBus=Je,this._eventBus._on("editingaction",d(this,ue)),this._eventBus._on("pagechanging",d(this,de)),this._eventBus._on("scalechanging",d(this,$)),this._eventBus._on("rotationchanging",d(this,Q)),Ee(this,ne,et.annotationStorage),Ee(this,T,et.filterFactory),Ee(this,se,Ge),this.viewParameters={realScale:u.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Z=yt.prototype,Pe=et=>{const{activeElement:Ge}=document;return Ge&&d(et,Ie).contains(Ge)&&et.hasSomethingToControl()},Ue=this.TRANSLATE_SMALL,Je=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new g([[["ctrl+a","mac+meta+a"],Z.selectAll],[["ctrl+z","mac+meta+z"],Z.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Z.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Z.delete],[["Escape","mac+Escape"],Z.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Z.translateSelectedEditors,{args:[-Ue,0],checker:Pe}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Z.translateSelectedEditors,{args:[-Je,0],checker:Pe}],[["ArrowRight","mac+ArrowRight"],Z.translateSelectedEditors,{args:[Ue,0],checker:Pe}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Z.translateSelectedEditors,{args:[Je,0],checker:Pe}],[["ArrowUp","mac+ArrowUp"],Z.translateSelectedEditors,{args:[0,-Ue],checker:Pe}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Z.translateSelectedEditors,{args:[0,-Je],checker:Pe}],[["ArrowDown","mac+ArrowDown"],Z.translateSelectedEditors,{args:[0,Ue],checker:Pe}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Z.translateSelectedEditors,{args:[0,Je],checker:Pe}]]))}destroy(){ce(this,he,js).call(this),ce(this,he,Ba).call(this),this._eventBus._off("editingaction",d(this,ue)),this._eventBus._off("pagechanging",d(this,de)),this._eventBus._off("scalechanging",d(this,$)),this._eventBus._off("rotationchanging",d(this,Q));for(const Z of d(this,H).values())Z.destroy();d(this,H).clear(),d(this,k).clear(),d(this,B).clear(),Ee(this,m,null),d(this,X).clear(),d(this,oe).destroy(),d(this,te).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",d(this,se)?d(this,T).addHCMFilter(d(this,se).foreground,d(this,se).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(d(this,Ie)).direction)}editAltText(Z){var Pe;(Pe=d(this,te))==null||Pe.editAltText(this,Z)}onPageChanging({pageNumber:Z}){Ee(this,ee,Z-1)}focusMainContainer(){d(this,Ie).focus()}findParent(Z,Pe){for(const Ue of d(this,H).values()){const{x:Je,y:et,width:Ge,height:J}=Ue.div.getBoundingClientRect();if(Z>=Je&&Z<=Je+Ge&&Pe>=et&&Pe<=et+J)return Ue}return null}disableUserSelect(Z=!1){d(this,De).classList.toggle("noUserSelect",Z)}addShouldRescale(Z){d(this,B).add(Z)}removeShouldRescale(Z){d(this,B).delete(Z)}onScaleChanging({scale:Z}){this.commitOrRemove(),this.viewParameters.realScale=Z*u.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Pe of d(this,B))Pe.onScaleChanging()}onRotationChanging({pagesRotation:Z}){this.commitOrRemove(),this.viewParameters.rotation=Z}addToAnnotationStorage(Z){!Z.isEmpty()&&d(this,ne)&&!d(this,ne).has(Z.id)&&d(this,ne).setValue(Z.id,Z)}blur(){if(!this.hasSelection)return;const{activeElement:Z}=document;for(const Pe of d(this,X))if(Pe.div.contains(Z)){Ee(this,W,[Pe,Z]),Pe._focusEventsAllowed=!1;break}}focus(){if(!d(this,W))return;const[Z,Pe]=d(this,W);Ee(this,W,null),Pe.addEventListener("focusin",()=>{Z._focusEventsAllowed=!0},{once:!0}),Pe.focus()}addEditListeners(){ce(this,he,Ua).call(this),ce(this,he,za).call(this)}removeEditListeners(){ce(this,he,js).call(this),ce(this,he,$a).call(this)}copy(Z){var Ue;if(Z.preventDefault(),(Ue=d(this,m))==null||Ue.commitOrRemove(),!this.hasSelection)return;const Pe=[];for(const Je of d(this,X)){const et=Je.serialize(!0);et&&Pe.push(et)}Pe.length!==0&&Z.clipboardData.setData("application/pdfjs",JSON.stringify(Pe))}cut(Z){this.copy(Z),this.delete()}paste(Z){Z.preventDefault();const{clipboardData:Pe}=Z;for(const et of Pe.items)for(const Ge of d(this,K))if(Ge.isHandlingMimeForPasting(et.type)){Ge.paste(et,this.currentLayer);return}let Ue=Pe.getData("application/pdfjs");if(!Ue)return;try{Ue=JSON.parse(Ue)}catch(et){(0,a.warn)(`paste: "${et.message}".`);return}if(!Array.isArray(Ue))return;this.unselectAll();const Je=this.currentLayer;try{const et=[];for(const V of Ue){const ae=Je.deserialize(V);if(!ae)return;et.push(ae)}const Ge=()=>{for(const V of et)ce(this,he,Ha).call(this,V);ce(this,he,Wa).call(this,et)},J=()=>{for(const V of et)V.remove()};this.addCommands({cmd:Ge,undo:J,mustExec:!0})}catch(et){(0,a.warn)(`paste: "${et.message}".`)}}keydown(Z){var Pe;(Pe=this.getActive())!=null&&Pe.shouldGetKeyboardEvents()||yt._keyboardManager.exec(this,Z)}onEditingAction(Z){["undo","redo","delete","selectAll"].includes(Z.name)&&this[Z.name]()}setEditingState(Z){Z?(ce(this,he,Wc).call(this),ce(this,he,Ua).call(this),ce(this,he,za).call(this),ce(this,he,pn).call(this,{isEditing:d(this,q)!==a.AnnotationEditorType.NONE,isEmpty:ce(this,he,bi).call(this),hasSomethingToUndo:d(this,oe).hasSomethingToUndo(),hasSomethingToRedo:d(this,oe).hasSomethingToRedo(),hasSelectedEditor:!1})):(ce(this,he,Ba).call(this),ce(this,he,js).call(this),ce(this,he,$a).call(this),ce(this,he,pn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Z){if(!d(this,K)){Ee(this,K,Z);for(const Pe of d(this,K))ce(this,he,wi).call(this,Pe.defaultPropertiesToUpdate)}}getId(){return d(this,f).getId()}get currentLayer(){return d(this,H).get(d(this,ee))}getLayer(Z){return d(this,H).get(Z)}get currentPageIndex(){return d(this,ee)}addLayer(Z){d(this,H).set(Z.pageIndex,Z),d(this,p)?Z.enable():Z.disable()}removeLayer(Z){d(this,H).delete(Z.pageIndex)}updateMode(Z,Pe=null){if(d(this,q)!==Z){if(Ee(this,q,Z),Z===a.AnnotationEditorType.NONE){this.setEditingState(!1),ce(this,he,Gc).call(this);return}this.setEditingState(!0),ce(this,he,Vc).call(this),this.unselectAll();for(const Ue of d(this,H).values())Ue.updateMode(Z);if(Pe){for(const Ue of d(this,k).values())if(Ue.annotationElementId===Pe){this.setSelected(Ue),Ue.enterInEditMode();break}}}}updateToolbar(Z){Z!==d(this,q)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Z})}updateParams(Z,Pe){if(d(this,K)){if(Z===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Z);return}for(const Ue of d(this,X))Ue.updateParams(Z,Pe);for(const Ue of d(this,K))Ue.updateDefaultParams(Z,Pe)}}enableWaiting(Z=!1){if(d(this,D)!==Z){Ee(this,D,Z);for(const Pe of d(this,H).values())Z?Pe.disableClick():Pe.enableClick(),Pe.div.classList.toggle("waiting",Z)}}getEditors(Z){const Pe=[];for(const Ue of d(this,k).values())Ue.pageIndex===Z&&Pe.push(Ue);return Pe}getEditor(Z){return d(this,k).get(Z)}addEditor(Z){d(this,k).set(Z.id,Z)}removeEditor(Z){var Pe;d(this,k).delete(Z.id),this.unselect(Z),(!Z.annotationElementId||!d(this,re).has(Z.annotationElementId))&&((Pe=d(this,ne))==null||Pe.remove(Z.id))}addDeletedAnnotationElement(Z){d(this,re).add(Z.annotationElementId),Z.deleted=!0}isDeletedAnnotationElement(Z){return d(this,re).has(Z)}removeDeletedAnnotationElement(Z){d(this,re).delete(Z.annotationElementId),Z.deleted=!1}setActiveEditor(Z){d(this,m)!==Z&&(Ee(this,m,Z),Z&&ce(this,he,wi).call(this,Z.propertiesToUpdate))}toggleSelected(Z){if(d(this,X).has(Z)){d(this,X).delete(Z),Z.unselect(),ce(this,he,pn).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,X).add(Z),Z.select(),ce(this,he,wi).call(this,Z.propertiesToUpdate),ce(this,he,pn).call(this,{hasSelectedEditor:!0})}setSelected(Z){for(const Pe of d(this,X))Pe!==Z&&Pe.unselect();d(this,X).clear(),d(this,X).add(Z),Z.select(),ce(this,he,wi).call(this,Z.propertiesToUpdate),ce(this,he,pn).call(this,{hasSelectedEditor:!0})}isSelected(Z){return d(this,X).has(Z)}unselect(Z){Z.unselect(),d(this,X).delete(Z),ce(this,he,pn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,X).size!==0}undo(){d(this,oe).undo(),ce(this,he,pn).call(this,{hasSomethingToUndo:d(this,oe).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ce(this,he,bi).call(this)})}redo(){d(this,oe).redo(),ce(this,he,pn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,oe).hasSomethingToRedo(),isEmpty:ce(this,he,bi).call(this)})}addCommands(Z){d(this,oe).add(Z),ce(this,he,pn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ce(this,he,bi).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Z=[...d(this,X)],Pe=()=>{for(const Je of Z)Je.remove()},Ue=()=>{for(const Je of Z)ce(this,he,Ha).call(this,Je)};this.addCommands({cmd:Pe,undo:Ue,mustExec:!0})}commitOrRemove(){var Z;(Z=d(this,m))==null||Z.commitOrRemove()}hasSomethingToControl(){return d(this,m)||this.hasSelection}selectAll(){for(const Z of d(this,X))Z.commit();ce(this,he,Wa).call(this,d(this,k).values())}unselectAll(){if(d(this,m)){d(this,m).commitOrRemove();return}if(this.hasSelection){for(const Z of d(this,X))Z.unselect();d(this,X).clear(),ce(this,he,pn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Z,Pe,Ue=!1){if(Ue||this.commitOrRemove(),!this.hasSelection)return;d(this,me)[0]+=Z,d(this,me)[1]+=Pe;const[Je,et]=d(this,me),Ge=[...d(this,X)],J=1e3;d(this,Ce)&&clearTimeout(d(this,Ce)),Ee(this,Ce,setTimeout(()=>{Ee(this,Ce,null),d(this,me)[0]=d(this,me)[1]=0,this.addCommands({cmd:()=>{for(const V of Ge)d(this,k).has(V.id)&&V.translateInPage(Je,et)},undo:()=>{for(const V of Ge)d(this,k).has(V.id)&&V.translateInPage(-Je,-et)},mustExec:!1})},J));for(const V of Ge)V.translateInPage(Z,Pe)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Ee(this,z,new Map);for(const Z of d(this,X))d(this,z).set(Z,{savedX:Z.x,savedY:Z.y,savedPageIndex:Z.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,z))return!1;this.disableUserSelect(!1);const Z=d(this,z);Ee(this,z,null);let Pe=!1;for(const[{x:Je,y:et,pageIndex:Ge},J]of Z)J.newX=Je,J.newY=et,J.newPageIndex=Ge,Pe||(Pe=Je!==J.savedX||et!==J.savedY||Ge!==J.savedPageIndex);if(!Pe)return!1;const Ue=(Je,et,Ge,J)=>{if(d(this,k).has(Je.id)){const V=d(this,H).get(J);V?Je._setParentAndPosition(V,et,Ge):(Je.pageIndex=J,Je.x=et,Je.y=Ge)}};return this.addCommands({cmd:()=>{for(const[Je,{newX:et,newY:Ge,newPageIndex:J}]of Z)Ue(Je,et,Ge,J)},undo:()=>{for(const[Je,{savedX:et,savedY:Ge,savedPageIndex:J}]of Z)Ue(Je,et,Ge,J)},mustExec:!0}),!0}dragSelectedEditors(Z,Pe){if(d(this,z))for(const Ue of d(this,z).keys())Ue.drag(Z,Pe)}rebuild(Z){if(Z.parent===null){const Pe=this.getLayer(Z.pageIndex);Pe?(Pe.changeParent(Z),Pe.addOrRebuild(Z)):(this.addEditor(Z),this.addToAnnotationStorage(Z),Z.rebuild())}else Z.parent.addOrRebuild(Z)}isActive(Z){return d(this,m)===Z}getActive(){return d(this,m)}getMode(){return d(this,q)}get imageManager(){return(0,a.shadow)(this,"imageManager",new S)}};m=new WeakMap,k=new WeakMap,H=new WeakMap,te=new WeakMap,ne=new WeakMap,oe=new WeakMap,ee=new WeakMap,re=new WeakMap,z=new WeakMap,K=new WeakMap,B=new WeakMap,T=new WeakMap,f=new WeakMap,p=new WeakMap,D=new WeakMap,W=new WeakMap,q=new WeakMap,X=new WeakMap,se=new WeakMap,pe=new WeakMap,_e=new WeakMap,Ae=new WeakMap,ke=new WeakMap,Te=new WeakMap,Le=new WeakMap,ue=new WeakMap,de=new WeakMap,$=new WeakMap,Q=new WeakMap,le=new WeakMap,me=new WeakMap,Ce=new WeakMap,Ie=new WeakMap,De=new WeakMap,he=new WeakSet,Wc=function(){window.addEventListener("focus",d(this,_e)),window.addEventListener("blur",d(this,pe))},Ba=function(){window.removeEventListener("focus",d(this,_e)),window.removeEventListener("blur",d(this,pe))},Ua=function(){window.addEventListener("keydown",d(this,Le),{capture:!0})},js=function(){window.removeEventListener("keydown",d(this,Le),{capture:!0})},za=function(){document.addEventListener("copy",d(this,Ae)),document.addEventListener("cut",d(this,ke)),document.addEventListener("paste",d(this,Te))},$a=function(){document.removeEventListener("copy",d(this,Ae)),document.removeEventListener("cut",d(this,ke)),document.removeEventListener("paste",d(this,Te))},pn=function(Z){Object.entries(Z).some(([Ue,Je])=>d(this,le)[Ue]!==Je)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,le),Z)})},wi=function(Z){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Z})},Vc=function(){if(!d(this,p)){Ee(this,p,!0);for(const Z of d(this,H).values())Z.enable()}},Gc=function(){if(this.unselectAll(),d(this,p)){Ee(this,p,!1);for(const Z of d(this,H).values())Z.disable()}},Ha=function(Z){const Pe=d(this,H).get(Z.pageIndex);Pe?Pe.addOrRebuild(Z):this.addEditor(Z)},bi=function(){if(d(this,k).size===0)return!0;if(d(this,k).size===1)for(const Z of d(this,k).values())return Z.isEmpty();return!1},Wa=function(Z){d(this,X).clear();for(const Pe of Z)Pe.isEmpty()||(d(this,X).add(Pe),Pe.select());ce(this,he,pn).call(this,{hasSelectedEditor:!0})},At(yt,"TRANSLATE_SMALL",1),At(yt,"TRANSLATE_BIG",10);let F=yt;s.AnnotationEditorUIManager=F},(o,s,c)=>{var ee,re,z,K,B,T,f,p,D,W,q,X,Br,Ur,Va,Bs,Us,Ai,Ci;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=_,s.getColorValues=k,s.getCurrentTransform=H,s.getCurrentTransformInverse=te,s.getFilenameFromUrl=x,s.getPdfFilenameFromUrl=L,s.getRGB=m,s.getXfaPageViewport=Y,s.isDataScheme=M,s.isPdfFile=v,s.isValidFetchUrl=I,s.loadScript=R,s.noContextMenu=y,s.setLayerDimensions=ne;var a=c(7),u=c(1);const P="http://www.w3.org/2000/svg",oe=class oe{};At(oe,"CSS",96),At(oe,"PDF",72),At(oe,"PDF_TO_CSS_UNITS",oe.CSS/oe.PDF);let O=oe;s.PixelsPerInch=O;class G extends a.BaseFilterFactory{constructor({docId:$,ownerDocument:Q=globalThis.document}={}){super();ve(this,X);ve(this,ee);ve(this,re);ve(this,z);ve(this,K);ve(this,B);ve(this,T);ve(this,f);ve(this,p);ve(this,D);ve(this,W);ve(this,q,0);Ee(this,z,$),Ee(this,K,Q)}addFilter($){if(!$)return"none";let Q=d(this,X,Br).get($);if(Q)return Q;let le,me,Ce,Ie;if($.length===1){const je=$[0],at=new Array(256);for(let rt=0;rt<256;rt++)at[rt]=je[rt]/255;Ie=le=me=Ce=at.join(",")}else{const[je,at,rt]=$,ht=new Array(256),qe=new Array(256),Ze=new Array(256);for(let ft=0;ft<256;ft++)ht[ft]=je[ft]/255,qe[ft]=at[ft]/255,Ze[ft]=rt[ft]/255;le=ht.join(","),me=qe.join(","),Ce=Ze.join(","),Ie=`${le}${me}${Ce}`}if(Q=d(this,X,Br).get(Ie),Q)return d(this,X,Br).set($,Q),Q;const De=`g_${d(this,z)}_transfer_map_${Si(this,q)._++}`,he=`url(#${De})`;d(this,X,Br).set($,he),d(this,X,Br).set(Ie,he);const Be=ce(this,X,Bs).call(this,De);return ce(this,X,Ai).call(this,le,me,Ce,Be),he}addHCMFilter($,Q){var at;const le=`${$}-${Q}`;if(d(this,T)===le)return d(this,f);if(Ee(this,T,le),Ee(this,f,"none"),(at=d(this,B))==null||at.remove(),!$||!Q)return d(this,f);const me=ce(this,X,Ci).call(this,$);$=u.Util.makeHexColor(...me);const Ce=ce(this,X,Ci).call(this,Q);if(Q=u.Util.makeHexColor(...Ce),d(this,X,Ur).style.color="",$==="#000000"&&Q==="#ffffff"||$===Q)return d(this,f);const Ie=new Array(256);for(let rt=0;rt<=255;rt++){const ht=rt/255;Ie[rt]=ht<=.03928?ht/12.92:((ht+.055)/1.055)**2.4}const De=Ie.join(","),he=`g_${d(this,z)}_hcm_filter`,Be=Ee(this,p,ce(this,X,Bs).call(this,he));ce(this,X,Ai).call(this,De,De,De,Be),ce(this,X,Va).call(this,Be);const je=(rt,ht)=>{const qe=me[rt]/255,Ze=Ce[rt]/255,ft=new Array(ht+1);for(let vt=0;vt<=ht;vt++)ft[vt]=qe+vt/ht*(Ze-qe);return ft.join(",")};return ce(this,X,Ai).call(this,je(0,5),je(1,5),je(2,5),Be),Ee(this,f,`url(#${he})`),d(this,f)}addHighlightHCMFilter($,Q,le,me){var Ze;const Ce=`${$}-${Q}-${le}-${me}`;if(d(this,D)===Ce)return d(this,W);if(Ee(this,D,Ce),Ee(this,W,"none"),(Ze=d(this,p))==null||Ze.remove(),!$||!Q)return d(this,W);const[Ie,De]=[$,Q].map(ce(this,X,Ci).bind(this));let he=Math.round(.2126*Ie[0]+.7152*Ie[1]+.0722*Ie[2]),Be=Math.round(.2126*De[0]+.7152*De[1]+.0722*De[2]),[je,at]=[le,me].map(ce(this,X,Ci).bind(this));Be<he&&([he,Be,je,at]=[Be,he,at,je]),d(this,X,Ur).style.color="";const rt=(ft,vt,Oe)=>{const ye=new Array(256),xe=(Be-he)/Oe,Xe=ft/255,yt=(vt-ft)/(255*Oe);let pt=0;for(let Z=0;Z<=Oe;Z++){const Pe=Math.round(he+Z*xe),Ue=Xe+Z*yt;for(let Je=pt;Je<=Pe;Je++)ye[Je]=Ue;pt=Pe+1}for(let Z=pt;Z<256;Z++)ye[Z]=ye[pt-1];return ye.join(",")},ht=`g_${d(this,z)}_hcm_highlight_filter`,qe=Ee(this,p,ce(this,X,Bs).call(this,ht));return ce(this,X,Va).call(this,qe),ce(this,X,Ai).call(this,rt(je[0],at[0],5),rt(je[1],at[1],5),rt(je[2],at[2],5),qe),Ee(this,W,`url(#${ht})`),d(this,W)}destroy($=!1){$&&(d(this,f)||d(this,W))||(d(this,re)&&(d(this,re).parentNode.parentNode.remove(),Ee(this,re,null)),d(this,ee)&&(d(this,ee).clear(),Ee(this,ee,null)),Ee(this,q,0))}}ee=new WeakMap,re=new WeakMap,z=new WeakMap,K=new WeakMap,B=new WeakMap,T=new WeakMap,f=new WeakMap,p=new WeakMap,D=new WeakMap,W=new WeakMap,q=new WeakMap,X=new WeakSet,Br=function(){return d(this,ee)||Ee(this,ee,new Map)},Ur=function(){if(!d(this,re)){const $=d(this,K).createElement("div"),{style:Q}=$;Q.visibility="hidden",Q.contain="strict",Q.width=Q.height=0,Q.position="absolute",Q.top=Q.left=0,Q.zIndex=-1;const le=d(this,K).createElementNS(P,"svg");le.setAttribute("width",0),le.setAttribute("height",0),Ee(this,re,d(this,K).createElementNS(P,"defs")),$.append(le),le.append(d(this,re)),d(this,K).body.append($)}return d(this,re)},Va=function($){const Q=d(this,K).createElementNS(P,"feColorMatrix");Q.setAttribute("type","matrix"),Q.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),$.append(Q)},Bs=function($){const Q=d(this,K).createElementNS(P,"filter");return Q.setAttribute("color-interpolation-filters","sRGB"),Q.setAttribute("id",$),d(this,X,Ur).append(Q),Q},Us=function($,Q,le){const me=d(this,K).createElementNS(P,Q);me.setAttribute("type","discrete"),me.setAttribute("tableValues",le),$.append(me)},Ai=function($,Q,le,me){const Ce=d(this,K).createElementNS(P,"feComponentTransfer");me.append(Ce),ce(this,X,Us).call(this,Ce,"feFuncR",$),ce(this,X,Us).call(this,Ce,"feFuncG",Q),ce(this,X,Us).call(this,Ce,"feFuncB",le)},Ci=function($){return d(this,X,Ur).style.color=$,m(getComputedStyle(d(this,X,Ur)).getPropertyValue("color"))},s.DOMFilterFactory=G;class S extends a.BaseCanvasFactory{constructor({ownerDocument:de=globalThis.document}={}){super(),this._document=de}_createCanvas(de,$){const Q=this._document.createElement("canvas");return Q.width=de,Q.height=$,Q}}s.DOMCanvasFactory=S;async function w(ue,de=!1){if(I(ue,document.baseURI)){const $=await fetch(ue);if(!$.ok)throw new Error($.statusText);return de?new Uint8Array(await $.arrayBuffer()):(0,u.stringToBytes)(await $.text())}return new Promise(($,Q)=>{const le=new XMLHttpRequest;le.open("GET",ue,!0),de&&(le.responseType="arraybuffer"),le.onreadystatechange=()=>{if(le.readyState===XMLHttpRequest.DONE){if(le.status===200||le.status===0){let me;if(de&&le.response?me=new Uint8Array(le.response):!de&&le.responseText&&(me=(0,u.stringToBytes)(le.responseText)),me){$(me);return}}Q(new Error(le.statusText))}},le.send(null)})}class g extends a.BaseCMapReaderFactory{_fetchData(de,$){return w(de,this.isCompressed).then(Q=>({cMapData:Q,compressionType:$}))}}s.DOMCMapReaderFactory=g;class N extends a.BaseStandardFontDataFactory{_fetchData(de){return w(de,!0)}}s.DOMStandardFontDataFactory=N;class F extends a.BaseSVGFactory{_createSVG(de){return document.createElementNS(P,de)}}s.DOMSVGFactory=F;class b{constructor({viewBox:de,scale:$,rotation:Q,offsetX:le=0,offsetY:me=0,dontFlip:Ce=!1}){this.viewBox=de,this.scale=$,this.rotation=Q,this.offsetX=le,this.offsetY=me;const Ie=(de[2]+de[0])/2,De=(de[3]+de[1])/2;let he,Be,je,at;switch(Q%=360,Q<0&&(Q+=360),Q){case 180:he=-1,Be=0,je=0,at=1;break;case 90:he=0,Be=1,je=1,at=0;break;case 270:he=0,Be=-1,je=-1,at=0;break;case 0:he=1,Be=0,je=0,at=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ce&&(je=-je,at=-at);let rt,ht,qe,Ze;he===0?(rt=Math.abs(De-de[1])*$+le,ht=Math.abs(Ie-de[0])*$+me,qe=(de[3]-de[1])*$,Ze=(de[2]-de[0])*$):(rt=Math.abs(Ie-de[0])*$+le,ht=Math.abs(De-de[1])*$+me,qe=(de[2]-de[0])*$,Ze=(de[3]-de[1])*$),this.transform=[he*$,Be*$,je*$,at*$,rt-he*$*Ie-je*$*De,ht-Be*$*Ie-at*$*De],this.width=qe,this.height=Ze}get rawDims(){const{viewBox:de}=this;return(0,u.shadow)(this,"rawDims",{pageWidth:de[2]-de[0],pageHeight:de[3]-de[1],pageX:de[0],pageY:de[1]})}clone({scale:de=this.scale,rotation:$=this.rotation,offsetX:Q=this.offsetX,offsetY:le=this.offsetY,dontFlip:me=!1}={}){return new b({viewBox:this.viewBox.slice(),scale:de,rotation:$,offsetX:Q,offsetY:le,dontFlip:me})}convertToViewportPoint(de,$){return u.Util.applyTransform([de,$],this.transform)}convertToViewportRectangle(de){const $=u.Util.applyTransform([de[0],de[1]],this.transform),Q=u.Util.applyTransform([de[2],de[3]],this.transform);return[$[0],$[1],Q[0],Q[1]]}convertToPdfPoint(de,$){return u.Util.applyInverseTransform([de,$],this.transform)}}s.PageViewport=b;class E extends u.BaseException{constructor(de,$=0){super(de,"RenderingCancelledException"),this.extraDelay=$}}s.RenderingCancelledException=E;function M(ue){const de=ue.length;let $=0;for(;$<de&&ue[$].trim()==="";)$++;return ue.substring($,$+5).toLowerCase()==="data:"}function v(ue){return typeof ue=="string"&&/\.pdf$/i.test(ue)}function x(ue,de=!1){return de||([ue]=ue.split(/[#?]/,1)),ue.substring(ue.lastIndexOf("/")+1)}function L(ue,de="document.pdf"){if(typeof ue!="string")return de;if(M(ue))return(0,u.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),de;const $=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Q=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,le=$.exec(ue);let me=Q.exec(le[1])||Q.exec(le[2])||Q.exec(le[3]);if(me&&(me=me[0],me.includes("%")))try{me=Q.exec(decodeURIComponent(me))[0]}catch{}return me||de}class U{constructor(){At(this,"started",Object.create(null));At(this,"times",[])}time(de){de in this.started&&(0,u.warn)(`Timer is already running for ${de}`),this.started[de]=Date.now()}timeEnd(de){de in this.started||(0,u.warn)(`Timer has not been started for ${de}`),this.times.push({name:de,start:this.started[de],end:Date.now()}),delete this.started[de]}toString(){const de=[];let $=0;for(const{name:Q}of this.times)$=Math.max(Q.length,$);for(const{name:Q,start:le,end:me}of this.times)de.push(`${Q.padEnd($)} ${me-le}ms
`);return de.join("")}}s.StatTimer=U;function I(ue,de){try{const{protocol:$}=de?new URL(ue,de):new URL(ue);return $==="http:"||$==="https:"}catch{return!1}}function y(ue){ue.preventDefault()}function R(ue,de=!1){return new Promise(($,Q)=>{const le=document.createElement("script");le.src=ue,le.onload=function(me){de&&le.remove(),$(me)},le.onerror=function(){Q(new Error(`Cannot load script at: ${le.src}`))},(document.head||document.documentElement).append(le)})}function _(ue){console.log("Deprecated API usage: "+ue)}let A;class C{static toDateObject(de){if(!de||typeof de!="string")return null;A||(A=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const $=A.exec(de);if(!$)return null;const Q=parseInt($[1],10);let le=parseInt($[2],10);le=le>=1&&le<=12?le-1:0;let me=parseInt($[3],10);me=me>=1&&me<=31?me:1;let Ce=parseInt($[4],10);Ce=Ce>=0&&Ce<=23?Ce:0;let Ie=parseInt($[5],10);Ie=Ie>=0&&Ie<=59?Ie:0;let De=parseInt($[6],10);De=De>=0&&De<=59?De:0;const he=$[7]||"Z";let Be=parseInt($[8],10);Be=Be>=0&&Be<=23?Be:0;let je=parseInt($[9],10)||0;return je=je>=0&&je<=59?je:0,he==="-"?(Ce+=Be,Ie+=je):he==="+"&&(Ce-=Be,Ie-=je),new Date(Date.UTC(Q,le,me,Ce,Ie,De))}}s.PDFDateString=C;function Y(ue,{scale:de=1,rotation:$=0}){const{width:Q,height:le}=ue.attributes.style,me=[0,0,parseInt(Q),parseInt(le)];return new b({viewBox:me,scale:de,rotation:$})}function m(ue){if(ue.startsWith("#")){const de=parseInt(ue.slice(1),16);return[(de&16711680)>>16,(de&65280)>>8,de&255]}return ue.startsWith("rgb(")?ue.slice(4,-1).split(",").map(de=>parseInt(de)):ue.startsWith("rgba(")?ue.slice(5,-1).split(",").map(de=>parseInt(de)).slice(0,3):((0,u.warn)(`Not a valid color format: "${ue}"`),[0,0,0])}function k(ue){const de=document.createElement("span");de.style.visibility="hidden",document.body.append(de);for(const $ of ue.keys()){de.style.color=$;const Q=window.getComputedStyle(de).color;ue.set($,m(Q))}de.remove()}function H(ue){const{a:de,b:$,c:Q,d:le,e:me,f:Ce}=ue.getTransform();return[de,$,Q,le,me,Ce]}function te(ue){const{a:de,b:$,c:Q,d:le,e:me,f:Ce}=ue.getTransform().invertSelf();return[de,$,Q,le,me,Ce]}function ne(ue,de,$=!1,Q=!0){if(de instanceof b){const{pageWidth:le,pageHeight:me}=de.rawDims,{style:Ce}=ue,Ie=u.FeatureTest.isCSSRoundSupported,De=`var(--scale-factor) * ${le}px`,he=`var(--scale-factor) * ${me}px`,Be=Ie?`round(${De}, 1px)`:`calc(${De})`,je=Ie?`round(${he}, 1px)`:`calc(${he})`;!$||de.rotation%180===0?(Ce.width=Be,Ce.height=je):(Ce.width=je,Ce.height=Be)}Q&&ue.setAttribute("data-main-rotation",de.rotation)}},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var a=c(1);class u{constructor(){this.constructor===u&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(g){return"none"}addHCMFilter(g,N){return"none"}addHighlightHCMFilter(g,N,F,b){return"none"}destroy(g=!1){}}s.BaseFilterFactory=u;class P{constructor(){this.constructor===P&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(g,N){if(g<=0||N<=0)throw new Error("Invalid canvas size");const F=this._createCanvas(g,N);return{canvas:F,context:F.getContext("2d")}}reset(g,N,F){if(!g.canvas)throw new Error("Canvas is not specified");if(N<=0||F<=0)throw new Error("Invalid canvas size");g.canvas.width=N,g.canvas.height=F}destroy(g){if(!g.canvas)throw new Error("Canvas is not specified");g.canvas.width=0,g.canvas.height=0,g.canvas=null,g.context=null}_createCanvas(g,N){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=P;class O{constructor({baseUrl:g=null,isCompressed:N=!0}){this.constructor===O&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=g,this.isCompressed=N}async fetch({name:g}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!g)throw new Error("CMap name must be specified.");const N=this.baseUrl+g+(this.isCompressed?".bcmap":""),F=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(N,F).catch(b=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${N}`)})}_fetchData(g,N){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=O;class G{constructor({baseUrl:g=null}){this.constructor===G&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=g}async fetch({filename:g}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!g)throw new Error("Font filename must be specified.");const N=`${this.baseUrl}${g}`;return this._fetchData(N).catch(F=>{throw new Error(`Unable to load font data at: ${N}`)})}_fetchData(g){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=G;class S{constructor(){this.constructor===S&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(g,N,F=!1){if(g<=0||N<=0)throw new Error("Invalid SVG dimensions");const b=this._createSVG("svg:svg");return b.setAttribute("version","1.1"),F||(b.setAttribute("width",`${g}px`),b.setAttribute("height",`${N}px`)),b.setAttribute("preserveAspectRatio","none"),b.setAttribute("viewBox",`0 0 ${g} ${N}`),b}createElement(g){if(typeof g!="string")throw new Error("Invalid SVG element type");return this._createSVG(g)}_createSVG(g){(0,a.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=S},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var a=c(1);const u=3285377520,P=4294901760,O=65535;class G{constructor(w){this.h1=w?w&4294967295:u,this.h2=w?w&4294967295:u}update(w){let g,N;if(typeof w=="string"){g=new Uint8Array(w.length*2),N=0;for(let _=0,A=w.length;_<A;_++){const C=w.charCodeAt(_);C<=255?g[N++]=C:(g[N++]=C>>>8,g[N++]=C&255)}}else if((0,a.isArrayBuffer)(w))g=w.slice(),N=g.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const F=N>>2,b=N-F*4,E=new Uint32Array(g.buffer,0,F);let M=0,v=0,x=this.h1,L=this.h2;const U=3432918353,I=461845907,y=U&O,R=I&O;for(let _=0;_<F;_++)_&1?(M=E[_],M=M*U&P|M*y&O,M=M<<15|M>>>17,M=M*I&P|M*R&O,x^=M,x=x<<13|x>>>19,x=x*5+3864292196):(v=E[_],v=v*U&P|v*y&O,v=v<<15|v>>>17,v=v*I&P|v*R&O,L^=v,L=L<<13|L>>>19,L=L*5+3864292196);switch(M=0,b){case 3:M^=g[F*4+2]<<16;case 2:M^=g[F*4+1]<<8;case 1:M^=g[F*4],M=M*U&P|M*y&O,M=M<<15|M>>>17,M=M*I&P|M*R&O,F&1?x^=M:L^=M}this.h1=x,this.h2=L}hexdigest(){let w=this.h1,g=this.h2;return w^=g>>>1,w=w*3981806797&P|w*36045&O,g=g*4283543511&P|((g<<16|w>>>16)*2950163797&P)>>>16,w^=g>>>1,w=w*444984403&P|w*60499&O,g=g*3301882366&P|((g<<16|w>>>16)*3120437893&P)>>>16,w^=g>>>1,(w>>>0).toString(16).padStart(8,"0")+(g>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=G},(o,s,c)=>{var O;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var a=c(1);class u{constructor({ownerDocument:S=globalThis.document,styleElement:w=null}){ve(this,O,new Set);this._document=S,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(S){this.nativeFontFaces.add(S),this._document.fonts.add(S)}removeNativeFontFace(S){this.nativeFontFaces.delete(S),this._document.fonts.delete(S)}insertRule(S){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const w=this.styleElement.sheet;w.insertRule(S,w.cssRules.length)}clear(){for(const S of this.nativeFontFaces)this._document.fonts.delete(S);this.nativeFontFaces.clear(),d(this,O).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(S){if(!(!S||d(this,O).has(S.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:w,src:g,style:N}=S,F=new FontFace(w,g,N);this.addNativeFontFace(F);try{await F.load(),d(this,O).add(w)}catch{(0,a.warn)(`Cannot load system font: ${S.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(F)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(S){if(S.attached||S.missingFile&&!S.systemFontInfo)return;if(S.attached=!0,S.systemFontInfo){await this.loadSystemFont(S.systemFontInfo);return}if(this.isFontLoadingAPISupported){const g=S.createNativeFontFace();if(g){this.addNativeFontFace(g);try{await g.loaded}catch(N){throw(0,a.warn)(`Failed to load font '${g.family}': '${N}'.`),S.disableFontFace=!0,N}}return}const w=S.createFontFaceRule();if(w){if(this.insertRule(w),this.isSyncFontLoadingSupported)return;await new Promise(g=>{const N=this._queueLoadingCallback(g);this._prepareFontLoadEvent(S,N)})}}get isFontLoadingAPISupported(){var w;const S=!!((w=this._document)!=null&&w.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",S)}get isSyncFontLoadingSupported(){let S=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(S=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",S)}_queueLoadingCallback(S){function w(){for((0,a.assert)(!N.done,"completeRequest() cannot be called twice."),N.done=!0;g.length>0&&g[0].done;){const F=g.shift();setTimeout(F.callback,0)}}const{loadingRequests:g}=this,N={done:!1,complete:w,callback:S};return g.push(N),N}get _loadTestFont(){const S=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",S)}_prepareFontLoadEvent(S,w){function g(m,k){return m.charCodeAt(k)<<24|m.charCodeAt(k+1)<<16|m.charCodeAt(k+2)<<8|m.charCodeAt(k+3)&255}function N(m,k,H,te){const ne=m.substring(0,k),oe=m.substring(k+H);return ne+te+oe}let F,b;const E=this._document.createElement("canvas");E.width=1,E.height=1;const M=E.getContext("2d");let v=0;function x(m,k){if(++v>30){(0,a.warn)("Load test font never loaded."),k();return}if(M.font="30px "+m,M.fillText(".",0,20),M.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(x.bind(null,m,k))}const L=`lt${Date.now()}${this.loadTestFontId++}`;let U=this._loadTestFont;U=N(U,976,L.length,L);const y=16,R=1482184792;let _=g(U,y);for(F=0,b=L.length-3;F<b;F+=4)_=_-R+g(L,F)|0;F<L.length&&(_=_-R+g(L+"XXX",F)|0),U=N(U,y,4,(0,a.string32)(_));const A=`url(data:font/opentype;base64,${btoa(U)});`,C=`@font-face {font-family:"${L}";src:${A}}`;this.insertRule(C);const Y=this._document.createElement("div");Y.style.visibility="hidden",Y.style.width=Y.style.height="10px",Y.style.position="absolute",Y.style.top=Y.style.left="0px";for(const m of[S.loadedName,L]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=m,Y.append(k)}this._document.body.append(Y),x(L,()=>{Y.remove(),w.complete()})}}O=new WeakMap,s.FontLoader=u;class P{constructor(S,{isEvalSupported:w=!0,disableFontFace:g=!1,ignoreErrors:N=!1,inspectFont:F=null}){this.compiledGlyphs=Object.create(null);for(const b in S)this[b]=S[b];this.isEvalSupported=w!==!1,this.disableFontFace=g===!0,this.ignoreErrors=N===!0,this._inspectFont=F}createNativeFontFace(){var w;if(!this.data||this.disableFontFace)return null;let S;if(!this.cssFontInfo)S=new FontFace(this.loadedName,this.data,{});else{const g={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(g.style=`oblique ${this.cssFontInfo.italicAngle}deg`),S=new FontFace(this.cssFontInfo.fontFamily,this.data,g)}return(w=this._inspectFont)==null||w.call(this,this),S}createFontFaceRule(){var N;if(!this.data||this.disableFontFace)return null;const S=(0,a.bytesToString)(this.data),w=`url(data:${this.mimetype};base64,${btoa(S)});`;let g;if(!this.cssFontInfo)g=`@font-face {font-family:"${this.loadedName}";src:${w}}`;else{let F=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(F+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),g=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${F}src:${w}}`}return(N=this._inspectFont)==null||N.call(this,this,w),g}getPathGenerator(S,w){if(this.compiledGlyphs[w]!==void 0)return this.compiledGlyphs[w];let g;try{g=S.get(this.loadedName+"_path_"+w)}catch(N){if(!this.ignoreErrors)throw N;return(0,a.warn)(`getPathGenerator - ignoring character: "${N}".`),this.compiledGlyphs[w]=function(F,b){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const N=[];for(const F of g){const b=F.args!==void 0?F.args.join(","):"";N.push("c.",F.cmd,"(",b,`);
`)}return this.compiledGlyphs[w]=new Function("c","size",N.join(""))}return this.compiledGlyphs[w]=function(N,F){for(const b of g)b.cmd==="scale"&&(b.args=[F,-F]),N[b.cmd].apply(N,b.args)}}}s.FontFaceObject=P},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var a=c(7);c(1);const u=function(w){return new Promise((g,N)=>{require$$5.readFile(w,(b,E)=>{if(b||!E){N(new Error(b));return}g(new Uint8Array(E))})})};class P extends a.BaseFilterFactory{}s.NodeFilterFactory=P;class O extends a.BaseCanvasFactory{_createCanvas(g,N){return require$$5.createCanvas(g,N)}}s.NodeCanvasFactory=O;class G extends a.BaseCMapReaderFactory{_fetchData(g,N){return u(g).then(F=>({cMapData:F,compressionType:N}))}}s.NodeCMapReaderFactory=G;class S extends a.BaseStandardFontDataFactory{_fetchData(g){return u(g)}}s.NodeStandardFontDataFactory=S},(o,s,c)=>{var re,Ga,qa;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var a=c(1),u=c(6),P=c(12),O=c(13);const G=16,S=100,w=4096,g=15,N=10,F=1e3,b=16;function E(T,f){if(T._removeMirroring)throw new Error("Context is already forwarding operations.");T.__originalSave=T.save,T.__originalRestore=T.restore,T.__originalRotate=T.rotate,T.__originalScale=T.scale,T.__originalTranslate=T.translate,T.__originalTransform=T.transform,T.__originalSetTransform=T.setTransform,T.__originalResetTransform=T.resetTransform,T.__originalClip=T.clip,T.__originalMoveTo=T.moveTo,T.__originalLineTo=T.lineTo,T.__originalBezierCurveTo=T.bezierCurveTo,T.__originalRect=T.rect,T.__originalClosePath=T.closePath,T.__originalBeginPath=T.beginPath,T._removeMirroring=()=>{T.save=T.__originalSave,T.restore=T.__originalRestore,T.rotate=T.__originalRotate,T.scale=T.__originalScale,T.translate=T.__originalTranslate,T.transform=T.__originalTransform,T.setTransform=T.__originalSetTransform,T.resetTransform=T.__originalResetTransform,T.clip=T.__originalClip,T.moveTo=T.__originalMoveTo,T.lineTo=T.__originalLineTo,T.bezierCurveTo=T.__originalBezierCurveTo,T.rect=T.__originalRect,T.closePath=T.__originalClosePath,T.beginPath=T.__originalBeginPath,delete T._removeMirroring},T.save=function(){f.save(),this.__originalSave()},T.restore=function(){f.restore(),this.__originalRestore()},T.translate=function(D,W){f.translate(D,W),this.__originalTranslate(D,W)},T.scale=function(D,W){f.scale(D,W),this.__originalScale(D,W)},T.transform=function(D,W,q,X,se,pe){f.transform(D,W,q,X,se,pe),this.__originalTransform(D,W,q,X,se,pe)},T.setTransform=function(D,W,q,X,se,pe){f.setTransform(D,W,q,X,se,pe),this.__originalSetTransform(D,W,q,X,se,pe)},T.resetTransform=function(){f.resetTransform(),this.__originalResetTransform()},T.rotate=function(D){f.rotate(D),this.__originalRotate(D)},T.clip=function(D){f.clip(D),this.__originalClip(D)},T.moveTo=function(p,D){f.moveTo(p,D),this.__originalMoveTo(p,D)},T.lineTo=function(p,D){f.lineTo(p,D),this.__originalLineTo(p,D)},T.bezierCurveTo=function(p,D,W,q,X,se){f.bezierCurveTo(p,D,W,q,X,se),this.__originalBezierCurveTo(p,D,W,q,X,se)},T.rect=function(p,D,W,q){f.rect(p,D,W,q),this.__originalRect(p,D,W,q)},T.closePath=function(){f.closePath(),this.__originalClosePath()},T.beginPath=function(){f.beginPath(),this.__originalBeginPath()}}class M{constructor(f){this.canvasFactory=f,this.cache=Object.create(null)}getCanvas(f,p,D){let W;return this.cache[f]!==void 0?(W=this.cache[f],this.canvasFactory.reset(W,p,D)):(W=this.canvasFactory.create(p,D),this.cache[f]=W),W}delete(f){delete this.cache[f]}clear(){for(const f in this.cache){const p=this.cache[f];this.canvasFactory.destroy(p),delete this.cache[f]}}}function v(T,f,p,D,W,q,X,se,pe,_e){const[Ae,ke,Te,Le,ue,de]=(0,u.getCurrentTransform)(T);if(ke===0&&Te===0){const le=X*Ae+ue,me=Math.round(le),Ce=se*Le+de,Ie=Math.round(Ce),De=(X+pe)*Ae+ue,he=Math.abs(Math.round(De)-me)||1,Be=(se+_e)*Le+de,je=Math.abs(Math.round(Be)-Ie)||1;return T.setTransform(Math.sign(Ae),0,0,Math.sign(Le),me,Ie),T.drawImage(f,p,D,W,q,0,0,he,je),T.setTransform(Ae,ke,Te,Le,ue,de),[he,je]}if(Ae===0&&Le===0){const le=se*Te+ue,me=Math.round(le),Ce=X*ke+de,Ie=Math.round(Ce),De=(se+_e)*Te+ue,he=Math.abs(Math.round(De)-me)||1,Be=(X+pe)*ke+de,je=Math.abs(Math.round(Be)-Ie)||1;return T.setTransform(0,Math.sign(ke),Math.sign(Te),0,me,Ie),T.drawImage(f,p,D,W,q,0,0,je,he),T.setTransform(Ae,ke,Te,Le,ue,de),[je,he]}T.drawImage(f,p,D,W,q,X,se,pe,_e);const $=Math.hypot(Ae,ke),Q=Math.hypot(Te,Le);return[$*pe,Q*_e]}function x(T){const{width:f,height:p}=T;if(f>F||p>F)return null;const D=1e3,W=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),q=f+1;let X=new Uint8Array(q*(p+1)),se,pe,_e;const Ae=f+7&-8;let ke=new Uint8Array(Ae*p),Te=0;for(const Q of T.data){let le=128;for(;le>0;)ke[Te++]=Q&le?0:255,le>>=1}let Le=0;for(Te=0,ke[Te]!==0&&(X[0]=1,++Le),pe=1;pe<f;pe++)ke[Te]!==ke[Te+1]&&(X[pe]=ke[Te]?2:1,++Le),Te++;for(ke[Te]!==0&&(X[pe]=2,++Le),se=1;se<p;se++){Te=se*Ae,_e=se*q,ke[Te-Ae]!==ke[Te]&&(X[_e]=ke[Te]?1:8,++Le);let Q=(ke[Te]?4:0)+(ke[Te-Ae]?8:0);for(pe=1;pe<f;pe++)Q=(Q>>2)+(ke[Te+1]?4:0)+(ke[Te-Ae+1]?8:0),W[Q]&&(X[_e+pe]=W[Q],++Le),Te++;if(ke[Te-Ae]!==ke[Te]&&(X[_e+pe]=ke[Te]?2:4,++Le),Le>D)return null}for(Te=Ae*(p-1),_e=se*q,ke[Te]!==0&&(X[_e]=8,++Le),pe=1;pe<f;pe++)ke[Te]!==ke[Te+1]&&(X[_e+pe]=ke[Te]?4:8,++Le),Te++;if(ke[Te]!==0&&(X[_e+pe]=4,++Le),Le>D)return null;const ue=new Int32Array([0,q,-1,0,-q,0,0,0,1]),de=new Path2D;for(se=0;Le&&se<=p;se++){let Q=se*q;const le=Q+f;for(;Q<le&&!X[Q];)Q++;if(Q===le)continue;de.moveTo(Q%q,se);const me=Q;let Ce=X[Q];do{const Ie=ue[Ce];do Q+=Ie;while(!X[Q]);const De=X[Q];De!==5&&De!==10?(Ce=De,X[Q]=0):(Ce=De&51*Ce>>4,X[Q]&=Ce>>2|Ce<<2),de.lineTo(Q%q,Q/q|0),X[Q]||--Le}while(me!==Q);--se}return ke=null,X=null,function(Q){Q.save(),Q.scale(1/f,-1/p),Q.translate(0,-p),Q.fill(de),Q.beginPath(),Q.restore()}}class L{constructor(f,p){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,f,p])}clone(){const f=Object.create(this);return f.clipBox=this.clipBox.slice(),f}setCurrentPoint(f,p){this.x=f,this.y=p}updatePathMinMax(f,p,D){[p,D]=a.Util.applyTransform([p,D],f),this.minX=Math.min(this.minX,p),this.minY=Math.min(this.minY,D),this.maxX=Math.max(this.maxX,p),this.maxY=Math.max(this.maxY,D)}updateRectMinMax(f,p){const D=a.Util.applyTransform(p,f),W=a.Util.applyTransform(p.slice(2),f);this.minX=Math.min(this.minX,D[0],W[0]),this.minY=Math.min(this.minY,D[1],W[1]),this.maxX=Math.max(this.maxX,D[0],W[0]),this.maxY=Math.max(this.maxY,D[1],W[1])}updateScalingPathMinMax(f,p){a.Util.scaleMinMax(f,p),this.minX=Math.min(this.minX,p[0]),this.maxX=Math.max(this.maxX,p[1]),this.minY=Math.min(this.minY,p[2]),this.maxY=Math.max(this.maxY,p[3])}updateCurvePathMinMax(f,p,D,W,q,X,se,pe,_e,Ae){const ke=a.Util.bezierBoundingBox(p,D,W,q,X,se,pe,_e);if(Ae){Ae[0]=Math.min(Ae[0],ke[0],ke[2]),Ae[1]=Math.max(Ae[1],ke[0],ke[2]),Ae[2]=Math.min(Ae[2],ke[1],ke[3]),Ae[3]=Math.max(Ae[3],ke[1],ke[3]);return}this.updateRectMinMax(f,ke)}getPathBoundingBox(f=P.PathType.FILL,p=null){const D=[this.minX,this.minY,this.maxX,this.maxY];if(f===P.PathType.STROKE){p||(0,a.unreachable)("Stroke bounding box must include transform.");const W=a.Util.singularValueDecompose2dScale(p),q=W[0]*this.lineWidth/2,X=W[1]*this.lineWidth/2;D[0]-=q,D[1]-=X,D[2]+=q,D[3]+=X}return D}updateClipFromPath(){const f=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(f||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(f){this.clipBox=f,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(f=P.PathType.FILL,p=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(f,p))}}function U(T,f){if(typeof ImageData<"u"&&f instanceof ImageData){T.putImageData(f,0,0);return}const p=f.height,D=f.width,W=p%b,q=(p-W)/b,X=W===0?q:q+1,se=T.createImageData(D,b);let pe=0,_e;const Ae=f.data,ke=se.data;let Te,Le,ue,de;if(f.kind===a.ImageKind.GRAYSCALE_1BPP){const $=Ae.byteLength,Q=new Uint32Array(ke.buffer,0,ke.byteLength>>2),le=Q.length,me=D+7>>3,Ce=4294967295,Ie=a.FeatureTest.isLittleEndian?4278190080:255;for(Te=0;Te<X;Te++){for(ue=Te<q?b:W,_e=0,Le=0;Le<ue;Le++){const De=$-pe;let he=0;const Be=De>me?D:De*8-7,je=Be&-8;let at=0,rt=0;for(;he<je;he+=8)rt=Ae[pe++],Q[_e++]=rt&128?Ce:Ie,Q[_e++]=rt&64?Ce:Ie,Q[_e++]=rt&32?Ce:Ie,Q[_e++]=rt&16?Ce:Ie,Q[_e++]=rt&8?Ce:Ie,Q[_e++]=rt&4?Ce:Ie,Q[_e++]=rt&2?Ce:Ie,Q[_e++]=rt&1?Ce:Ie;for(;he<Be;he++)at===0&&(rt=Ae[pe++],at=128),Q[_e++]=rt&at?Ce:Ie,at>>=1}for(;_e<le;)Q[_e++]=0;T.putImageData(se,0,Te*b)}}else if(f.kind===a.ImageKind.RGBA_32BPP){for(Le=0,de=D*b*4,Te=0;Te<q;Te++)ke.set(Ae.subarray(pe,pe+de)),pe+=de,T.putImageData(se,0,Le),Le+=b;Te<X&&(de=D*W*4,ke.set(Ae.subarray(pe,pe+de)),T.putImageData(se,0,Le))}else if(f.kind===a.ImageKind.RGB_24BPP)for(ue=b,de=D*ue,Te=0;Te<X;Te++){for(Te>=q&&(ue=W,de=D*ue),_e=0,Le=de;Le--;)ke[_e++]=Ae[pe++],ke[_e++]=Ae[pe++],ke[_e++]=Ae[pe++],ke[_e++]=255;T.putImageData(se,0,Te*b)}else throw new Error(`bad image kind: ${f.kind}`)}function I(T,f){if(f.bitmap){T.drawImage(f.bitmap,0,0);return}const p=f.height,D=f.width,W=p%b,q=(p-W)/b,X=W===0?q:q+1,se=T.createImageData(D,b);let pe=0;const _e=f.data,Ae=se.data;for(let ke=0;ke<X;ke++){const Te=ke<q?b:W;({srcPos:pe}=(0,O.convertBlackAndWhiteToRGBA)({src:_e,srcPos:pe,dest:Ae,width:D,height:Te,nonBlackColor:0})),T.putImageData(se,0,ke*b)}}function y(T,f){const p=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const D of p)T[D]!==void 0&&(f[D]=T[D]);T.setLineDash!==void 0&&(f.setLineDash(T.getLineDash()),f.lineDashOffset=T.lineDashOffset)}function R(T){if(T.strokeStyle=T.fillStyle="#000000",T.fillRule="nonzero",T.globalAlpha=1,T.lineWidth=1,T.lineCap="butt",T.lineJoin="miter",T.miterLimit=10,T.globalCompositeOperation="source-over",T.font="10px sans-serif",T.setLineDash!==void 0&&(T.setLineDash([]),T.lineDashOffset=0),!a.isNodeJS){const{filter:f}=T;f!=="none"&&f!==""&&(T.filter="none")}}function _(T,f,p,D){const W=T.length;for(let q=3;q<W;q+=4){const X=T[q];if(X===0)T[q-3]=f,T[q-2]=p,T[q-1]=D;else if(X<255){const se=255-X;T[q-3]=T[q-3]*X+f*se>>8,T[q-2]=T[q-2]*X+p*se>>8,T[q-1]=T[q-1]*X+D*se>>8}}}function A(T,f,p){const D=T.length,W=1/255;for(let q=3;q<D;q+=4){const X=p?p[T[q]]:T[q];f[q]=f[q]*X*W|0}}function C(T,f,p){const D=T.length;for(let W=3;W<D;W+=4){const q=T[W-3]*77+T[W-2]*152+T[W-1]*28;f[W]=p?f[W]*p[q>>8]>>8:f[W]*q>>16}}function Y(T,f,p,D,W,q,X,se,pe,_e,Ae){const ke=!!q,Te=ke?q[0]:0,Le=ke?q[1]:0,ue=ke?q[2]:0,de=W==="Luminosity"?C:A,Q=Math.min(D,Math.ceil(1048576/p));for(let le=0;le<D;le+=Q){const me=Math.min(Q,D-le),Ce=T.getImageData(se-_e,le+(pe-Ae),p,me),Ie=f.getImageData(se,le+pe,p,me);ke&&_(Ce.data,Te,Le,ue),de(Ce.data,Ie.data,X),f.putImageData(Ie,se,le+pe)}}function m(T,f,p,D){const W=D[0],q=D[1],X=D[2]-W,se=D[3]-q;X===0||se===0||(Y(f.context,p,X,se,f.subtype,f.backdrop,f.transferMap,W,q,f.offsetX,f.offsetY),T.save(),T.globalAlpha=1,T.globalCompositeOperation="source-over",T.setTransform(1,0,0,1,0,0),T.drawImage(p.canvas,0,0),T.restore())}function k(T,f){const p=a.Util.singularValueDecompose2dScale(T);p[0]=Math.fround(p[0]),p[1]=Math.fround(p[1]);const D=Math.fround((globalThis.devicePixelRatio||1)*u.PixelsPerInch.PDF_TO_CSS_UNITS);return f!==void 0?f:p[0]<=D||p[1]<=D}const H=["butt","round","square"],te=["miter","round","bevel"],ne={},oe={},B=class B{constructor(f,p,D,W,q,{optionalContentConfig:X,markedContentStack:se=null},pe,_e){ve(this,re);this.ctx=f,this.current=new L(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=p,this.objs=D,this.canvasFactory=W,this.filterFactory=q,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=se||[],this.optionalContentConfig=X,this.cachedCanvases=new M(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=pe,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=_e,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(f,p=null){return typeof f=="string"?f.startsWith("g_")?this.commonObjs.get(f):this.objs.get(f):p}beginDrawing({transform:f,viewport:p,transparency:D=!1,background:W=null}){const q=this.ctx.canvas.width,X=this.ctx.canvas.height,se=this.ctx.fillStyle;if(this.ctx.fillStyle=W||"#ffffff",this.ctx.fillRect(0,0,q,X),this.ctx.fillStyle=se,D){const pe=this.cachedCanvases.getCanvas("transparent",q,X);this.compositeCtx=this.ctx,this.transparentCanvas=pe.canvas,this.ctx=pe.context,this.ctx.save(),this.ctx.transform(...(0,u.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),R(this.ctx),f&&(this.ctx.transform(...f),this.outputScaleX=f[0],this.outputScaleY=f[0]),this.ctx.transform(...p.transform),this.viewportScale=p.scale,this.baseTransform=(0,u.getCurrentTransform)(this.ctx)}executeOperatorList(f,p,D,W){const q=f.argsArray,X=f.fnArray;let se=p||0;const pe=q.length;if(pe===se)return se;const _e=pe-se>N&&typeof D=="function",Ae=_e?Date.now()+g:0;let ke=0;const Te=this.commonObjs,Le=this.objs;let ue;for(;;){if(W!==void 0&&se===W.nextBreakPoint)return W.breakIt(se,D),se;if(ue=X[se],ue!==a.OPS.dependency)this[ue].apply(this,q[se]);else for(const de of q[se]){const $=de.startsWith("g_")?Te:Le;if(!$.has(de))return $.get(de,D),se}if(se++,se===pe)return se;if(_e&&++ke>N){if(Date.now()>Ae)return D(),se;ke=0}}}endDrawing(){ce(this,re,Ga).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const f of this._cachedBitmapsMap.values()){for(const p of f.values())typeof HTMLCanvasElement<"u"&&p instanceof HTMLCanvasElement&&(p.width=p.height=0);f.clear()}this._cachedBitmapsMap.clear(),ce(this,re,qa).call(this)}_scaleImage(f,p){const D=f.width,W=f.height;let q=Math.max(Math.hypot(p[0],p[1]),1),X=Math.max(Math.hypot(p[2],p[3]),1),se=D,pe=W,_e="prescale1",Ae,ke;for(;q>2&&se>1||X>2&&pe>1;){let Te=se,Le=pe;q>2&&se>1&&(Te=se>=16384?Math.floor(se/2)-1||1:Math.ceil(se/2),q/=se/Te),X>2&&pe>1&&(Le=pe>=16384?Math.floor(pe/2)-1||1:Math.ceil(pe)/2,X/=pe/Le),Ae=this.cachedCanvases.getCanvas(_e,Te,Le),ke=Ae.context,ke.clearRect(0,0,Te,Le),ke.drawImage(f,0,0,se,pe,0,0,Te,Le),f=Ae.canvas,se=Te,pe=Le,_e=_e==="prescale1"?"prescale2":"prescale1"}return{img:f,paintWidth:se,paintHeight:pe}}_createMaskCanvas(f){const p=this.ctx,{width:D,height:W}=f,q=this.current.fillColor,X=this.current.patternFill,se=(0,u.getCurrentTransform)(p);let pe,_e,Ae,ke;if((f.bitmap||f.data)&&f.count>1){const he=f.bitmap||f.data.buffer;_e=JSON.stringify(X?se:[se.slice(0,4),q]),pe=this._cachedBitmapsMap.get(he),pe||(pe=new Map,this._cachedBitmapsMap.set(he,pe));const Be=pe.get(_e);if(Be&&!X){const je=Math.round(Math.min(se[0],se[2])+se[4]),at=Math.round(Math.min(se[1],se[3])+se[5]);return{canvas:Be,offsetX:je,offsetY:at}}Ae=Be}Ae||(ke=this.cachedCanvases.getCanvas("maskCanvas",D,W),I(ke.context,f));let Te=a.Util.transform(se,[1/D,0,0,-1/W,0,0]);Te=a.Util.transform(Te,[1,0,0,1,0,-W]);const Le=a.Util.applyTransform([0,0],Te),ue=a.Util.applyTransform([D,W],Te),de=a.Util.normalizeRect([Le[0],Le[1],ue[0],ue[1]]),$=Math.round(de[2]-de[0])||1,Q=Math.round(de[3]-de[1])||1,le=this.cachedCanvases.getCanvas("fillCanvas",$,Q),me=le.context,Ce=Math.min(Le[0],ue[0]),Ie=Math.min(Le[1],ue[1]);me.translate(-Ce,-Ie),me.transform(...Te),Ae||(Ae=this._scaleImage(ke.canvas,(0,u.getCurrentTransformInverse)(me)),Ae=Ae.img,pe&&X&&pe.set(_e,Ae)),me.imageSmoothingEnabled=k((0,u.getCurrentTransform)(me),f.interpolate),v(me,Ae,0,0,Ae.width,Ae.height,0,0,D,W),me.globalCompositeOperation="source-in";const De=a.Util.transform((0,u.getCurrentTransformInverse)(me),[1,0,0,1,-Ce,-Ie]);return me.fillStyle=X?q.getPattern(p,this,De,P.PathType.FILL):q,me.fillRect(0,0,D,W),pe&&!X&&(this.cachedCanvases.delete("fillCanvas"),pe.set(_e,le.canvas)),{canvas:le.canvas,offsetX:Math.round(Ce),offsetY:Math.round(Ie)}}setLineWidth(f){f!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=f,this.ctx.lineWidth=f}setLineCap(f){this.ctx.lineCap=H[f]}setLineJoin(f){this.ctx.lineJoin=te[f]}setMiterLimit(f){this.ctx.miterLimit=f}setDash(f,p){const D=this.ctx;D.setLineDash!==void 0&&(D.setLineDash(f),D.lineDashOffset=p)}setRenderingIntent(f){}setFlatness(f){}setGState(f){for(const[p,D]of f)switch(p){case"LW":this.setLineWidth(D);break;case"LC":this.setLineCap(D);break;case"LJ":this.setLineJoin(D);break;case"ML":this.setMiterLimit(D);break;case"D":this.setDash(D[0],D[1]);break;case"RI":this.setRenderingIntent(D);break;case"FL":this.setFlatness(D);break;case"Font":this.setFont(D[0],D[1]);break;case"CA":this.current.strokeAlpha=D;break;case"ca":this.current.fillAlpha=D,this.ctx.globalAlpha=D;break;case"BM":this.ctx.globalCompositeOperation=D;break;case"SMask":this.current.activeSMask=D?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(D);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const f=this.inSMaskMode;this.current.activeSMask&&!f?this.beginSMaskMode():!this.current.activeSMask&&f&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const f=this.ctx.canvas.width,p=this.ctx.canvas.height,D="smaskGroupAt"+this.groupLevel,W=this.cachedCanvases.getCanvas(D,f,p);this.suspendedCtx=this.ctx,this.ctx=W.context;const q=this.ctx;q.setTransform(...(0,u.getCurrentTransform)(this.suspendedCtx)),y(this.suspendedCtx,q),E(q,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),y(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(f){if(!this.current.activeSMask)return;f?(f[0]=Math.floor(f[0]),f[1]=Math.floor(f[1]),f[2]=Math.ceil(f[2]),f[3]=Math.ceil(f[3])):f=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const p=this.current.activeSMask,D=this.suspendedCtx;m(D,p,this.ctx,f),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(y(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const f=this.current;this.stateStack.push(f),this.current=f.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),y(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(f,p,D,W,q,X){this.ctx.transform(f,p,D,W,q,X),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(f,p,D){const W=this.ctx,q=this.current;let X=q.x,se=q.y,pe,_e;const Ae=(0,u.getCurrentTransform)(W),ke=Ae[0]===0&&Ae[3]===0||Ae[1]===0&&Ae[2]===0,Te=ke?D.slice(0):null;for(let Le=0,ue=0,de=f.length;Le<de;Le++)switch(f[Le]|0){case a.OPS.rectangle:X=p[ue++],se=p[ue++];const $=p[ue++],Q=p[ue++],le=X+$,me=se+Q;W.moveTo(X,se),$===0||Q===0?W.lineTo(le,me):(W.lineTo(le,se),W.lineTo(le,me),W.lineTo(X,me)),ke||q.updateRectMinMax(Ae,[X,se,le,me]),W.closePath();break;case a.OPS.moveTo:X=p[ue++],se=p[ue++],W.moveTo(X,se),ke||q.updatePathMinMax(Ae,X,se);break;case a.OPS.lineTo:X=p[ue++],se=p[ue++],W.lineTo(X,se),ke||q.updatePathMinMax(Ae,X,se);break;case a.OPS.curveTo:pe=X,_e=se,X=p[ue+4],se=p[ue+5],W.bezierCurveTo(p[ue],p[ue+1],p[ue+2],p[ue+3],X,se),q.updateCurvePathMinMax(Ae,pe,_e,p[ue],p[ue+1],p[ue+2],p[ue+3],X,se,Te),ue+=6;break;case a.OPS.curveTo2:pe=X,_e=se,W.bezierCurveTo(X,se,p[ue],p[ue+1],p[ue+2],p[ue+3]),q.updateCurvePathMinMax(Ae,pe,_e,X,se,p[ue],p[ue+1],p[ue+2],p[ue+3],Te),X=p[ue+2],se=p[ue+3],ue+=4;break;case a.OPS.curveTo3:pe=X,_e=se,X=p[ue+2],se=p[ue+3],W.bezierCurveTo(p[ue],p[ue+1],X,se,X,se),q.updateCurvePathMinMax(Ae,pe,_e,p[ue],p[ue+1],X,se,X,se,Te),ue+=4;break;case a.OPS.closePath:W.closePath();break}ke&&q.updateScalingPathMinMax(Ae,Te),q.setCurrentPoint(X,se)}closePath(){this.ctx.closePath()}stroke(f=!0){const p=this.ctx,D=this.current.strokeColor;p.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof D=="object"&&(D!=null&&D.getPattern)?(p.save(),p.strokeStyle=D.getPattern(p,this,(0,u.getCurrentTransformInverse)(p),P.PathType.STROKE),this.rescaleAndStroke(!1),p.restore()):this.rescaleAndStroke(!0)),f&&this.consumePath(this.current.getClippedPathBoundingBox()),p.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(f=!0){const p=this.ctx,D=this.current.fillColor,W=this.current.patternFill;let q=!1;W&&(p.save(),p.fillStyle=D.getPattern(p,this,(0,u.getCurrentTransformInverse)(p),P.PathType.FILL),q=!0);const X=this.current.getClippedPathBoundingBox();this.contentVisible&&X!==null&&(this.pendingEOFill?(p.fill("evenodd"),this.pendingEOFill=!1):p.fill()),q&&p.restore(),f&&this.consumePath(X)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ne}eoClip(){this.pendingClip=oe}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const f=this.pendingTextPaths,p=this.ctx;if(f===void 0){p.beginPath();return}p.save(),p.beginPath();for(const D of f)p.setTransform(...D.transform),p.translate(D.x,D.y),D.addToPath(p,D.fontSize);p.restore(),p.clip(),p.beginPath(),delete this.pendingTextPaths}setCharSpacing(f){this.current.charSpacing=f}setWordSpacing(f){this.current.wordSpacing=f}setHScale(f){this.current.textHScale=f/100}setLeading(f){this.current.leading=-f}setFont(f,p){var Ae;const D=this.commonObjs.get(f),W=this.current;if(!D)throw new Error(`Can't find font for ${f}`);if(W.fontMatrix=D.fontMatrix||a.FONT_IDENTITY_MATRIX,(W.fontMatrix[0]===0||W.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+f),p<0?(p=-p,W.fontDirection=-1):W.fontDirection=1,this.current.font=D,this.current.fontSize=p,D.isType3Font)return;const q=D.loadedName||"sans-serif",X=((Ae=D.systemFontInfo)==null?void 0:Ae.css)||`"${q}", ${D.fallbackName}`;let se="normal";D.black?se="900":D.bold&&(se="bold");const pe=D.italic?"italic":"normal";let _e=p;p<G?_e=G:p>S&&(_e=S),this.current.fontSizeScale=p/_e,this.ctx.font=`${pe} ${se} ${_e}px ${X}`}setTextRenderingMode(f){this.current.textRenderingMode=f}setTextRise(f){this.current.textRise=f}moveText(f,p){this.current.x=this.current.lineX+=f,this.current.y=this.current.lineY+=p}setLeadingMoveText(f,p){this.setLeading(-p),this.moveText(f,p)}setTextMatrix(f,p,D,W,q,X){this.current.textMatrix=[f,p,D,W,q,X],this.current.textMatrixScale=Math.hypot(f,p),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(f,p,D,W){const q=this.ctx,X=this.current,se=X.font,pe=X.textRenderingMode,_e=X.fontSize/X.fontSizeScale,Ae=pe&a.TextRenderingMode.FILL_STROKE_MASK,ke=!!(pe&a.TextRenderingMode.ADD_TO_PATH_FLAG),Te=X.patternFill&&!se.missingFile;let Le;(se.disableFontFace||ke||Te)&&(Le=se.getPathGenerator(this.commonObjs,f)),se.disableFontFace||Te?(q.save(),q.translate(p,D),q.beginPath(),Le(q,_e),W&&q.setTransform(...W),(Ae===a.TextRenderingMode.FILL||Ae===a.TextRenderingMode.FILL_STROKE)&&q.fill(),(Ae===a.TextRenderingMode.STROKE||Ae===a.TextRenderingMode.FILL_STROKE)&&q.stroke(),q.restore()):((Ae===a.TextRenderingMode.FILL||Ae===a.TextRenderingMode.FILL_STROKE)&&q.fillText(f,p,D),(Ae===a.TextRenderingMode.STROKE||Ae===a.TextRenderingMode.FILL_STROKE)&&q.strokeText(f,p,D)),ke&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,u.getCurrentTransform)(q),x:p,y:D,fontSize:_e,addToPath:Le})}get isFontSubpixelAAEnabled(){const{context:f}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);f.scale(1.5,1),f.fillText("I",0,10);const p=f.getImageData(0,0,10,10).data;let D=!1;for(let W=3;W<p.length;W+=4)if(p[W]>0&&p[W]<255){D=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",D)}showText(f){const p=this.current,D=p.font;if(D.isType3Font)return this.showType3Text(f);const W=p.fontSize;if(W===0)return;const q=this.ctx,X=p.fontSizeScale,se=p.charSpacing,pe=p.wordSpacing,_e=p.fontDirection,Ae=p.textHScale*_e,ke=f.length,Te=D.vertical,Le=Te?1:-1,ue=D.defaultVMetrics,de=W*p.fontMatrix[0],$=p.textRenderingMode===a.TextRenderingMode.FILL&&!D.disableFontFace&&!p.patternFill;q.save(),q.transform(...p.textMatrix),q.translate(p.x,p.y+p.textRise),_e>0?q.scale(Ae,-1):q.scale(Ae,1);let Q;if(p.patternFill){q.save();const De=p.fillColor.getPattern(q,this,(0,u.getCurrentTransformInverse)(q),P.PathType.FILL);Q=(0,u.getCurrentTransform)(q),q.restore(),q.fillStyle=De}let le=p.lineWidth;const me=p.textMatrixScale;if(me===0||le===0){const De=p.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(De===a.TextRenderingMode.STROKE||De===a.TextRenderingMode.FILL_STROKE)&&(le=this.getSinglePixelWidth())}else le/=me;if(X!==1&&(q.scale(X,X),le/=X),q.lineWidth=le,D.isInvalidPDFjsFont){const De=[];let he=0;for(const Be of f)De.push(Be.unicode),he+=Be.width;q.fillText(De.join(""),0,0),p.x+=he*de*Ae,q.restore(),this.compose();return}let Ce=0,Ie;for(Ie=0;Ie<ke;++Ie){const De=f[Ie];if(typeof De=="number"){Ce+=Le*De*W/1e3;continue}let he=!1;const Be=(De.isSpace?pe:0)+se,je=De.fontChar,at=De.accent;let rt,ht,qe=De.width;if(Te){const ft=De.vmetric||ue,vt=-(De.vmetric?ft[1]:qe*.5)*de,Oe=ft[2]*de;qe=ft?-ft[0]:qe,rt=vt/X,ht=(Ce+Oe)/X}else rt=Ce/X,ht=0;if(D.remeasure&&qe>0){const ft=q.measureText(je).width*1e3/W*X;if(qe<ft&&this.isFontSubpixelAAEnabled){const vt=qe/ft;he=!0,q.save(),q.scale(vt,1),rt/=vt}else qe!==ft&&(rt+=(qe-ft)/2e3*W/X)}if(this.contentVisible&&(De.isInFont||D.missingFile)){if($&&!at)q.fillText(je,rt,ht);else if(this.paintChar(je,rt,ht,Q),at){const ft=rt+W*at.offset.x/X,vt=ht-W*at.offset.y/X;this.paintChar(at.fontChar,ft,vt,Q)}}const Ze=Te?qe*de-Be*_e:qe*de+Be*_e;Ce+=Ze,he&&q.restore()}Te?p.y-=Ce:p.x+=Ce*Ae,q.restore(),this.compose()}showType3Text(f){const p=this.ctx,D=this.current,W=D.font,q=D.fontSize,X=D.fontDirection,se=W.vertical?1:-1,pe=D.charSpacing,_e=D.wordSpacing,Ae=D.textHScale*X,ke=D.fontMatrix||a.FONT_IDENTITY_MATRIX,Te=f.length,Le=D.textRenderingMode===a.TextRenderingMode.INVISIBLE;let ue,de,$,Q;if(!(Le||q===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,p.save(),p.transform(...D.textMatrix),p.translate(D.x,D.y),p.scale(Ae,X),ue=0;ue<Te;++ue){if(de=f[ue],typeof de=="number"){Q=se*de*q/1e3,this.ctx.translate(Q,0),D.x+=Q*Ae;continue}const le=(de.isSpace?_e:0)+pe,me=W.charProcOperatorList[de.operatorListId];if(!me){(0,a.warn)(`Type3 character "${de.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=de,this.save(),p.scale(q,q),p.transform(...ke),this.executeOperatorList(me),this.restore()),$=a.Util.applyTransform([de.width,0],ke)[0]*q+le,p.translate($,0),D.x+=$*Ae}p.restore(),this.processingType3=null}}setCharWidth(f,p){}setCharWidthAndBounds(f,p,D,W,q,X){this.ctx.rect(D,W,q-D,X-W),this.ctx.clip(),this.endPath()}getColorN_Pattern(f){let p;if(f[0]==="TilingPattern"){const D=f[1],W=this.baseTransform||(0,u.getCurrentTransform)(this.ctx),q={createCanvasGraphics:X=>new B(X,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};p=new P.TilingPattern(f,D,this.ctx,q,W)}else p=this._getPattern(f[1],f[2]);return p}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(f,p,D){const W=a.Util.makeHexColor(f,p,D);this.ctx.strokeStyle=W,this.current.strokeColor=W}setFillRGBColor(f,p,D){const W=a.Util.makeHexColor(f,p,D);this.ctx.fillStyle=W,this.current.fillColor=W,this.current.patternFill=!1}_getPattern(f,p=null){let D;return this.cachedPatterns.has(f)?D=this.cachedPatterns.get(f):(D=(0,P.getShadingPattern)(this.getObject(f)),this.cachedPatterns.set(f,D)),p&&(D.matrix=p),D}shadingFill(f){if(!this.contentVisible)return;const p=this.ctx;this.save();const D=this._getPattern(f);p.fillStyle=D.getPattern(p,this,(0,u.getCurrentTransformInverse)(p),P.PathType.SHADING);const W=(0,u.getCurrentTransformInverse)(p);if(W){const{width:q,height:X}=p.canvas,[se,pe,_e,Ae]=a.Util.getAxialAlignedBoundingBox([0,0,q,X],W);this.ctx.fillRect(se,pe,_e-se,Ae-pe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(f,p){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(f)&&f.length===6&&this.transform(...f),this.baseTransform=(0,u.getCurrentTransform)(this.ctx),p)){const D=p[2]-p[0],W=p[3]-p[1];this.ctx.rect(p[0],p[1],D,W),this.current.updateRectMinMax((0,u.getCurrentTransform)(this.ctx),p),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(f){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const p=this.ctx;f.isolated||(0,a.info)("TODO: Support non-isolated groups."),f.knockout&&(0,a.warn)("Knockout groups not supported.");const D=(0,u.getCurrentTransform)(p);if(f.matrix&&p.transform(...f.matrix),!f.bbox)throw new Error("Bounding box is required.");let W=a.Util.getAxialAlignedBoundingBox(f.bbox,(0,u.getCurrentTransform)(p));const q=[0,0,p.canvas.width,p.canvas.height];W=a.Util.intersect(W,q)||[0,0,0,0];const X=Math.floor(W[0]),se=Math.floor(W[1]);let pe=Math.max(Math.ceil(W[2])-X,1),_e=Math.max(Math.ceil(W[3])-se,1),Ae=1,ke=1;pe>w&&(Ae=pe/w,pe=w),_e>w&&(ke=_e/w,_e=w),this.current.startNewPathAndClipBox([0,0,pe,_e]);let Te="groupAt"+this.groupLevel;f.smask&&(Te+="_smask_"+this.smaskCounter++%2);const Le=this.cachedCanvases.getCanvas(Te,pe,_e),ue=Le.context;ue.scale(1/Ae,1/ke),ue.translate(-X,-se),ue.transform(...D),f.smask?this.smaskStack.push({canvas:Le.canvas,context:ue,offsetX:X,offsetY:se,scaleX:Ae,scaleY:ke,subtype:f.smask.subtype,backdrop:f.smask.backdrop,transferMap:f.smask.transferMap||null,startTransformInverse:null}):(p.setTransform(1,0,0,1,0,0),p.translate(X,se),p.scale(Ae,ke),p.save()),y(p,ue),this.ctx=ue,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(p),this.groupLevel++}endGroup(f){if(!this.contentVisible)return;this.groupLevel--;const p=this.ctx,D=this.groupStack.pop();if(this.ctx=D,this.ctx.imageSmoothingEnabled=!1,f.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const W=(0,u.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...W);const q=a.Util.getAxialAlignedBoundingBox([0,0,p.canvas.width,p.canvas.height],W);this.ctx.drawImage(p.canvas,0,0),this.ctx.restore(),this.compose(q)}}beginAnnotation(f,p,D,W,q){if(ce(this,re,Ga).call(this),R(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(p)&&p.length===4){const X=p[2]-p[0],se=p[3]-p[1];if(q&&this.annotationCanvasMap){D=D.slice(),D[4]-=p[0],D[5]-=p[1],p=p.slice(),p[0]=p[1]=0,p[2]=X,p[3]=se;const[pe,_e]=a.Util.singularValueDecompose2dScale((0,u.getCurrentTransform)(this.ctx)),{viewportScale:Ae}=this,ke=Math.ceil(X*this.outputScaleX*Ae),Te=Math.ceil(se*this.outputScaleY*Ae);this.annotationCanvas=this.canvasFactory.create(ke,Te);const{canvas:Le,context:ue}=this.annotationCanvas;this.annotationCanvasMap.set(f,Le),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ue,this.ctx.save(),this.ctx.setTransform(pe,0,0,-_e,0,se*_e),R(this.ctx)}else R(this.ctx),this.ctx.rect(p[0],p[1],X,se),this.ctx.clip(),this.endPath()}this.current=new L(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...D),this.transform(...W)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ce(this,re,qa).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(f){if(!this.contentVisible)return;const p=f.count;f=this.getObject(f.data,f),f.count=p;const D=this.ctx,W=this.processingType3;if(W&&(W.compiled===void 0&&(W.compiled=x(f)),W.compiled)){W.compiled(D);return}const q=this._createMaskCanvas(f),X=q.canvas;D.save(),D.setTransform(1,0,0,1,0,0),D.drawImage(X,q.offsetX,q.offsetY),D.restore(),this.compose()}paintImageMaskXObjectRepeat(f,p,D=0,W=0,q,X){if(!this.contentVisible)return;f=this.getObject(f.data,f);const se=this.ctx;se.save();const pe=(0,u.getCurrentTransform)(se);se.transform(p,D,W,q,0,0);const _e=this._createMaskCanvas(f);se.setTransform(1,0,0,1,_e.offsetX-pe[4],_e.offsetY-pe[5]);for(let Ae=0,ke=X.length;Ae<ke;Ae+=2){const Te=a.Util.transform(pe,[p,D,W,q,X[Ae],X[Ae+1]]),[Le,ue]=a.Util.applyTransform([0,0],Te);se.drawImage(_e.canvas,Le,ue)}se.restore(),this.compose()}paintImageMaskXObjectGroup(f){if(!this.contentVisible)return;const p=this.ctx,D=this.current.fillColor,W=this.current.patternFill;for(const q of f){const{data:X,width:se,height:pe,transform:_e}=q,Ae=this.cachedCanvases.getCanvas("maskCanvas",se,pe),ke=Ae.context;ke.save();const Te=this.getObject(X,q);I(ke,Te),ke.globalCompositeOperation="source-in",ke.fillStyle=W?D.getPattern(ke,this,(0,u.getCurrentTransformInverse)(p),P.PathType.FILL):D,ke.fillRect(0,0,se,pe),ke.restore(),p.save(),p.transform(..._e),p.scale(1,-1),v(p,Ae.canvas,0,0,se,pe,0,-1,1,1),p.restore()}this.compose()}paintImageXObject(f){if(!this.contentVisible)return;const p=this.getObject(f);if(!p){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(p)}paintImageXObjectRepeat(f,p,D,W){if(!this.contentVisible)return;const q=this.getObject(f);if(!q){(0,a.warn)("Dependent image isn't ready yet");return}const X=q.width,se=q.height,pe=[];for(let _e=0,Ae=W.length;_e<Ae;_e+=2)pe.push({transform:[p,0,0,D,W[_e],W[_e+1]],x:0,y:0,w:X,h:se});this.paintInlineImageXObjectGroup(q,pe)}applyTransferMapsToCanvas(f){return this.current.transferMaps!=="none"&&(f.filter=this.current.transferMaps,f.drawImage(f.canvas,0,0),f.filter="none"),f.canvas}applyTransferMapsToBitmap(f){if(this.current.transferMaps==="none")return f.bitmap;const{bitmap:p,width:D,height:W}=f,q=this.cachedCanvases.getCanvas("inlineImage",D,W),X=q.context;return X.filter=this.current.transferMaps,X.drawImage(p,0,0),X.filter="none",q.canvas}paintInlineImageXObject(f){if(!this.contentVisible)return;const p=f.width,D=f.height,W=this.ctx;if(this.save(),!a.isNodeJS){const{filter:se}=W;se!=="none"&&se!==""&&(W.filter="none")}W.scale(1/p,-1/D);let q;if(f.bitmap)q=this.applyTransferMapsToBitmap(f);else if(typeof HTMLElement=="function"&&f instanceof HTMLElement||!f.data)q=f;else{const pe=this.cachedCanvases.getCanvas("inlineImage",p,D).context;U(pe,f),q=this.applyTransferMapsToCanvas(pe)}const X=this._scaleImage(q,(0,u.getCurrentTransformInverse)(W));W.imageSmoothingEnabled=k((0,u.getCurrentTransform)(W),f.interpolate),v(W,X.img,0,0,X.paintWidth,X.paintHeight,0,-D,p,D),this.compose(),this.restore()}paintInlineImageXObjectGroup(f,p){if(!this.contentVisible)return;const D=this.ctx;let W;if(f.bitmap)W=f.bitmap;else{const q=f.width,X=f.height,pe=this.cachedCanvases.getCanvas("inlineImage",q,X).context;U(pe,f),W=this.applyTransferMapsToCanvas(pe)}for(const q of p)D.save(),D.transform(...q.transform),D.scale(1,-1),v(D,W,q.x,q.y,q.w,q.h,0,-1,1,1),D.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(f){}markPointProps(f,p){}beginMarkedContent(f){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(f,p){f==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(p)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(f){const p=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(f);const D=this.ctx;this.pendingClip&&(p||(this.pendingClip===oe?D.clip("evenodd"):D.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),D.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const f=(0,u.getCurrentTransform)(this.ctx);if(f[1]===0&&f[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(f[0]),Math.abs(f[3]));else{const p=Math.abs(f[0]*f[3]-f[2]*f[1]),D=Math.hypot(f[0],f[2]),W=Math.hypot(f[1],f[3]);this._cachedGetSinglePixelWidth=Math.max(D,W)/p}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:f}=this.current,{a:p,b:D,c:W,d:q}=this.ctx.getTransform();let X,se;if(D===0&&W===0){const pe=Math.abs(p),_e=Math.abs(q);if(pe===_e)if(f===0)X=se=1/pe;else{const Ae=pe*f;X=se=Ae<1?1/Ae:1}else if(f===0)X=1/pe,se=1/_e;else{const Ae=pe*f,ke=_e*f;X=Ae<1?1/Ae:1,se=ke<1?1/ke:1}}else{const pe=Math.abs(p*q-D*W),_e=Math.hypot(p,D),Ae=Math.hypot(W,q);if(f===0)X=Ae/pe,se=_e/pe;else{const ke=f*pe;X=Ae>ke?Ae/ke:1,se=_e>ke?_e/ke:1}}this._cachedScaleForStroking[0]=X,this._cachedScaleForStroking[1]=se}return this._cachedScaleForStroking}rescaleAndStroke(f){const{ctx:p}=this,{lineWidth:D}=this.current,[W,q]=this.getScaleForStroking();if(p.lineWidth=D||1,W===1&&q===1){p.stroke();return}const X=p.getLineDash();if(f&&p.save(),p.scale(W,q),X.length>0){const se=Math.max(W,q);p.setLineDash(X.map(pe=>pe/se)),p.lineDashOffset/=se}p.stroke(),f&&p.restore()}isContentVisible(){for(let f=this.markedContentStack.length-1;f>=0;f--)if(!this.markedContentStack[f].visible)return!1;return!0}};re=new WeakSet,Ga=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},qa=function(){if(this.pageColors){const f=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(f!=="none"){const p=this.ctx.filter;this.ctx.filter=f,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=p}}};let ee=B;s.CanvasGraphics=ee;for(const T in a.OPS)ee.prototype[T]!==void 0&&(ee.prototype[a.OPS[T]]=ee.prototype[T])},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=b;var a=c(1),u=c(6);const P={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=P;function O(x,L){if(!L)return;const U=L[2]-L[0],I=L[3]-L[1],y=new Path2D;y.rect(L[0],L[1],U,I),x.clip(y)}class G{constructor(){this.constructor===G&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class S extends G{constructor(L){super(),this._type=L[1],this._bbox=L[2],this._colorStops=L[3],this._p0=L[4],this._p1=L[5],this._r0=L[6],this._r1=L[7],this.matrix=null}_createGradient(L){let U;this._type==="axial"?U=L.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(U=L.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const I of this._colorStops)U.addColorStop(I[0],I[1]);return U}getPattern(L,U,I,y){let R;if(y===P.STROKE||y===P.FILL){const _=U.current.getClippedPathBoundingBox(y,(0,u.getCurrentTransform)(L))||[0,0,0,0],A=Math.ceil(_[2]-_[0])||1,C=Math.ceil(_[3]-_[1])||1,Y=U.cachedCanvases.getCanvas("pattern",A,C,!0),m=Y.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-_[0],-_[1]),I=a.Util.transform(I,[1,0,0,1,_[0],_[1]]),m.transform(...U.baseTransform),this.matrix&&m.transform(...this.matrix),O(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),R=L.createPattern(Y.canvas,"no-repeat");const k=new DOMMatrix(I);R.setTransform(k)}else O(L,this._bbox),R=this._createGradient(L);return R}}function w(x,L,U,I,y,R,_,A){const C=L.coords,Y=L.colors,m=x.data,k=x.width*4;let H;C[U+1]>C[I+1]&&(H=U,U=I,I=H,H=R,R=_,_=H),C[I+1]>C[y+1]&&(H=I,I=y,y=H,H=_,_=A,A=H),C[U+1]>C[I+1]&&(H=U,U=I,I=H,H=R,R=_,_=H);const te=(C[U]+L.offsetX)*L.scaleX,ne=(C[U+1]+L.offsetY)*L.scaleY,oe=(C[I]+L.offsetX)*L.scaleX,ee=(C[I+1]+L.offsetY)*L.scaleY,re=(C[y]+L.offsetX)*L.scaleX,z=(C[y+1]+L.offsetY)*L.scaleY;if(ne>=z)return;const K=Y[R],B=Y[R+1],T=Y[R+2],f=Y[_],p=Y[_+1],D=Y[_+2],W=Y[A],q=Y[A+1],X=Y[A+2],se=Math.round(ne),pe=Math.round(z);let _e,Ae,ke,Te,Le,ue,de,$;for(let Q=se;Q<=pe;Q++){if(Q<ee){const De=Q<ne?0:(ne-Q)/(ne-ee);_e=te-(te-oe)*De,Ae=K-(K-f)*De,ke=B-(B-p)*De,Te=T-(T-D)*De}else{let De;Q>z?De=1:ee===z?De=0:De=(ee-Q)/(ee-z),_e=oe-(oe-re)*De,Ae=f-(f-W)*De,ke=p-(p-q)*De,Te=D-(D-X)*De}let le;Q<ne?le=0:Q>z?le=1:le=(ne-Q)/(ne-z),Le=te-(te-re)*le,ue=K-(K-W)*le,de=B-(B-q)*le,$=T-(T-X)*le;const me=Math.round(Math.min(_e,Le)),Ce=Math.round(Math.max(_e,Le));let Ie=k*Q+me*4;for(let De=me;De<=Ce;De++)le=(_e-De)/(_e-Le),le<0?le=0:le>1&&(le=1),m[Ie++]=Ae-(Ae-ue)*le|0,m[Ie++]=ke-(ke-de)*le|0,m[Ie++]=Te-(Te-$)*le|0,m[Ie++]=255}}function g(x,L,U){const I=L.coords,y=L.colors;let R,_;switch(L.type){case"lattice":const A=L.verticesPerRow,C=Math.floor(I.length/A)-1,Y=A-1;for(R=0;R<C;R++){let m=R*A;for(let k=0;k<Y;k++,m++)w(x,U,I[m],I[m+1],I[m+A],y[m],y[m+1],y[m+A]),w(x,U,I[m+A+1],I[m+1],I[m+A],y[m+A+1],y[m+1],y[m+A])}break;case"triangles":for(R=0,_=I.length;R<_;R+=3)w(x,U,I[R],I[R+1],I[R+2],y[R],y[R+1],y[R+2]);break;default:throw new Error("illegal figure")}}class N extends G{constructor(L){super(),this._coords=L[2],this._colors=L[3],this._figures=L[4],this._bounds=L[5],this._bbox=L[7],this._background=L[8],this.matrix=null}_createMeshCanvas(L,U,I){const A=Math.floor(this._bounds[0]),C=Math.floor(this._bounds[1]),Y=Math.ceil(this._bounds[2])-A,m=Math.ceil(this._bounds[3])-C,k=Math.min(Math.ceil(Math.abs(Y*L[0]*1.1)),3e3),H=Math.min(Math.ceil(Math.abs(m*L[1]*1.1)),3e3),te=Y/k,ne=m/H,oe={coords:this._coords,colors:this._colors,offsetX:-A,offsetY:-C,scaleX:1/te,scaleY:1/ne},ee=k+2*2,re=H+2*2,z=I.getCanvas("mesh",ee,re,!1),K=z.context,B=K.createImageData(k,H);if(U){const f=B.data;for(let p=0,D=f.length;p<D;p+=4)f[p]=U[0],f[p+1]=U[1],f[p+2]=U[2],f[p+3]=255}for(const f of this._figures)g(B,f,oe);return K.putImageData(B,2,2),{canvas:z.canvas,offsetX:A-2*te,offsetY:C-2*ne,scaleX:te,scaleY:ne}}getPattern(L,U,I,y){O(L,this._bbox);let R;if(y===P.SHADING)R=a.Util.singularValueDecompose2dScale((0,u.getCurrentTransform)(L));else if(R=a.Util.singularValueDecompose2dScale(U.baseTransform),this.matrix){const A=a.Util.singularValueDecompose2dScale(this.matrix);R=[R[0]*A[0],R[1]*A[1]]}const _=this._createMeshCanvas(R,y===P.SHADING?null:this._background,U.cachedCanvases);return y!==P.SHADING&&(L.setTransform(...U.baseTransform),this.matrix&&L.transform(...this.matrix)),L.translate(_.offsetX,_.offsetY),L.scale(_.scaleX,_.scaleY),L.createPattern(_.canvas,"no-repeat")}}class F extends G{getPattern(){return"hotpink"}}function b(x){switch(x[0]){case"RadialAxial":return new S(x);case"Mesh":return new N(x);case"Dummy":return new F}throw new Error(`Unknown IR type: ${x[0]}`)}const E={COLORED:1,UNCOLORED:2},v=class v{constructor(L,U,I,y,R){this.operatorList=L[2],this.matrix=L[3]||[1,0,0,1,0,0],this.bbox=L[4],this.xstep=L[5],this.ystep=L[6],this.paintType=L[7],this.tilingType=L[8],this.color=U,this.ctx=I,this.canvasGraphicsFactory=y,this.baseTransform=R}createPatternCanvas(L){const U=this.operatorList,I=this.bbox,y=this.xstep,R=this.ystep,_=this.paintType,A=this.tilingType,C=this.color,Y=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+A);const m=I[0],k=I[1],H=I[2],te=I[3],ne=a.Util.singularValueDecompose2dScale(this.matrix),oe=a.Util.singularValueDecompose2dScale(this.baseTransform),ee=[ne[0]*oe[0],ne[1]*oe[1]],re=this.getSizeAndScale(y,this.ctx.canvas.width,ee[0]),z=this.getSizeAndScale(R,this.ctx.canvas.height,ee[1]),K=L.cachedCanvases.getCanvas("pattern",re.size,z.size,!0),B=K.context,T=Y.createCanvasGraphics(B);T.groupLevel=L.groupLevel,this.setFillAndStrokeStyleToContext(T,_,C);let f=m,p=k,D=H,W=te;return m<0&&(f=0,D+=Math.abs(m)),k<0&&(p=0,W+=Math.abs(k)),B.translate(-(re.scale*f),-(z.scale*p)),T.transform(re.scale,0,0,z.scale,0,0),B.save(),this.clipBbox(T,f,p,D,W),T.baseTransform=(0,u.getCurrentTransform)(T.ctx),T.executeOperatorList(U),T.endDrawing(),{canvas:K.canvas,scaleX:re.scale,scaleY:z.scale,offsetX:f,offsetY:p}}getSizeAndScale(L,U,I){L=Math.abs(L);const y=Math.max(v.MAX_PATTERN_SIZE,U);let R=Math.ceil(L*I);return R>=y?R=y:I=R/L,{scale:I,size:R}}clipBbox(L,U,I,y,R){const _=y-U,A=R-I;L.ctx.rect(U,I,_,A),L.current.updateRectMinMax((0,u.getCurrentTransform)(L.ctx),[U,I,y,R]),L.clip(),L.endPath()}setFillAndStrokeStyleToContext(L,U,I){const y=L.ctx,R=L.current;switch(U){case E.COLORED:const _=this.ctx;y.fillStyle=_.fillStyle,y.strokeStyle=_.strokeStyle,R.fillColor=_.fillStyle,R.strokeColor=_.strokeStyle;break;case E.UNCOLORED:const A=a.Util.makeHexColor(I[0],I[1],I[2]);y.fillStyle=A,y.strokeStyle=A,R.fillColor=A,R.strokeColor=A;break;default:throw new a.FormatError(`Unsupported paint type: ${U}`)}}getPattern(L,U,I,y){let R=I;y!==P.SHADING&&(R=a.Util.transform(R,U.baseTransform),this.matrix&&(R=a.Util.transform(R,this.matrix)));const _=this.createPatternCanvas(U);let A=new DOMMatrix(R);A=A.translate(_.offsetX,_.offsetY),A=A.scale(1/_.scaleX,1/_.scaleY);const C=L.createPattern(_.canvas,"repeat");return C.setTransform(A),C}};At(v,"MAX_PATTERN_SIZE",3e3);let M=v;s.TilingPattern=M},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=P,s.convertToRGBA=u,s.grayToRGBA=G;var a=c(1);function u(S){switch(S.kind){case a.ImageKind.GRAYSCALE_1BPP:return P(S);case a.ImageKind.RGB_24BPP:return O(S)}return null}function P({src:S,srcPos:w=0,dest:g,width:N,height:F,nonBlackColor:b=4294967295,inverseDecode:E=!1}){const M=a.FeatureTest.isLittleEndian?4278190080:255,[v,x]=E?[b,M]:[M,b],L=N>>3,U=N&7,I=S.length;g=new Uint32Array(g.buffer);let y=0;for(let R=0;R<F;R++){for(const A=w+L;w<A;w++){const C=w<I?S[w]:255;g[y++]=C&128?x:v,g[y++]=C&64?x:v,g[y++]=C&32?x:v,g[y++]=C&16?x:v,g[y++]=C&8?x:v,g[y++]=C&4?x:v,g[y++]=C&2?x:v,g[y++]=C&1?x:v}if(U===0)continue;const _=w<I?S[w++]:255;for(let A=0;A<U;A++)g[y++]=_&1<<7-A?x:v}return{srcPos:w,destPos:y}}function O({src:S,srcPos:w=0,dest:g,destPos:N=0,width:F,height:b}){let E=0;const M=S.length>>2,v=new Uint32Array(S.buffer,w,M);if(a.FeatureTest.isLittleEndian){for(;E<M-2;E+=3,N+=4){const x=v[E],L=v[E+1],U=v[E+2];g[N]=x|4278190080,g[N+1]=x>>>24|L<<8|4278190080,g[N+2]=L>>>16|U<<16|4278190080,g[N+3]=U>>>8|4278190080}for(let x=E*4,L=S.length;x<L;x+=3)g[N++]=S[x]|S[x+1]<<8|S[x+2]<<16|4278190080}else{for(;E<M-2;E+=3,N+=4){const x=v[E],L=v[E+1],U=v[E+2];g[N]=x|255,g[N+1]=x<<24|L>>>8|255,g[N+2]=L<<16|U>>>16|255,g[N+3]=U<<8|255}for(let x=E*4,L=S.length;x<L;x+=3)g[N++]=S[x]<<24|S[x+1]<<16|S[x+2]<<8|255}return{srcPos:w,destPos:N}}function G(S,w){if(a.FeatureTest.isLittleEndian)for(let g=0,N=S.length;g<N;g++)w[g]=S[g]*65793|4278190080;else for(let g=0,N=S.length;g<N;g++)w[g]=S[g]*16843008|255}},(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const c=Object.create(null);s.GlobalWorkerOptions=c,c.workerPort=null,c.workerSrc=""},(o,s,c)=>{var S,qc,Xc,zs;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var a=c(1);const u={UNKNOWN:0,DATA:1,ERROR:2},P={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function O(F){switch(F instanceof Error||typeof F=="object"&&F!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),F.name){case"AbortException":return new a.AbortException(F.message);case"MissingPDFException":return new a.MissingPDFException(F.message);case"PasswordException":return new a.PasswordException(F.message,F.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(F.message,F.status);case"UnknownErrorException":return new a.UnknownErrorException(F.message,F.details);default:return new a.UnknownErrorException(F.message,F.toString())}}class G{constructor(b,E,M){ve(this,S);this.sourceName=b,this.targetName=E,this.comObj=M,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=v=>{const x=v.data;if(x.targetName!==this.sourceName)return;if(x.stream){ce(this,S,Xc).call(this,x);return}if(x.callback){const U=x.callbackId,I=this.callbackCapabilities[U];if(!I)throw new Error(`Cannot resolve callback ${U}`);if(delete this.callbackCapabilities[U],x.callback===u.DATA)I.resolve(x.data);else if(x.callback===u.ERROR)I.reject(O(x.reason));else throw new Error("Unexpected callback case");return}const L=this.actionHandler[x.action];if(!L)throw new Error(`Unknown action from worker: ${x.action}`);if(x.callbackId){const U=this.sourceName,I=x.sourceName;new Promise(function(y){y(L(x.data))}).then(function(y){M.postMessage({sourceName:U,targetName:I,callback:u.DATA,callbackId:x.callbackId,data:y})},function(y){M.postMessage({sourceName:U,targetName:I,callback:u.ERROR,callbackId:x.callbackId,reason:O(y)})});return}if(x.streamId){ce(this,S,qc).call(this,x);return}L(x.data)},M.addEventListener("message",this._onComObjOnMessage)}on(b,E){const M=this.actionHandler;if(M[b])throw new Error(`There is already an actionName called "${b}"`);M[b]=E}send(b,E,M){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,data:E},M)}sendWithPromise(b,E,M){const v=this.callbackId++,x=new a.PromiseCapability;this.callbackCapabilities[v]=x;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,callbackId:v,data:E},M)}catch(L){x.reject(L)}return x.promise}sendWithStream(b,E,M,v){const x=this.streamId++,L=this.sourceName,U=this.targetName,I=this.comObj;return new ReadableStream({start:y=>{const R=new a.PromiseCapability;return this.streamControllers[x]={controller:y,startCall:R,pullCall:null,cancelCall:null,isClosed:!1},I.postMessage({sourceName:L,targetName:U,action:b,streamId:x,data:E,desiredSize:y.desiredSize},v),R.promise},pull:y=>{const R=new a.PromiseCapability;return this.streamControllers[x].pullCall=R,I.postMessage({sourceName:L,targetName:U,stream:P.PULL,streamId:x,desiredSize:y.desiredSize}),R.promise},cancel:y=>{(0,a.assert)(y instanceof Error,"cancel must have a valid reason");const R=new a.PromiseCapability;return this.streamControllers[x].cancelCall=R,this.streamControllers[x].isClosed=!0,I.postMessage({sourceName:L,targetName:U,stream:P.CANCEL,streamId:x,reason:O(y)}),R.promise}},M)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}S=new WeakSet,qc=function(b){const E=b.streamId,M=this.sourceName,v=b.sourceName,x=this.comObj,L=this,U=this.actionHandler[b.action],I={enqueue(y,R=1,_){if(this.isCancelled)return;const A=this.desiredSize;this.desiredSize-=R,A>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),x.postMessage({sourceName:M,targetName:v,stream:P.ENQUEUE,streamId:E,chunk:y},_)},close(){this.isCancelled||(this.isCancelled=!0,x.postMessage({sourceName:M,targetName:v,stream:P.CLOSE,streamId:E}),delete L.streamSinks[E])},error(y){(0,a.assert)(y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,x.postMessage({sourceName:M,targetName:v,stream:P.ERROR,streamId:E,reason:O(y)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:b.desiredSize,ready:null};I.sinkCapability.resolve(),I.ready=I.sinkCapability.promise,this.streamSinks[E]=I,new Promise(function(y){y(U(b.data,I))}).then(function(){x.postMessage({sourceName:M,targetName:v,stream:P.START_COMPLETE,streamId:E,success:!0})},function(y){x.postMessage({sourceName:M,targetName:v,stream:P.START_COMPLETE,streamId:E,reason:O(y)})})},Xc=function(b){const E=b.streamId,M=this.sourceName,v=b.sourceName,x=this.comObj,L=this.streamControllers[E],U=this.streamSinks[E];switch(b.stream){case P.START_COMPLETE:b.success?L.startCall.resolve():L.startCall.reject(O(b.reason));break;case P.PULL_COMPLETE:b.success?L.pullCall.resolve():L.pullCall.reject(O(b.reason));break;case P.PULL:if(!U){x.postMessage({sourceName:M,targetName:v,stream:P.PULL_COMPLETE,streamId:E,success:!0});break}U.desiredSize<=0&&b.desiredSize>0&&U.sinkCapability.resolve(),U.desiredSize=b.desiredSize,new Promise(function(I){var y;I((y=U.onPull)==null?void 0:y.call(U))}).then(function(){x.postMessage({sourceName:M,targetName:v,stream:P.PULL_COMPLETE,streamId:E,success:!0})},function(I){x.postMessage({sourceName:M,targetName:v,stream:P.PULL_COMPLETE,streamId:E,reason:O(I)})});break;case P.ENQUEUE:if((0,a.assert)(L,"enqueue should have stream controller"),L.isClosed)break;L.controller.enqueue(b.chunk);break;case P.CLOSE:if((0,a.assert)(L,"close should have stream controller"),L.isClosed)break;L.isClosed=!0,L.controller.close(),ce(this,S,zs).call(this,L,E);break;case P.ERROR:(0,a.assert)(L,"error should have stream controller"),L.controller.error(O(b.reason)),ce(this,S,zs).call(this,L,E);break;case P.CANCEL_COMPLETE:b.success?L.cancelCall.resolve():L.cancelCall.reject(O(b.reason)),ce(this,S,zs).call(this,L,E);break;case P.CANCEL:if(!U)break;new Promise(function(I){var y;I((y=U.onCancel)==null?void 0:y.call(U,O(b.reason)))}).then(function(){x.postMessage({sourceName:M,targetName:v,stream:P.CANCEL_COMPLETE,streamId:E,success:!0})},function(I){x.postMessage({sourceName:M,targetName:v,stream:P.CANCEL_COMPLETE,streamId:E,reason:O(I)})}),U.sinkCapability.reject(O(b.reason)),U.isCancelled=!0,delete this.streamSinks[E];break;default:throw new Error("Unexpected stream case")}},zs=async function(b,E){var M,v,x;await Promise.allSettled([(M=b.startCall)==null?void 0:M.promise,(v=b.pullCall)==null?void 0:v.promise,(x=b.cancelCall)==null?void 0:x.promise]),delete this.streamControllers[E]},s.MessageHandler=G},(o,s,c)=>{var P,O;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=c(1);class u{constructor({parsedData:S,rawData:w}){ve(this,P);ve(this,O);Ee(this,P,S),Ee(this,O,w)}getRaw(){return d(this,O)}get(S){return d(this,P).get(S)??null}getAll(){return(0,a.objectFromMap)(d(this,P))}has(S){return d(this,P).has(S)}}P=new WeakMap,O=new WeakMap,s.Metadata=u},(o,s,c)=>{var S,w,g,N,F,b,Xa;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var a=c(1),u=c(8);const P=Symbol("INTERNAL");class O{constructor(v,x){ve(this,S,!0);this.name=v,this.intent=x}get visible(){return d(this,S)}_setVisible(v,x){v!==P&&(0,a.unreachable)("Internal method `_setVisible` called."),Ee(this,S,x)}}S=new WeakMap;class G{constructor(v){ve(this,b);ve(this,w,null);ve(this,g,new Map);ve(this,N,null);ve(this,F,null);if(this.name=null,this.creator=null,v!==null){this.name=v.name,this.creator=v.creator,Ee(this,F,v.order);for(const x of v.groups)d(this,g).set(x.id,new O(x.name,x.intent));if(v.baseState==="OFF")for(const x of d(this,g).values())x._setVisible(P,!1);for(const x of v.on)d(this,g).get(x)._setVisible(P,!0);for(const x of v.off)d(this,g).get(x)._setVisible(P,!1);Ee(this,N,this.getHash())}}isVisible(v){if(d(this,g).size===0)return!0;if(!v)return(0,a.warn)("Optional content group not defined."),!0;if(v.type==="OCG")return d(this,g).has(v.id)?d(this,g).get(v.id).visible:((0,a.warn)(`Optional content group not found: ${v.id}`),!0);if(v.type==="OCMD"){if(v.expression)return ce(this,b,Xa).call(this,v.expression);if(!v.policy||v.policy==="AnyOn"){for(const x of v.ids){if(!d(this,g).has(x))return(0,a.warn)(`Optional content group not found: ${x}`),!0;if(d(this,g).get(x).visible)return!0}return!1}else if(v.policy==="AllOn"){for(const x of v.ids){if(!d(this,g).has(x))return(0,a.warn)(`Optional content group not found: ${x}`),!0;if(!d(this,g).get(x).visible)return!1}return!0}else if(v.policy==="AnyOff"){for(const x of v.ids){if(!d(this,g).has(x))return(0,a.warn)(`Optional content group not found: ${x}`),!0;if(!d(this,g).get(x).visible)return!0}return!1}else if(v.policy==="AllOff"){for(const x of v.ids){if(!d(this,g).has(x))return(0,a.warn)(`Optional content group not found: ${x}`),!0;if(d(this,g).get(x).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${v.policy}.`),!0}return(0,a.warn)(`Unknown group type ${v.type}.`),!0}setVisibility(v,x=!0){if(!d(this,g).has(v)){(0,a.warn)(`Optional content group not found: ${v}`);return}d(this,g).get(v)._setVisible(P,!!x),Ee(this,w,null)}get hasInitialVisibility(){return d(this,N)===null||this.getHash()===d(this,N)}getOrder(){return d(this,g).size?d(this,F)?d(this,F).slice():[...d(this,g).keys()]:null}getGroups(){return d(this,g).size>0?(0,a.objectFromMap)(d(this,g)):null}getGroup(v){return d(this,g).get(v)||null}getHash(){if(d(this,w)!==null)return d(this,w);const v=new u.MurmurHash3_64;for(const[x,L]of d(this,g))v.update(`${x}:${L.visible}`);return Ee(this,w,v.hexdigest())}}w=new WeakMap,g=new WeakMap,N=new WeakMap,F=new WeakMap,b=new WeakSet,Xa=function(v){const x=v.length;if(x<2)return!0;const L=v[0];for(let U=1;U<x;U++){const I=v[U];let y;if(Array.isArray(I))y=ce(this,b,Xa).call(this,I);else if(d(this,g).has(I))y=d(this,g).get(I).visible;else return(0,a.warn)(`Optional content group not found: ${I}`),!0;switch(L){case"And":if(!y)return!1;break;case"Or":if(y)return!0;break;case"Not":return!y;default:return!0}}return L==="And"},s.OptionalContentConfig=G},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var a=c(1),u=c(6);class P{constructor({length:w,initialData:g,progressiveDone:N=!1,contentDispositionFilename:F=null,disableRange:b=!1,disableStream:E=!1},M){if((0,a.assert)(M,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=N,this._contentDispositionFilename=F,(g==null?void 0:g.length)>0){const v=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;this._queuedChunks.push(v)}this._pdfDataRangeTransport=M,this._isStreamingSupported=!E,this._isRangeSupported=!b,this._contentLength=w,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((v,x)=>{this._onReceiveData({begin:v,chunk:x})}),this._pdfDataRangeTransport.addProgressListener((v,x)=>{this._onProgress({loaded:v,total:x})}),this._pdfDataRangeTransport.addProgressiveReadListener(v=>{this._onReceiveData({chunk:v})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:w,chunk:g}){const N=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;if(w===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(N):this._queuedChunks.push(N);else{const F=this._rangeReaders.some(function(b){return b._begin!==w?!1:(b._enqueue(N),!0)});(0,a.assert)(F,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var w;return((w=this._fullRequestReader)==null?void 0:w._loaded)??0}_onProgress(w){var g,N,F,b;w.total===void 0?(N=(g=this._rangeReaders[0])==null?void 0:g.onProgress)==null||N.call(g,{loaded:w.loaded}):(b=(F=this._fullRequestReader)==null?void 0:F.onProgress)==null||b.call(F,{loaded:w.loaded,total:w.total})}_onProgressiveDone(){var w;(w=this._fullRequestReader)==null||w.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(w){const g=this._rangeReaders.indexOf(w);g>=0&&this._rangeReaders.splice(g,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const w=this._queuedChunks;return this._queuedChunks=null,new O(this,w,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(w,g){if(g<=this._progressiveDataLength)return null;const N=new G(this,w,g);return this._pdfDataRangeTransport.requestDataRange(w,g),this._rangeReaders.push(N),N}cancelAllRequests(w){var g;(g=this._fullRequestReader)==null||g.cancel(w);for(const N of this._rangeReaders.slice(0))N.cancel(w);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=P;class O{constructor(w,g,N=!1,F=null){this._stream=w,this._done=N||!1,this._filename=(0,u.isPdfFile)(F)?F:null,this._queuedChunks=g||[],this._loaded=0;for(const b of this._queuedChunks)this._loaded+=b.byteLength;this._requests=[],this._headersReady=Promise.resolve(),w._fullRequestReader=this,this.onProgress=null}_enqueue(w){this._done||(this._requests.length>0?this._requests.shift().resolve({value:w,done:!1}):this._queuedChunks.push(w),this._loaded+=w.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const w=new a.PromiseCapability;return this._requests.push(w),w.promise}cancel(w){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class G{constructor(w,g,N){this._stream=w,this._begin=g,this._end=N,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(w){if(!this._done){if(this._requests.length===0)this._queuedChunk=w;else{this._requests.shift().resolve({value:w,done:!1});for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const g=this._queuedChunk;return this._queuedChunk=null,{value:g,done:!1}}if(this._done)return{value:void 0,done:!0};const w=new a.PromiseCapability;return this._requests.push(w),w.promise}cancel(w){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var a=c(1),u=c(20);function P(N,F,b){return{method:"GET",headers:N,signal:b.signal,mode:"cors",credentials:F?"include":"same-origin",redirect:"follow"}}function O(N){const F=new Headers;for(const b in N){const E=N[b];E!==void 0&&F.append(b,E)}return F}function G(N){return N instanceof Uint8Array?N.buffer:N instanceof ArrayBuffer?N:((0,a.warn)(`getArrayBuffer - unexpected data format: ${N}`),new Uint8Array(N).buffer)}class S{constructor(F){this.source=F,this.isHttp=/^https?:/i.test(F.url),this.httpHeaders=this.isHttp&&F.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var F;return((F=this._fullRequestReader)==null?void 0:F._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new w(this),this._fullRequestReader}getRangeReader(F,b){if(b<=this._progressiveDataLength)return null;const E=new g(this,F,b);return this._rangeRequestReaders.push(E),E}cancelAllRequests(F){var b;(b=this._fullRequestReader)==null||b.cancel(F);for(const E of this._rangeRequestReaders.slice(0))E.cancel(F)}}s.PDFFetchStream=S;class w{constructor(F){this._stream=F,this._reader=null,this._loaded=0,this._filename=null;const b=F.source;this._withCredentials=b.withCredentials||!1,this._contentLength=b.length,this._headersCapability=new a.PromiseCapability,this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._headers=O(this._stream.httpHeaders);const E=b.url;fetch(E,P(this._headers,this._withCredentials,this._abortController)).then(M=>{if(!(0,u.validateResponseStatus)(M.status))throw(0,u.createResponseStatusError)(M.status,E);this._reader=M.body.getReader(),this._headersCapability.resolve();const v=U=>M.headers.get(U),{allowRangeRequests:x,suggestedLength:L}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=x,this._contentLength=L||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(v),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var E;await this._headersCapability.promise;const{value:F,done:b}=await this._reader.read();return b?{value:F,done:b}:(this._loaded+=F.byteLength,(E=this.onProgress)==null||E.call(this,{loaded:this._loaded,total:this._contentLength}),{value:G(F),done:!1})}cancel(F){var b;(b=this._reader)==null||b.cancel(F),this._abortController.abort()}}class g{constructor(F,b,E){this._stream=F,this._reader=null,this._loaded=0;const M=F.source;this._withCredentials=M.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!M.disableStream,this._abortController=new AbortController,this._headers=O(this._stream.httpHeaders),this._headers.append("Range",`bytes=${b}-${E-1}`);const v=M.url;fetch(v,P(this._headers,this._withCredentials,this._abortController)).then(x=>{if(!(0,u.validateResponseStatus)(x.status))throw(0,u.createResponseStatusError)(x.status,v);this._readCapability.resolve(),this._reader=x.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var E;await this._readCapability.promise;const{value:F,done:b}=await this._reader.read();return b?{value:F,done:b}:(this._loaded+=F.byteLength,(E=this.onProgress)==null||E.call(this,{loaded:this._loaded}),{value:G(F),done:!1})}cancel(F){var b;(b=this._reader)==null||b.cancel(F),this._abortController.abort()}}},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=S,s.extractFilenameFromHeader=G,s.validateRangeRequestCapabilities=O,s.validateResponseStatus=w;var a=c(1),u=c(21),P=c(6);function O({getResponseHeader:g,isHttp:N,rangeChunkSize:F,disableRange:b}){const E={allowRangeRequests:!1,suggestedLength:void 0},M=parseInt(g("Content-Length"),10);return!Number.isInteger(M)||(E.suggestedLength=M,M<=2*F)||b||!N||g("Accept-Ranges")!=="bytes"||(g("Content-Encoding")||"identity")!=="identity"||(E.allowRangeRequests=!0),E}function G(g){const N=g("Content-Disposition");if(N){let F=(0,u.getFilenameFromContentDispositionHeader)(N);if(F.includes("%"))try{F=decodeURIComponent(F)}catch{}if((0,P.isPdfFile)(F))return F}return null}function S(g,N){return g===404||g===0&&N.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+N+'".'):new a.UnexpectedResponseException(`Unexpected server response (${g}) while retrieving PDF "${N}".`,g)}function w(g){return g===200||g===206}},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=u;var a=c(1);function u(P){let O=!0,G=S("filename\\*","i").exec(P);if(G){G=G[1];let M=F(G);return M=unescape(M),M=b(M),M=E(M),g(M)}if(G=N(P),G){const M=E(G);return g(M)}if(G=S("filename","i").exec(P),G){G=G[1];let M=F(G);return M=E(M),g(M)}function S(M,v){return new RegExp("(?:^|;)\\s*"+M+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function w(M,v){if(M){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const x=new TextDecoder(M,{fatal:!0}),L=(0,a.stringToBytes)(v);v=x.decode(L),O=!1}catch{}}return v}function g(M){return O&&/[\x80-\xff]/.test(M)&&(M=w("utf-8",M),O&&(M=w("iso-8859-1",M))),M}function N(M){const v=[];let x;const L=S("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(x=L.exec(M))!==null;){let[,I,y,R]=x;if(I=parseInt(I,10),I in v){if(I===0)break;continue}v[I]=[y,R]}const U=[];for(let I=0;I<v.length&&I in v;++I){let[y,R]=v[I];R=F(R),y&&(R=unescape(R),I===0&&(R=b(R))),U.push(R)}return U.join("")}function F(M){if(M.startsWith('"')){const v=M.slice(1).split('\\"');for(let x=0;x<v.length;++x){const L=v[x].indexOf('"');L!==-1&&(v[x]=v[x].slice(0,L),v.length=x+1),v[x]=v[x].replaceAll(/\\(.)/g,"$1")}M=v.join('"')}return M}function b(M){const v=M.indexOf("'");if(v===-1)return M;const x=M.slice(0,v),U=M.slice(v+1).replace(/^[^']*'/,"");return w(x,U)}function E(M){return!M.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(M)?M:M.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,x,L,U){if(L==="q"||L==="Q")return U=U.replaceAll("_"," "),U=U.replaceAll(/=([0-9a-fA-F]{2})/g,function(I,y){return String.fromCharCode(parseInt(y,16))}),w(x,U);try{U=atob(U)}catch{}return w(x,U)})}return""}},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var a=c(1),u=c(20);const P=200,O=206;function G(F){const b=F.response;return typeof b!="string"?b:(0,a.stringToBytes)(b).buffer}class S{constructor(b,E={}){this.url=b,this.isHttp=/^https?:/i.test(b),this.httpHeaders=this.isHttp&&E.httpHeaders||Object.create(null),this.withCredentials=E.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(b,E,M){const v={begin:b,end:E};for(const x in M)v[x]=M[x];return this.request(v)}requestFull(b){return this.request(b)}request(b){const E=new XMLHttpRequest,M=this.currXhrId++,v=this.pendingRequests[M]={xhr:E};E.open("GET",this.url),E.withCredentials=this.withCredentials;for(const x in this.httpHeaders){const L=this.httpHeaders[x];L!==void 0&&E.setRequestHeader(x,L)}return this.isHttp&&"begin"in b&&"end"in b?(E.setRequestHeader("Range",`bytes=${b.begin}-${b.end-1}`),v.expectedStatus=O):v.expectedStatus=P,E.responseType="arraybuffer",b.onError&&(E.onerror=function(x){b.onError(E.status)}),E.onreadystatechange=this.onStateChange.bind(this,M),E.onprogress=this.onProgress.bind(this,M),v.onHeadersReceived=b.onHeadersReceived,v.onDone=b.onDone,v.onError=b.onError,v.onProgress=b.onProgress,E.send(null),M}onProgress(b,E){var v;const M=this.pendingRequests[b];M&&((v=M.onProgress)==null||v.call(M,E))}onStateChange(b,E){var I,y,R;const M=this.pendingRequests[b];if(!M)return;const v=M.xhr;if(v.readyState>=2&&M.onHeadersReceived&&(M.onHeadersReceived(),delete M.onHeadersReceived),v.readyState!==4||!(b in this.pendingRequests))return;if(delete this.pendingRequests[b],v.status===0&&this.isHttp){(I=M.onError)==null||I.call(M,v.status);return}const x=v.status||P;if(!(x===P&&M.expectedStatus===O)&&x!==M.expectedStatus){(y=M.onError)==null||y.call(M,v.status);return}const U=G(v);if(x===O){const _=v.getResponseHeader("Content-Range"),A=/bytes (\d+)-(\d+)\/(\d+)/.exec(_);M.onDone({begin:parseInt(A[1],10),chunk:U})}else U?M.onDone({begin:0,chunk:U}):(R=M.onError)==null||R.call(M,v.status)}getRequestXhr(b){return this.pendingRequests[b].xhr}isPendingRequest(b){return b in this.pendingRequests}abortRequest(b){const E=this.pendingRequests[b].xhr;delete this.pendingRequests[b],E.abort()}}class w{constructor(b){this._source=b,this._manager=new S(b.url,{httpHeaders:b.httpHeaders,withCredentials:b.withCredentials}),this._rangeChunkSize=b.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(b){const E=this._rangeRequestReaders.indexOf(b);E>=0&&this._rangeRequestReaders.splice(E,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader}getRangeReader(b,E){const M=new N(this._manager,b,E);return M.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(M),M}cancelAllRequests(b){var E;(E=this._fullRequestReader)==null||E.cancel(b);for(const M of this._rangeRequestReaders.slice(0))M.cancel(b)}}s.PDFNetworkStream=w;class g{constructor(b,E){this._manager=b;const M={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=E.url,this._fullRequestId=b.requestFull(M),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=E.disableRange||!1,this._contentLength=E.length,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const b=this._fullRequestId,E=this._manager.getRequestXhr(b),M=L=>E.getResponseHeader(L),{allowRangeRequests:v,suggestedLength:x}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});v&&(this._isRangeSupported=!0),this._contentLength=x||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(M),this._isRangeSupported&&this._manager.abortRequest(b),this._headersReceivedCapability.resolve()}_onDone(b){if(b&&(this._requests.length>0?this._requests.shift().resolve({value:b.chunk,done:!1}):this._cachedChunks.push(b.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(b){this._storedError=(0,u.createResponseStatusError)(b,this._url),this._headersReceivedCapability.reject(this._storedError);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(b){var E;(E=this.onProgress)==null||E.call(this,{loaded:b.loaded,total:b.lengthComputable?b.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new a.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0,this._headersReceivedCapability.reject(b);for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class N{constructor(b,E,M){this._manager=b;const v={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._requestId=b.requestRange(E,M,v),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var b;(b=this.onClosed)==null||b.call(this,this)}_onDone(b){const E=b.chunk;this._requests.length>0?this._requests.shift().resolve({value:E,done:!1}):this._queuedChunk=E,this._done=!0;for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(b){this._storedError=(0,u.createResponseStatusError)(b,this._url);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(b){var E;this.isStreamingSupported||(E=this.onProgress)==null||E.call(this,{loaded:b.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const E=this._queuedChunk;return this._queuedChunk=null,{value:E,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new a.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var a=c(1),u=c(20);const P=/^file:\/\/\/[a-zA-Z]:\//;function O(M){const v=require$$5,x=v.parse(M);return x.protocol==="file:"||x.host?x:/^[a-z]:[/\\]/i.test(M)?v.parse(`file:///${M}`):(x.host||(x.protocol="file:"),x)}class G{constructor(v){this.source=v,this.url=O(v.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var v;return((v=this._fullRequestReader)==null?void 0:v._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new b(this):new N(this),this._fullRequestReader}getRangeReader(v,x){if(x<=this._progressiveDataLength)return null;const L=this.isFsUrl?new E(this,v,x):new F(this,v,x);return this._rangeRequestReaders.push(L),L}cancelAllRequests(v){var x;(x=this._fullRequestReader)==null||x.cancel(v);for(const L of this._rangeRequestReaders.slice(0))L.cancel(v)}}s.PDFNodeStream=G;class S{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null;const x=v.source;this._contentLength=x.length,this._loaded=0,this._filename=null,this._disableRange=x.disableRange||!1,this._rangeChunkSize=x.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!x.disableStream,this._isRangeSupported=!x.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var L;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const v=this._readableStream.read();return v===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=v.length,(L=this.onProgress)==null||L.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(v).buffer,done:!1})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",x=>{this._error(x)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class w{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const x=v.source;this._isStreamingSupported=!x.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var L;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const v=this._readableStream.read();return v===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=v.length,(L=this.onProgress)==null||L.call(this,{loaded:this._loaded}),{value:new Uint8Array(v).buffer,done:!1})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",x=>{this._error(x)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function g(M,v){return{protocol:M.protocol,auth:M.auth,host:M.hostname,port:M.port,path:M.path,method:"GET",headers:v}}class N extends S{constructor(v){super(v);const x=L=>{if(L.statusCode===404){const R=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=R,this._headersCapability.reject(R);return}this._headersCapability.resolve(),this._setReadableStream(L);const U=R=>this._readableStream.headers[R.toLowerCase()],{allowRangeRequests:I,suggestedLength:y}=(0,u.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:v.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=I,this._contentLength=y||this._contentLength,this._filename=(0,u.extractFilenameFromHeader)(U)};if(this._request=null,this._url.protocol==="http:"){const L=require$$5;this._request=L.request(g(this._url,v.httpHeaders),x)}else{const L=require$$5;this._request=L.request(g(this._url,v.httpHeaders),x)}this._request.on("error",L=>{this._storedError=L,this._headersCapability.reject(L)}),this._request.end()}}class F extends w{constructor(v,x,L){super(v),this._httpHeaders={};for(const I in v.httpHeaders){const y=v.httpHeaders[I];y!==void 0&&(this._httpHeaders[I]=y)}this._httpHeaders.Range=`bytes=${x}-${L-1}`;const U=I=>{if(I.statusCode===404){const y=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=y;return}this._setReadableStream(I)};if(this._request=null,this._url.protocol==="http:"){const I=require$$5;this._request=I.request(g(this._url,this._httpHeaders),U)}else{const I=require$$5;this._request=I.request(g(this._url,this._httpHeaders),U)}this._request.on("error",I=>{this._storedError=I}),this._request.end()}}class b extends S{constructor(v){super(v);let x=decodeURIComponent(this._url.path);P.test(this._url.href)&&(x=x.replace(/^\//,""));const L=require$$5;L.lstat(x,(U,I)=>{if(U){U.code==="ENOENT"&&(U=new a.MissingPDFException(`Missing PDF "${x}".`)),this._storedError=U,this._headersCapability.reject(U);return}this._contentLength=I.size,this._setReadableStream(L.createReadStream(x)),this._headersCapability.resolve()})}}class E extends w{constructor(v,x,L){super(v);let U=decodeURIComponent(this._url.path);P.test(this._url.href)&&(U=U.replace(/^\//,""));const I=require$$5;this._setReadableStream(I.createReadStream(U,{start:x,end:L-1}))}}},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var a=c(6),u=c(1);const P={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},O="http://www.w3.org/XML/1998/namespace",G="http://www.w3.org/1999/xlink",S=["butt","round","square"],w=["miter","round","bevel"],g=function(I,y="",R=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!R)return URL.createObjectURL(new Blob([I],{type:y}));const _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let A=`data:${y};base64,`;for(let C=0,Y=I.length;C<Y;C+=3){const m=I[C]&255,k=I[C+1]&255,H=I[C+2]&255,te=m>>2,ne=(m&3)<<4|k>>4,oe=C+1<Y?(k&15)<<2|H>>6:64,ee=C+2<Y?H&63:64;A+=_[te]+_[ne]+_[oe]+_[ee]}return A},N=function(){const I=new Uint8Array([137,80,78,71,13,10,26,10]),y=12,R=new Int32Array(256);for(let H=0;H<256;H++){let te=H;for(let ne=0;ne<8;ne++)te=te&1?3988292384^te>>1&2147483647:te>>1&2147483647;R[H]=te}function _(H,te,ne){let oe=-1;for(let ee=te;ee<ne;ee++){const re=(oe^H[ee])&255,z=R[re];oe=oe>>>8^z}return oe^-1}function A(H,te,ne,oe){let ee=oe;const re=te.length;ne[ee]=re>>24&255,ne[ee+1]=re>>16&255,ne[ee+2]=re>>8&255,ne[ee+3]=re&255,ee+=4,ne[ee]=H.charCodeAt(0)&255,ne[ee+1]=H.charCodeAt(1)&255,ne[ee+2]=H.charCodeAt(2)&255,ne[ee+3]=H.charCodeAt(3)&255,ee+=4,ne.set(te,ee),ee+=te.length;const z=_(ne,oe+4,ee);ne[ee]=z>>24&255,ne[ee+1]=z>>16&255,ne[ee+2]=z>>8&255,ne[ee+3]=z&255}function C(H,te,ne){let oe=1,ee=0;for(let re=te;re<ne;++re)oe=(oe+(H[re]&255))%65521,ee=(ee+oe)%65521;return ee<<16|oe}function Y(H){if(!u.isNodeJS)return m(H);try{const te=parseInt(process.versions.node)>=8?H:Buffer.from(H),ne=require$$5.deflateSync(te,{level:9});return ne instanceof Uint8Array?ne:new Uint8Array(ne)}catch(te){(0,u.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+te)}return m(H)}function m(H){let te=H.length;const ne=65535,oe=Math.ceil(te/ne),ee=new Uint8Array(2+te+oe*5+4);let re=0;ee[re++]=120,ee[re++]=156;let z=0;for(;te>ne;)ee[re++]=0,ee[re++]=255,ee[re++]=255,ee[re++]=0,ee[re++]=0,ee.set(H.subarray(z,z+ne),re),re+=ne,z+=ne,te-=ne;ee[re++]=1,ee[re++]=te&255,ee[re++]=te>>8&255,ee[re++]=~te&65535&255,ee[re++]=(~te&65535)>>8&255,ee.set(H.subarray(z),re),re+=H.length-z;const K=C(H,0,H.length);return ee[re++]=K>>24&255,ee[re++]=K>>16&255,ee[re++]=K>>8&255,ee[re++]=K&255,ee}function k(H,te,ne,oe){const ee=H.width,re=H.height;let z,K,B;const T=H.data;switch(te){case u.ImageKind.GRAYSCALE_1BPP:K=0,z=1,B=ee+7>>3;break;case u.ImageKind.RGB_24BPP:K=2,z=8,B=ee*3;break;case u.ImageKind.RGBA_32BPP:K=6,z=8,B=ee*4;break;default:throw new Error("invalid format")}const f=new Uint8Array((1+B)*re);let p=0,D=0;for(let _e=0;_e<re;++_e)f[p++]=0,f.set(T.subarray(D,D+B),p),D+=B,p+=B;if(te===u.ImageKind.GRAYSCALE_1BPP&&oe){p=0;for(let _e=0;_e<re;_e++){p++;for(let Ae=0;Ae<B;Ae++)f[p++]^=255}}const W=new Uint8Array([ee>>24&255,ee>>16&255,ee>>8&255,ee&255,re>>24&255,re>>16&255,re>>8&255,re&255,z,K,0,0,0]),q=Y(f),X=I.length+y*3+W.length+q.length,se=new Uint8Array(X);let pe=0;return se.set(I,pe),pe+=I.length,A("IHDR",W,se,pe),pe+=y+W.length,A("IDATA",q,se,pe),pe+=y+q.length,A("IEND",new Uint8Array(0),se,pe),g(se,"image/png",ne)}return function(te,ne,oe){const ee=te.kind===void 0?u.ImageKind.GRAYSCALE_1BPP:te.kind;return k(te,ee,ne,oe)}}();class F{constructor(){this.fontSizeScale=1,this.fontWeight=P.fontWeight,this.fontSize=0,this.textMatrix=u.IDENTITY_MATRIX,this.fontMatrix=u.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=u.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=P.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(y,R){this.x=y,this.y=R}}function b(I){let y=[];const R=[];for(const _ of I){if(_.fn==="save"){y.push({fnId:92,fn:"group",items:[]}),R.push(y),y=y.at(-1).items;continue}_.fn==="restore"?y=R.pop():y.push(_)}return y}function E(I){if(Number.isInteger(I))return I.toString();const y=I.toFixed(10);let R=y.length-1;if(y[R]!=="0")return y;do R--;while(y[R]==="0");return y.substring(0,y[R]==="."?R:R+1)}function M(I){if(I[4]===0&&I[5]===0){if(I[1]===0&&I[2]===0)return I[0]===1&&I[3]===1?"":`scale(${E(I[0])} ${E(I[3])})`;if(I[0]===I[3]&&I[1]===-I[2]){const y=Math.acos(I[0])*180/Math.PI;return`rotate(${E(y)})`}}else if(I[0]===1&&I[1]===0&&I[2]===0&&I[3]===1)return`translate(${E(I[4])} ${E(I[5])})`;return`matrix(${E(I[0])} ${E(I[1])} ${E(I[2])} ${E(I[3])} ${E(I[4])} ${E(I[5])})`}let v=0,x=0,L=0;class U{constructor(y,R,_=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new F,this.transformMatrix=u.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=y,this.objs=R,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!_,this._operatorIdMapping=[];for(const A in u.OPS)this._operatorIdMapping[u.OPS[A]]=A}getObject(y,R=null){return typeof y=="string"?y.startsWith("g_")?this.commonObjs.get(y):this.objs.get(y):R}save(){this.transformStack.push(this.transformMatrix);const y=this.current;this.extraStack.push(y),this.current=y.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(y){this.save(),this.executeOpTree(y),this.restore()}loadDependencies(y){const R=y.fnArray,_=y.argsArray;for(let A=0,C=R.length;A<C;A++)if(R[A]===u.OPS.dependency)for(const Y of _[A]){const m=Y.startsWith("g_")?this.commonObjs:this.objs,k=new Promise(H=>{m.get(Y,H)});this.current.dependencies.push(k)}return Promise.all(this.current.dependencies)}transform(y,R,_,A,C,Y){const m=[y,R,_,A,C,Y];this.transformMatrix=u.Util.transform(this.transformMatrix,m),this.tgrp=null}getSVG(y,R){this.viewport=R;const _=this._initialize(R);return this.loadDependencies(y).then(()=>(this.transformMatrix=u.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(y)),_))}convertOpList(y){const R=this._operatorIdMapping,_=y.argsArray,A=y.fnArray,C=[];for(let Y=0,m=A.length;Y<m;Y++){const k=A[Y];C.push({fnId:k,fn:R[k],args:_[Y]})}return b(C)}executeOpTree(y){for(const R of y){const _=R.fn,A=R.fnId,C=R.args;switch(A|0){case u.OPS.beginText:this.beginText();break;case u.OPS.dependency:break;case u.OPS.setLeading:this.setLeading(C);break;case u.OPS.setLeadingMoveText:this.setLeadingMoveText(C[0],C[1]);break;case u.OPS.setFont:this.setFont(C);break;case u.OPS.showText:this.showText(C[0]);break;case u.OPS.showSpacedText:this.showText(C[0]);break;case u.OPS.endText:this.endText();break;case u.OPS.moveText:this.moveText(C[0],C[1]);break;case u.OPS.setCharSpacing:this.setCharSpacing(C[0]);break;case u.OPS.setWordSpacing:this.setWordSpacing(C[0]);break;case u.OPS.setHScale:this.setHScale(C[0]);break;case u.OPS.setTextMatrix:this.setTextMatrix(C[0],C[1],C[2],C[3],C[4],C[5]);break;case u.OPS.setTextRise:this.setTextRise(C[0]);break;case u.OPS.setTextRenderingMode:this.setTextRenderingMode(C[0]);break;case u.OPS.setLineWidth:this.setLineWidth(C[0]);break;case u.OPS.setLineJoin:this.setLineJoin(C[0]);break;case u.OPS.setLineCap:this.setLineCap(C[0]);break;case u.OPS.setMiterLimit:this.setMiterLimit(C[0]);break;case u.OPS.setFillRGBColor:this.setFillRGBColor(C[0],C[1],C[2]);break;case u.OPS.setStrokeRGBColor:this.setStrokeRGBColor(C[0],C[1],C[2]);break;case u.OPS.setStrokeColorN:this.setStrokeColorN(C);break;case u.OPS.setFillColorN:this.setFillColorN(C);break;case u.OPS.shadingFill:this.shadingFill(C[0]);break;case u.OPS.setDash:this.setDash(C[0],C[1]);break;case u.OPS.setRenderingIntent:this.setRenderingIntent(C[0]);break;case u.OPS.setFlatness:this.setFlatness(C[0]);break;case u.OPS.setGState:this.setGState(C[0]);break;case u.OPS.fill:this.fill();break;case u.OPS.eoFill:this.eoFill();break;case u.OPS.stroke:this.stroke();break;case u.OPS.fillStroke:this.fillStroke();break;case u.OPS.eoFillStroke:this.eoFillStroke();break;case u.OPS.clip:this.clip("nonzero");break;case u.OPS.eoClip:this.clip("evenodd");break;case u.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case u.OPS.paintImageXObject:this.paintImageXObject(C[0]);break;case u.OPS.paintInlineImageXObject:this.paintInlineImageXObject(C[0]);break;case u.OPS.paintImageMaskXObject:this.paintImageMaskXObject(C[0]);break;case u.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(C[0],C[1]);break;case u.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case u.OPS.closePath:this.closePath();break;case u.OPS.closeStroke:this.closeStroke();break;case u.OPS.closeFillStroke:this.closeFillStroke();break;case u.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case u.OPS.nextLine:this.nextLine();break;case u.OPS.transform:this.transform(C[0],C[1],C[2],C[3],C[4],C[5]);break;case u.OPS.constructPath:this.constructPath(C[0],C[1]);break;case u.OPS.endPath:this.endPath();break;case 92:this.group(R.items);break;default:(0,u.warn)(`Unimplemented operator ${_}`);break}}}setWordSpacing(y){this.current.wordSpacing=y}setCharSpacing(y){this.current.charSpacing=y}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(y,R,_,A,C,Y){const m=this.current;m.textMatrix=m.lineMatrix=[y,R,_,A,C,Y],m.textMatrixScale=Math.hypot(y,R),m.x=m.lineX=0,m.y=m.lineY=0,m.xcoords=[],m.ycoords=[],m.tspan=this.svgFactory.createElement("svg:tspan"),m.tspan.setAttributeNS(null,"font-family",m.fontFamily),m.tspan.setAttributeNS(null,"font-size",`${E(m.fontSize)}px`),m.tspan.setAttributeNS(null,"y",E(-m.y)),m.txtElement=this.svgFactory.createElement("svg:text"),m.txtElement.append(m.tspan)}beginText(){const y=this.current;y.x=y.lineX=0,y.y=y.lineY=0,y.textMatrix=u.IDENTITY_MATRIX,y.lineMatrix=u.IDENTITY_MATRIX,y.textMatrixScale=1,y.tspan=this.svgFactory.createElement("svg:tspan"),y.txtElement=this.svgFactory.createElement("svg:text"),y.txtgrp=this.svgFactory.createElement("svg:g"),y.xcoords=[],y.ycoords=[]}moveText(y,R){const _=this.current;_.x=_.lineX+=y,_.y=_.lineY+=R,_.xcoords=[],_.ycoords=[],_.tspan=this.svgFactory.createElement("svg:tspan"),_.tspan.setAttributeNS(null,"font-family",_.fontFamily),_.tspan.setAttributeNS(null,"font-size",`${E(_.fontSize)}px`),_.tspan.setAttributeNS(null,"y",E(-_.y))}showText(y){const R=this.current,_=R.font,A=R.fontSize;if(A===0)return;const C=R.fontSizeScale,Y=R.charSpacing,m=R.wordSpacing,k=R.fontDirection,H=R.textHScale*k,te=_.vertical,ne=te?1:-1,oe=_.defaultVMetrics,ee=A*R.fontMatrix[0];let re=0;for(const B of y){if(B===null){re+=k*m;continue}else if(typeof B=="number"){re+=ne*B*A/1e3;continue}const T=(B.isSpace?m:0)+Y,f=B.fontChar;let p,D,W=B.width;if(te){let X;const se=B.vmetric||oe;X=B.vmetric?se[1]:W*.5,X=-X*ee;const pe=se[2]*ee;W=se?-se[0]:W,p=X/C,D=(re+pe)/C}else p=re/C,D=0;(B.isInFont||_.missingFile)&&(R.xcoords.push(R.x+p),te&&R.ycoords.push(-R.y+D),R.tspan.textContent+=f);const q=te?W*ee-T*k:W*ee+T*k;re+=q}R.tspan.setAttributeNS(null,"x",R.xcoords.map(E).join(" ")),te?R.tspan.setAttributeNS(null,"y",R.ycoords.map(E).join(" ")):R.tspan.setAttributeNS(null,"y",E(-R.y)),te?R.y-=re:R.x+=re*H,R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${E(R.fontSize)}px`),R.fontStyle!==P.fontStyle&&R.tspan.setAttributeNS(null,"font-style",R.fontStyle),R.fontWeight!==P.fontWeight&&R.tspan.setAttributeNS(null,"font-weight",R.fontWeight);const z=R.textRenderingMode&u.TextRenderingMode.FILL_STROKE_MASK;if(z===u.TextRenderingMode.FILL||z===u.TextRenderingMode.FILL_STROKE?(R.fillColor!==P.fillColor&&R.tspan.setAttributeNS(null,"fill",R.fillColor),R.fillAlpha<1&&R.tspan.setAttributeNS(null,"fill-opacity",R.fillAlpha)):R.textRenderingMode===u.TextRenderingMode.ADD_TO_PATH?R.tspan.setAttributeNS(null,"fill","transparent"):R.tspan.setAttributeNS(null,"fill","none"),z===u.TextRenderingMode.STROKE||z===u.TextRenderingMode.FILL_STROKE){const B=1/(R.textMatrixScale||1);this._setStrokeAttributes(R.tspan,B)}let K=R.textMatrix;R.textRise!==0&&(K=K.slice(),K[5]+=R.textRise),R.txtElement.setAttributeNS(null,"transform",`${M(K)} scale(${E(H)}, -1)`),R.txtElement.setAttributeNS(O,"xml:space","preserve"),R.txtElement.append(R.tspan),R.txtgrp.append(R.txtElement),this._ensureTransformGroup().append(R.txtElement)}setLeadingMoveText(y,R){this.setLeading(-R),this.moveText(y,R)}addFontStyle(y){if(!y.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const R=g(y.data,y.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${y.loadedName}"; src: url(${R}); }
`}setFont(y){const R=this.current,_=this.commonObjs.get(y[0]);let A=y[1];R.font=_,this.embedFonts&&!_.missingFile&&!this.embeddedFonts[_.loadedName]&&(this.addFontStyle(_),this.embeddedFonts[_.loadedName]=_),R.fontMatrix=_.fontMatrix||u.FONT_IDENTITY_MATRIX;let C="normal";_.black?C="900":_.bold&&(C="bold");const Y=_.italic?"italic":"normal";A<0?(A=-A,R.fontDirection=-1):R.fontDirection=1,R.fontSize=A,R.fontFamily=_.loadedName,R.fontWeight=C,R.fontStyle=Y,R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"y",E(-R.y)),R.xcoords=[],R.ycoords=[]}endText(){var R;const y=this.current;y.textRenderingMode&u.TextRenderingMode.ADD_TO_PATH_FLAG&&((R=y.txtElement)!=null&&R.hasChildNodes())&&(y.element=y.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(y){y>0&&(this.current.lineWidth=y)}setLineCap(y){this.current.lineCap=S[y]}setLineJoin(y){this.current.lineJoin=w[y]}setMiterLimit(y){this.current.miterLimit=y}setStrokeAlpha(y){this.current.strokeAlpha=y}setStrokeRGBColor(y,R,_){this.current.strokeColor=u.Util.makeHexColor(y,R,_)}setFillAlpha(y){this.current.fillAlpha=y}setFillRGBColor(y,R,_){this.current.fillColor=u.Util.makeHexColor(y,R,_),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(y){this.current.strokeColor=this._makeColorN_Pattern(y)}setFillColorN(y){this.current.fillColor=this._makeColorN_Pattern(y)}shadingFill(y){const{width:R,height:_}=this.viewport,A=u.Util.inverseTransform(this.transformMatrix),[C,Y,m,k]=u.Util.getAxialAlignedBoundingBox([0,0,R,_],A),H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x",C),H.setAttributeNS(null,"y",Y),H.setAttributeNS(null,"width",m-C),H.setAttributeNS(null,"height",k-Y),H.setAttributeNS(null,"fill",this._makeShadingPattern(y)),this.current.fillAlpha<1&&H.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(H)}_makeColorN_Pattern(y){return y[0]==="TilingPattern"?this._makeTilingPattern(y):this._makeShadingPattern(y)}_makeTilingPattern(y){const R=y[1],_=y[2],A=y[3]||u.IDENTITY_MATRIX,[C,Y,m,k]=y[4],H=y[5],te=y[6],ne=y[7],oe=`shading${L++}`,[ee,re,z,K]=u.Util.normalizeRect([...u.Util.applyTransform([C,Y],A),...u.Util.applyTransform([m,k],A)]),[B,T]=u.Util.singularValueDecompose2dScale(A),f=H*B,p=te*T,D=this.svgFactory.createElement("svg:pattern");D.setAttributeNS(null,"id",oe),D.setAttributeNS(null,"patternUnits","userSpaceOnUse"),D.setAttributeNS(null,"width",f),D.setAttributeNS(null,"height",p),D.setAttributeNS(null,"x",`${ee}`),D.setAttributeNS(null,"y",`${re}`);const W=this.svg,q=this.transformMatrix,X=this.current.fillColor,se=this.current.strokeColor,pe=this.svgFactory.create(z-ee,K-re);if(this.svg=pe,this.transformMatrix=A,ne===2){const _e=u.Util.makeHexColor(...R);this.current.fillColor=_e,this.current.strokeColor=_e}return this.executeOpTree(this.convertOpList(_)),this.svg=W,this.transformMatrix=q,this.current.fillColor=X,this.current.strokeColor=se,D.append(pe.childNodes[0]),this.defs.append(D),`url(#${oe})`}_makeShadingPattern(y){switch(typeof y=="string"&&(y=this.objs.get(y)),y[0]){case"RadialAxial":const R=`shading${L++}`,_=y[3];let A;switch(y[1]){case"axial":const C=y[4],Y=y[5];A=this.svgFactory.createElement("svg:linearGradient"),A.setAttributeNS(null,"id",R),A.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),A.setAttributeNS(null,"x1",C[0]),A.setAttributeNS(null,"y1",C[1]),A.setAttributeNS(null,"x2",Y[0]),A.setAttributeNS(null,"y2",Y[1]);break;case"radial":const m=y[4],k=y[5],H=y[6],te=y[7];A=this.svgFactory.createElement("svg:radialGradient"),A.setAttributeNS(null,"id",R),A.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),A.setAttributeNS(null,"cx",k[0]),A.setAttributeNS(null,"cy",k[1]),A.setAttributeNS(null,"r",te),A.setAttributeNS(null,"fx",m[0]),A.setAttributeNS(null,"fy",m[1]),A.setAttributeNS(null,"fr",H);break;default:throw new Error(`Unknown RadialAxial type: ${y[1]}`)}for(const C of _){const Y=this.svgFactory.createElement("svg:stop");Y.setAttributeNS(null,"offset",C[0]),Y.setAttributeNS(null,"stop-color",C[1]),A.append(Y)}return this.defs.append(A),`url(#${R})`;case"Mesh":return(0,u.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${y[0]}`)}}setDash(y,R){this.current.dashArray=y,this.current.dashPhase=R}constructPath(y,R){const _=this.current;let A=_.x,C=_.y,Y=[],m=0;for(const k of y)switch(k|0){case u.OPS.rectangle:A=R[m++],C=R[m++];const H=R[m++],te=R[m++],ne=A+H,oe=C+te;Y.push("M",E(A),E(C),"L",E(ne),E(C),"L",E(ne),E(oe),"L",E(A),E(oe),"Z");break;case u.OPS.moveTo:A=R[m++],C=R[m++],Y.push("M",E(A),E(C));break;case u.OPS.lineTo:A=R[m++],C=R[m++],Y.push("L",E(A),E(C));break;case u.OPS.curveTo:A=R[m+4],C=R[m+5],Y.push("C",E(R[m]),E(R[m+1]),E(R[m+2]),E(R[m+3]),E(A),E(C)),m+=6;break;case u.OPS.curveTo2:Y.push("C",E(A),E(C),E(R[m]),E(R[m+1]),E(R[m+2]),E(R[m+3])),A=R[m+2],C=R[m+3],m+=4;break;case u.OPS.curveTo3:A=R[m+2],C=R[m+3],Y.push("C",E(R[m]),E(R[m+1]),E(A),E(C),E(A),E(C)),m+=4;break;case u.OPS.closePath:Y.push("Z");break}Y=Y.join(" "),_.path&&y.length>0&&y[0]!==u.OPS.rectangle&&y[0]!==u.OPS.moveTo?Y=_.path.getAttributeNS(null,"d")+Y:(_.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(_.path)),_.path.setAttributeNS(null,"d",Y),_.path.setAttributeNS(null,"fill","none"),_.element=_.path,_.setCurrentPoint(A,C)}endPath(){const y=this.current;if(y.path=null,!this.pendingClip)return;if(!y.element){this.pendingClip=null;return}const R=`clippath${v++}`,_=this.svgFactory.createElement("svg:clipPath");_.setAttributeNS(null,"id",R),_.setAttributeNS(null,"transform",M(this.transformMatrix));const A=y.element.cloneNode(!0);if(this.pendingClip==="evenodd"?A.setAttributeNS(null,"clip-rule","evenodd"):A.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,_.append(A),this.defs.append(_),y.activeClipUrl){y.clipGroup=null;for(const C of this.extraStack)C.clipGroup=null;_.setAttributeNS(null,"clip-path",y.activeClipUrl)}y.activeClipUrl=`url(#${R})`,this.tgrp=null}clip(y){this.pendingClip=y}closePath(){const y=this.current;if(y.path){const R=`${y.path.getAttributeNS(null,"d")}Z`;y.path.setAttributeNS(null,"d",R)}}setLeading(y){this.current.leading=-y}setTextRise(y){this.current.textRise=y}setTextRenderingMode(y){this.current.textRenderingMode=y}setHScale(y){this.current.textHScale=y/100}setRenderingIntent(y){}setFlatness(y){}setGState(y){for(const[R,_]of y)switch(R){case"LW":this.setLineWidth(_);break;case"LC":this.setLineCap(_);break;case"LJ":this.setLineJoin(_);break;case"ML":this.setMiterLimit(_);break;case"D":this.setDash(_[0],_[1]);break;case"RI":this.setRenderingIntent(_);break;case"FL":this.setFlatness(_);break;case"Font":this.setFont(_);break;case"CA":this.setStrokeAlpha(_);break;case"ca":this.setFillAlpha(_);break;default:(0,u.warn)(`Unimplemented graphic state operator ${R}`);break}}fill(){const y=this.current;y.element&&(y.element.setAttributeNS(null,"fill",y.fillColor),y.element.setAttributeNS(null,"fill-opacity",y.fillAlpha),this.endPath())}stroke(){const y=this.current;y.element&&(this._setStrokeAttributes(y.element),y.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(y,R=1){const _=this.current;let A=_.dashArray;R!==1&&A.length>0&&(A=A.map(function(C){return R*C})),y.setAttributeNS(null,"stroke",_.strokeColor),y.setAttributeNS(null,"stroke-opacity",_.strokeAlpha),y.setAttributeNS(null,"stroke-miterlimit",E(_.miterLimit)),y.setAttributeNS(null,"stroke-linecap",_.lineCap),y.setAttributeNS(null,"stroke-linejoin",_.lineJoin),y.setAttributeNS(null,"stroke-width",E(R*_.lineWidth)+"px"),y.setAttributeNS(null,"stroke-dasharray",A.map(E).join(" ")),y.setAttributeNS(null,"stroke-dashoffset",E(R*_.dashPhase)+"px")}eoFill(){var y;(y=this.current.element)==null||y.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var y;(y=this.current.element)==null||y.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x","0"),y.setAttributeNS(null,"y","0"),y.setAttributeNS(null,"width","1px"),y.setAttributeNS(null,"height","1px"),y.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(y)}paintImageXObject(y){const R=this.getObject(y);if(!R){(0,u.warn)(`Dependent image with object ID ${y} is not ready yet`);return}this.paintInlineImageXObject(R)}paintInlineImageXObject(y,R){const _=y.width,A=y.height,C=N(y,this.forceDataSchema,!!R),Y=this.svgFactory.createElement("svg:rect");Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y","0"),Y.setAttributeNS(null,"width",E(_)),Y.setAttributeNS(null,"height",E(A)),this.current.element=Y,this.clip("nonzero");const m=this.svgFactory.createElement("svg:image");m.setAttributeNS(G,"xlink:href",C),m.setAttributeNS(null,"x","0"),m.setAttributeNS(null,"y",E(-A)),m.setAttributeNS(null,"width",E(_)+"px"),m.setAttributeNS(null,"height",E(A)+"px"),m.setAttributeNS(null,"transform",`scale(${E(1/_)} ${E(-1/A)})`),R?R.append(m):this._ensureTransformGroup().append(m)}paintImageMaskXObject(y){const R=this.getObject(y.data,y);if(R.bitmap){(0,u.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const _=this.current,A=R.width,C=R.height,Y=_.fillColor;_.maskId=`mask${x++}`;const m=this.svgFactory.createElement("svg:mask");m.setAttributeNS(null,"id",_.maskId);const k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y","0"),k.setAttributeNS(null,"width",E(A)),k.setAttributeNS(null,"height",E(C)),k.setAttributeNS(null,"fill",Y),k.setAttributeNS(null,"mask",`url(#${_.maskId})`),this.defs.append(m),this._ensureTransformGroup().append(k),this.paintInlineImageXObject(R,m)}paintFormXObjectBegin(y,R){if(Array.isArray(y)&&y.length===6&&this.transform(y[0],y[1],y[2],y[3],y[4],y[5]),R){const _=R[2]-R[0],A=R[3]-R[1],C=this.svgFactory.createElement("svg:rect");C.setAttributeNS(null,"x",R[0]),C.setAttributeNS(null,"y",R[1]),C.setAttributeNS(null,"width",E(_)),C.setAttributeNS(null,"height",E(A)),this.current.element=C,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(y){const R=this.svgFactory.create(y.width,y.height),_=this.svgFactory.createElement("svg:defs");R.append(_),this.defs=_;const A=this.svgFactory.createElement("svg:g");return A.setAttributeNS(null,"transform",M(y.transform)),R.append(A),this.svg=A,R}_ensureClipGroup(){if(!this.current.clipGroup){const y=this.svgFactory.createElement("svg:g");y.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(y),this.current.clipGroup=y}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",M(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=U},(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class c{static textContent(u){const P=[],O={items:P,styles:Object.create(null)};function G(S){var N;if(!S)return;let w=null;const g=S.name;if(g==="#text")w=S.value;else if(c.shouldBuildText(g))(N=S==null?void 0:S.attributes)!=null&&N.textContent?w=S.attributes.textContent:S.value&&(w=S.value);else return;if(w!==null&&P.push({str:w}),!!S.children)for(const F of S.children)G(F)}return G(u),O}static shouldBuildText(u){return!(u==="textarea"||u==="input"||u==="option"||u==="select")}}s.XfaText=c},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=M,s.updateTextLayer=v;var a=c(1),u=c(6);const P=1e5,O=30,G=.8,S=new Map;function w(x,L){let U;if(L&&a.FeatureTest.isOffscreenCanvasSupported)U=new OffscreenCanvas(x,x).getContext("2d",{alpha:!1});else{const I=document.createElement("canvas");I.width=I.height=x,U=I.getContext("2d",{alpha:!1})}return U}function g(x,L){const U=S.get(x);if(U)return U;const I=w(O,L);I.font=`${O}px ${x}`;const y=I.measureText("");let R=y.fontBoundingBoxAscent,_=Math.abs(y.fontBoundingBoxDescent);if(R){const C=R/(R+_);return S.set(x,C),I.canvas.width=I.canvas.height=0,C}I.strokeStyle="red",I.clearRect(0,0,O,O),I.strokeText("g",0,0);let A=I.getImageData(0,0,O,O).data;_=0;for(let C=A.length-1-3;C>=0;C-=4)if(A[C]>0){_=Math.ceil(C/4/O);break}I.clearRect(0,0,O,O),I.strokeText("A",0,O),A=I.getImageData(0,0,O,O).data,R=0;for(let C=0,Y=A.length;C<Y;C+=4)if(A[C]>0){R=O-Math.floor(C/4/O);break}if(I.canvas.width=I.canvas.height=0,R){const C=R/(R+_);return S.set(x,C),C}return S.set(x,G),G}function N(x,L,U){const I=document.createElement("span"),y={angle:0,canvasWidth:0,hasText:L.str!=="",hasEOL:L.hasEOL,fontSize:0};x._textDivs.push(I);const R=a.Util.transform(x._transform,L.transform);let _=Math.atan2(R[1],R[0]);const A=U[L.fontName];A.vertical&&(_+=Math.PI/2);const C=Math.hypot(R[2],R[3]),Y=C*g(A.fontFamily,x._isOffscreenCanvasSupported);let m,k;_===0?(m=R[4],k=R[5]-Y):(m=R[4]+Y*Math.sin(_),k=R[5]-Y*Math.cos(_));const H="calc(var(--scale-factor)*",te=I.style;x._container===x._rootContainer?(te.left=`${(100*m/x._pageWidth).toFixed(2)}%`,te.top=`${(100*k/x._pageHeight).toFixed(2)}%`):(te.left=`${H}${m.toFixed(2)}px)`,te.top=`${H}${k.toFixed(2)}px)`),te.fontSize=`${H}${C.toFixed(2)}px)`,te.fontFamily=A.fontFamily,y.fontSize=C,I.setAttribute("role","presentation"),I.textContent=L.str,I.dir=L.dir,x._fontInspectorEnabled&&(I.dataset.fontName=L.fontName),_!==0&&(y.angle=_*(180/Math.PI));let ne=!1;if(L.str.length>1)ne=!0;else if(L.str!==" "&&L.transform[0]!==L.transform[3]){const oe=Math.abs(L.transform[0]),ee=Math.abs(L.transform[3]);oe!==ee&&Math.max(oe,ee)/Math.min(oe,ee)>1.5&&(ne=!0)}ne&&(y.canvasWidth=A.vertical?L.height:L.width),x._textDivProperties.set(I,y),x._isReadableStream&&x._layoutText(I)}function F(x){const{div:L,scale:U,properties:I,ctx:y,prevFontSize:R,prevFontFamily:_}=x,{style:A}=L;let C="";if(I.canvasWidth!==0&&I.hasText){const{fontFamily:Y}=A,{canvasWidth:m,fontSize:k}=I;(R!==k||_!==Y)&&(y.font=`${k*U}px ${Y}`,x.prevFontSize=k,x.prevFontFamily=Y);const{width:H}=y.measureText(L.textContent);H>0&&(C=`scaleX(${m*U/H})`)}I.angle!==0&&(C=`rotate(${I.angle}deg) ${C}`),C.length>0&&(A.transform=C)}function b(x){if(x._canceled)return;const L=x._textDivs,U=x._capability;if(L.length>P){U.resolve();return}if(!x._isReadableStream)for(const y of L)x._layoutText(y);U.resolve()}class E{constructor({textContentSource:L,container:U,viewport:I,textDivs:y,textDivProperties:R,textContentItemsStr:_,isOffscreenCanvasSupported:A}){var H;this._textContentSource=L,this._isReadableStream=L instanceof ReadableStream,this._container=this._rootContainer=U,this._textDivs=y||[],this._textContentItemsStr=_||[],this._isOffscreenCanvasSupported=A,this._fontInspectorEnabled=!!((H=globalThis.FontInspector)!=null&&H.enabled),this._reader=null,this._textDivProperties=R||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:I.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:w(0,A)};const{pageWidth:C,pageHeight:Y,pageX:m,pageY:k}=I.rawDims;this._transform=[1,0,0,-1,-m,k+Y],this._pageWidth=C,this._pageHeight=Y,(0,u.setLayerDimensions)(U,I),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(L,U){for(const I of L){if(I.str===void 0){if(I.type==="beginMarkedContentProps"||I.type==="beginMarkedContent"){const y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),I.id!==null&&this._container.setAttribute("id",`${I.id}`),y.append(this._container)}else I.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(I.str),N(this,I,U)}}_layoutText(L){const U=this._layoutTextParams.properties=this._textDivProperties.get(L);if(this._layoutTextParams.div=L,F(this._layoutTextParams),U.hasText&&this._container.append(L),U.hasEOL){const I=document.createElement("br");I.setAttribute("role","presentation"),this._container.append(I)}}_render(){const L=new a.PromiseCapability;let U=Object.create(null);if(this._isReadableStream){const I=()=>{this._reader.read().then(({value:y,done:R})=>{if(R){L.resolve();return}Object.assign(U,y.styles),this._processItems(y.items,U),I()},L.reject)};this._reader=this._textContentSource.getReader(),I()}else if(this._textContentSource){const{items:I,styles:y}=this._textContentSource;this._processItems(I,y),L.resolve()}else throw new Error('No "textContentSource" parameter specified.');L.promise.then(()=>{U=null,b(this)},this._capability.reject)}}s.TextLayerRenderTask=E;function M(x){!x.textContentSource&&(x.textContent||x.textContentStream)&&((0,u.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),x.textContentSource=x.textContent||x.textContentStream);const{container:L,viewport:U}=x,I=getComputedStyle(L),y=I.getPropertyValue("visibility"),R=parseFloat(I.getPropertyValue("--scale-factor"));y==="visible"&&(!R||Math.abs(R-U.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const _=new E(x);return _._render(),_}function v({container:x,viewport:L,textDivs:U,textDivProperties:I,isOffscreenCanvasSupported:y,mustRotate:R=!0,mustRescale:_=!0}){if(R&&(0,u.setLayerDimensions)(x,{rotation:L.rotation}),_){const A=w(0,y),Y={prevFontSize:null,prevFontFamily:null,div:null,scale:L.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:A};for(const m of U)Y.properties=I.get(m),Y.div=m,F(Y)}}},(o,s,c)=>{var g,N,F,b,E,M,v,x,L,U,I,Ya,$s,Ka,Ja;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var a=c(1),u=c(4),P=c(28),O=c(33),G=c(6),S=c(34);const C=class C{constructor({uiManager:m,pageIndex:k,div:H,accessibilityManager:te,annotationLayer:ne,viewport:oe,l10n:ee}){ve(this,I);ve(this,g);ve(this,N,!1);ve(this,F,null);ve(this,b,this.pointerup.bind(this));ve(this,E,this.pointerdown.bind(this));ve(this,M,new Map);ve(this,v,!1);ve(this,x,!1);ve(this,L,!1);ve(this,U);const re=[P.FreeTextEditor,O.InkEditor,S.StampEditor];if(!C._initialized){C._initialized=!0;for(const z of re)z.initialize(ee)}m.registerEditorTypes(re),Ee(this,U,m),this.pageIndex=k,this.div=H,Ee(this,g,te),Ee(this,F,ne),this.viewport=oe,d(this,U).addLayer(this)}get isEmpty(){return d(this,M).size===0}updateToolbar(m){d(this,U).updateToolbar(m)}updateMode(m=d(this,U).getMode()){ce(this,I,Ja).call(this),m===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),m!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",m===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",m===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",m===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(m){if(!m&&d(this,U).getMode()!==a.AnnotationEditorType.INK)return;if(!m){for(const H of d(this,M).values())if(H.isEmpty()){H.setInBackground();return}}ce(this,I,$s).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(m){d(this,U).setEditingState(m)}addCommands(m){d(this,U).addCommands(m)}enable(){this.div.style.pointerEvents="auto";const m=new Set;for(const H of d(this,M).values())H.enableEditing(),H.annotationElementId&&m.add(H.annotationElementId);if(!d(this,F))return;const k=d(this,F).getEditableAnnotations();for(const H of k){if(H.hide(),d(this,U).isDeletedAnnotationElement(H.data.id)||m.has(H.data.id))continue;const te=this.deserialize(H);te&&(this.addOrRebuild(te),te.enableEditing())}}disable(){var k;Ee(this,L,!0),this.div.style.pointerEvents="none";const m=new Set;for(const H of d(this,M).values()){if(H.disableEditing(),!H.annotationElementId||H.serialize()!==null){m.add(H.annotationElementId);continue}(k=this.getEditableAnnotation(H.annotationElementId))==null||k.show(),H.remove()}if(d(this,F)){const H=d(this,F).getEditableAnnotations();for(const te of H){const{id:ne}=te.data;m.has(ne)||d(this,U).isDeletedAnnotationElement(ne)||te.show()}}ce(this,I,Ja).call(this),this.isEmpty&&(this.div.hidden=!0),Ee(this,L,!1)}getEditableAnnotation(m){var k;return((k=d(this,F))==null?void 0:k.getEditableAnnotation(m))||null}setActiveEditor(m){d(this,U).getActive()!==m&&d(this,U).setActiveEditor(m)}enableClick(){this.div.addEventListener("pointerdown",d(this,E)),this.div.addEventListener("pointerup",d(this,b))}disableClick(){this.div.removeEventListener("pointerdown",d(this,E)),this.div.removeEventListener("pointerup",d(this,b))}attach(m){d(this,M).set(m.id,m);const{annotationElementId:k}=m;k&&d(this,U).isDeletedAnnotationElement(k)&&d(this,U).removeDeletedAnnotationElement(m)}detach(m){var k;d(this,M).delete(m.id),(k=d(this,g))==null||k.removePointerInTextLayer(m.contentDiv),!d(this,L)&&m.annotationElementId&&d(this,U).addDeletedAnnotationElement(m)}remove(m){this.detach(m),d(this,U).removeEditor(m),m.div.contains(document.activeElement)&&setTimeout(()=>{d(this,U).focusMainContainer()},0),m.div.remove(),m.isAttachedToDOM=!1,d(this,x)||this.addInkEditorIfNeeded(!1)}changeParent(m){var k;m.parent!==this&&(m.annotationElementId&&(d(this,U).addDeletedAnnotationElement(m.annotationElementId),u.AnnotationEditor.deleteAnnotationElement(m),m.annotationElementId=null),this.attach(m),(k=m.parent)==null||k.detach(m),m.setParent(this),m.div&&m.isAttachedToDOM&&(m.div.remove(),this.div.append(m.div)))}add(m){if(this.changeParent(m),d(this,U).addEditor(m),this.attach(m),!m.isAttachedToDOM){const k=m.render();this.div.append(k),m.isAttachedToDOM=!0}m.fixAndSetPosition(),m.onceAdded(),d(this,U).addToAnnotationStorage(m)}moveEditorInDOM(m){var H;if(!m.isAttachedToDOM)return;const{activeElement:k}=document;m.div.contains(k)&&(m._focusEventsAllowed=!1,setTimeout(()=>{m.div.contains(document.activeElement)?m._focusEventsAllowed=!0:(m.div.addEventListener("focusin",()=>{m._focusEventsAllowed=!0},{once:!0}),k.focus())},0)),m._structTreeParentId=(H=d(this,g))==null?void 0:H.moveElementInDOM(this.div,m.div,m.contentDiv,!0)}addOrRebuild(m){m.needsToBeRebuilt()?m.rebuild():this.add(m)}addUndoableEditor(m){const k=()=>m._uiManager.rebuild(m),H=()=>{m.remove()};this.addCommands({cmd:k,undo:H,mustExec:!1})}getNextId(){return d(this,U).getId()}pasteEditor(m,k){d(this,U).updateToolbar(m),d(this,U).updateMode(m);const{offsetX:H,offsetY:te}=ce(this,I,Ka).call(this),ne=this.getNextId(),oe=ce(this,I,Ya).call(this,{parent:this,id:ne,x:H,y:te,uiManager:d(this,U),isCentered:!0,...k});oe&&this.add(oe)}deserialize(m){switch(m.annotationType??m.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return P.FreeTextEditor.deserialize(m,this,d(this,U));case a.AnnotationEditorType.INK:return O.InkEditor.deserialize(m,this,d(this,U));case a.AnnotationEditorType.STAMP:return S.StampEditor.deserialize(m,this,d(this,U))}return null}addNewEditor(){ce(this,I,$s).call(this,ce(this,I,Ka).call(this),!0)}setSelected(m){d(this,U).setSelected(m)}toggleSelected(m){d(this,U).toggleSelected(m)}isSelected(m){return d(this,U).isSelected(m)}unselect(m){d(this,U).unselect(m)}pointerup(m){const{isMac:k}=a.FeatureTest.platform;if(!(m.button!==0||m.ctrlKey&&k)&&m.target===this.div&&d(this,v)){if(Ee(this,v,!1),!d(this,N)){Ee(this,N,!0);return}if(d(this,U).getMode()===a.AnnotationEditorType.STAMP){d(this,U).unselectAll();return}ce(this,I,$s).call(this,m,!1)}}pointerdown(m){if(d(this,v)){Ee(this,v,!1);return}const{isMac:k}=a.FeatureTest.platform;if(m.button!==0||m.ctrlKey&&k||m.target!==this.div)return;Ee(this,v,!0);const H=d(this,U).getActive();Ee(this,N,!H||H.isEmpty())}findNewParent(m,k,H){const te=d(this,U).findParent(k,H);return te===null||te===this?!1:(te.changeParent(m),!0)}destroy(){var m,k;((m=d(this,U).getActive())==null?void 0:m.parent)===this&&(d(this,U).commitOrRemove(),d(this,U).setActiveEditor(null));for(const H of d(this,M).values())(k=d(this,g))==null||k.removePointerInTextLayer(H.contentDiv),H.setParent(null),H.isAttachedToDOM=!1,H.div.remove();this.div=null,d(this,M).clear(),d(this,U).removeLayer(this)}render({viewport:m}){this.viewport=m,(0,G.setLayerDimensions)(this.div,m);for(const k of d(this,U).getEditors(this.pageIndex))this.add(k);this.updateMode()}update({viewport:m}){d(this,U).commitOrRemove(),this.viewport=m,(0,G.setLayerDimensions)(this.div,{rotation:m.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:m,pageHeight:k}=this.viewport.rawDims;return[m,k]}};g=new WeakMap,N=new WeakMap,F=new WeakMap,b=new WeakMap,E=new WeakMap,M=new WeakMap,v=new WeakMap,x=new WeakMap,L=new WeakMap,U=new WeakMap,I=new WeakSet,Ya=function(m){switch(d(this,U).getMode()){case a.AnnotationEditorType.FREETEXT:return new P.FreeTextEditor(m);case a.AnnotationEditorType.INK:return new O.InkEditor(m);case a.AnnotationEditorType.STAMP:return new S.StampEditor(m)}return null},$s=function(m,k){const H=this.getNextId(),te=ce(this,I,Ya).call(this,{parent:this,id:H,x:m.offsetX,y:m.offsetY,uiManager:d(this,U),isCentered:k});return te&&this.add(te),te},Ka=function(){const{x:m,y:k,width:H,height:te}=this.div.getBoundingClientRect(),ne=Math.max(0,m),oe=Math.max(0,k),ee=Math.min(window.innerWidth,m+H),re=Math.min(window.innerHeight,k+te),z=(ne+ee)/2-m,K=(oe+re)/2-k,[B,T]=this.viewport.rotation%180===0?[z,K]:[K,z];return{offsetX:B,offsetY:T}},Ja=function(){Ee(this,x,!0);for(const m of d(this,M).values())m.isEmpty()&&m.remove();Ee(this,x,!1)},At(C,"_initialized",!1);let w=C;s.AnnotationEditorLayer=w},(o,s,c)=>{var S,w,g,N,F,b,E,M,v,x,Yc,Kc,Jc,Ri,Qa,Qc,Za;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var a=c(1),u=c(5),P=c(4),O=c(29);const C=class C extends P.AnnotationEditor{constructor(k){super({...k,name:"freeTextEditor"});ve(this,x);ve(this,S,this.editorDivBlur.bind(this));ve(this,w,this.editorDivFocus.bind(this));ve(this,g,this.editorDivInput.bind(this));ve(this,N,this.editorDivKeydown.bind(this));ve(this,F);ve(this,b,"");ve(this,E,`${this.id}-editor`);ve(this,M);ve(this,v,null);Ee(this,F,k.color||C._defaultColor||P.AnnotationEditor._defaultLineColor),Ee(this,M,k.fontSize||C._defaultFontSize)}static get _keyboardManager(){const k=C.prototype,H=oe=>oe.isEmpty(),te=u.AnnotationEditorUIManager.TRANSLATE_SMALL,ne=u.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new u.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],k.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],k.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],k._translateEmpty,{args:[-te,0],checker:H}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],k._translateEmpty,{args:[-ne,0],checker:H}],[["ArrowRight","mac+ArrowRight"],k._translateEmpty,{args:[te,0],checker:H}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],k._translateEmpty,{args:[ne,0],checker:H}],[["ArrowUp","mac+ArrowUp"],k._translateEmpty,{args:[0,-te],checker:H}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],k._translateEmpty,{args:[0,-ne],checker:H}],[["ArrowDown","mac+ArrowDown"],k._translateEmpty,{args:[0,te],checker:H}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],k._translateEmpty,{args:[0,ne],checker:H}]]))}static initialize(k){P.AnnotationEditor.initialize(k,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const H=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(H.getPropertyValue("--freetext-padding"))}static updateDefaultParams(k,H){switch(k){case a.AnnotationEditorParamsType.FREETEXT_SIZE:C._defaultFontSize=H;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:C._defaultColor=H;break}}updateParams(k,H){switch(k){case a.AnnotationEditorParamsType.FREETEXT_SIZE:ce(this,x,Yc).call(this,H);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:ce(this,x,Kc).call(this,H);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,C._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,C._defaultColor||P.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,d(this,M)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,d(this,F)]]}_translateEmpty(k,H){this._uiManager.translateSelectedEditors(k,H,!0)}getInitialTranslation(){const k=this.parentScale;return[-C._internalPadding*k,-(C._internalPadding+d(this,M))*k]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",d(this,N)),this.editorDiv.addEventListener("focus",d(this,w)),this.editorDiv.addEventListener("blur",d(this,S)),this.editorDiv.addEventListener("input",d(this,g)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,E)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",d(this,N)),this.editorDiv.removeEventListener("focus",d(this,w)),this.editorDiv.removeEventListener("blur",d(this,S)),this.editorDiv.removeEventListener("input",d(this,g)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(k){this._focusEventsAllowed&&(super.focusin(k),k.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var k;if(this.width){ce(this,x,Za).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(k=this._initialOptions)!=null&&k.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const k=d(this,b),H=Ee(this,b,ce(this,x,Jc).call(this).trimEnd());if(k===H)return;const te=ne=>{if(Ee(this,b,ne),!ne){this.remove();return}ce(this,x,Qa).call(this),this._uiManager.rebuild(this),ce(this,x,Ri).call(this)};this.addCommands({cmd:()=>{te(H)},undo:()=>{te(k)},mustExec:!1}),ce(this,x,Ri).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(k){this.enterInEditMode()}keydown(k){k.target===this.div&&k.key==="Enter"&&(this.enterInEditMode(),k.preventDefault())}editorDivKeydown(k){C._keyboardManager.exec(this,k)}editorDivFocus(k){this.isEditing=!0}editorDivBlur(k){this.isEditing=!1}editorDivInput(k){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let k,H;this.width&&(k=this.x,H=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,E)),this.enableEditing(),P.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(ne=>{var oe;return(oe=this.editorDiv)==null?void 0:oe.setAttribute("aria-label",ne)}),P.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(ne=>{var oe;return(oe=this.editorDiv)==null?void 0:oe.setAttribute("default-content",ne)}),this.editorDiv.contentEditable=!0;const{style:te}=this.editorDiv;if(te.fontSize=`calc(${d(this,M)}px * var(--scale-factor))`,te.color=d(this,F),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,u.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ne,oe]=this.parentDimensions;if(this.annotationElementId){const{position:ee}=d(this,v);let[re,z]=this.getInitialTranslation();[re,z]=this.pageTranslationToScreen(re,z);const[K,B]=this.pageDimensions,[T,f]=this.pageTranslation;let p,D;switch(this.rotation){case 0:p=k+(ee[0]-T)/K,D=H+this.height-(ee[1]-f)/B;break;case 90:p=k+(ee[0]-T)/K,D=H-(ee[1]-f)/B,[re,z]=[z,-re];break;case 180:p=k-this.width+(ee[0]-T)/K,D=H-(ee[1]-f)/B,[re,z]=[-re,-z];break;case 270:p=k+(ee[0]-T-this.height*B)/K,D=H+(ee[1]-f-this.width*K)/B,[re,z]=[-z,re];break}this.setAt(p*ne,D*oe,re,z)}else this.setAt(k*ne,H*oe,this.width*ne,this.height*oe);ce(this,x,Qa).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(k,H,te){let ne=null;if(k instanceof O.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:ee,fontColor:re},rect:z,rotation:K,id:B},textContent:T,textPosition:f,parent:{page:{pageNumber:p}}}=k;if(!T||T.length===0)return null;ne=k={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(re),fontSize:ee,value:T.join(`
`),position:f,pageIndex:p-1,rect:z,rotation:K,id:B,deleted:!1}}const oe=super.deserialize(k,H,te);return Ee(oe,M,k.fontSize),Ee(oe,F,a.Util.makeHexColor(...k.color)),Ee(oe,b,k.value),oe.annotationElementId=k.id||null,Ee(oe,v,ne),oe}serialize(k=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const H=C._internalPadding*this.parentScale,te=this.getRect(H,H),ne=P.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,F)),oe={annotationType:a.AnnotationEditorType.FREETEXT,color:ne,fontSize:d(this,M),value:d(this,b),pageIndex:this.pageIndex,rect:te,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return k?oe:this.annotationElementId&&!ce(this,x,Qc).call(this,oe)?null:(oe.id=this.annotationElementId,oe)}};S=new WeakMap,w=new WeakMap,g=new WeakMap,N=new WeakMap,F=new WeakMap,b=new WeakMap,E=new WeakMap,M=new WeakMap,v=new WeakMap,x=new WeakSet,Yc=function(k){const H=ne=>{this.editorDiv.style.fontSize=`calc(${ne}px * var(--scale-factor))`,this.translate(0,-(ne-d(this,M))*this.parentScale),Ee(this,M,ne),ce(this,x,Ri).call(this)},te=d(this,M);this.addCommands({cmd:()=>{H(k)},undo:()=>{H(te)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Kc=function(k){const H=d(this,F);this.addCommands({cmd:()=>{Ee(this,F,this.editorDiv.style.color=k)},undo:()=>{Ee(this,F,this.editorDiv.style.color=H)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Jc=function(){const k=this.editorDiv.getElementsByTagName("div");if(k.length===0)return this.editorDiv.innerText;const H=[];for(const te of k)H.push(te.innerText.replace(/\r\n?|\n/,""));return H.join(`
`)},Ri=function(){const[k,H]=this.parentDimensions;let te;if(this.isAttachedToDOM)te=this.div.getBoundingClientRect();else{const{currentLayer:ne,div:oe}=this,ee=oe.style.display;oe.style.display="hidden",ne.div.append(this.div),te=oe.getBoundingClientRect(),oe.remove(),oe.style.display=ee}this.rotation%180===this.parentRotation%180?(this.width=te.width/k,this.height=te.height/H):(this.width=te.height/k,this.height=te.width/H),this.fixAndSetPosition()},Qa=function(){if(this.editorDiv.replaceChildren(),!!d(this,b))for(const k of d(this,b).split(`
`)){const H=document.createElement("div");H.append(k?document.createTextNode(k):document.createElement("br")),this.editorDiv.append(H)}},Qc=function(k){const{value:H,fontSize:te,color:ne,rect:oe,pageIndex:ee}=d(this,v);return k.value!==H||k.fontSize!==te||k.rect.some((re,z)=>Math.abs(re-oe[z])>=1)||k.color.some((re,z)=>re!==ne[z])||k.pageIndex!==ee},Za=function(k=!1){if(!this.annotationElementId)return;if(ce(this,x,Ri).call(this),!k&&(this.width===0||this.height===0)){setTimeout(()=>ce(this,x,Za).call(this,!0),0);return}const H=C._internalPadding*this.parentScale;d(this,v).rect=this.getRect(H,H)},At(C,"_freeTextDefaultContent",""),At(C,"_internalPadding",0),At(C,"_defaultColor",null),At(C,"_defaultFontSize",10),At(C,"_type","freetext");let G=C;s.FreeTextEditor=G},(o,s,c)=>{var D,q,mr,Zc,pe,_e,Ae,ke,Te,Le,ue,de,$,Q,le,me,Ce,Ie,De,he,Be,je,ed,Hs,el,tl,Ze,ft,vt,Oe,ye,xe,Xe,nl,pt,Z,Pe,Ue,td,rl;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var a=c(1),u=c(6),P=c(3),O=c(30),G=c(31),S=c(32);const w=1e3,g=9,N=new WeakSet;function F(Ge){return{width:Ge[2]-Ge[0],height:Ge[3]-Ge[1]}}class b{static create(J){switch(J.data.annotationType){case a.AnnotationType.LINK:return new M(J);case a.AnnotationType.TEXT:return new v(J);case a.AnnotationType.WIDGET:switch(J.data.fieldType){case"Tx":return new L(J);case"Btn":return J.data.radioButton?new y(J):J.data.checkBox?new I(J):new R(J);case"Ch":return new _(J);case"Sig":return new U(J)}return new x(J);case a.AnnotationType.POPUP:return new A(J);case a.AnnotationType.FREETEXT:return new Y(J);case a.AnnotationType.LINE:return new m(J);case a.AnnotationType.SQUARE:return new k(J);case a.AnnotationType.CIRCLE:return new H(J);case a.AnnotationType.POLYLINE:return new te(J);case a.AnnotationType.CARET:return new oe(J);case a.AnnotationType.INK:return new ee(J);case a.AnnotationType.POLYGON:return new ne(J);case a.AnnotationType.HIGHLIGHT:return new re(J);case a.AnnotationType.UNDERLINE:return new z(J);case a.AnnotationType.SQUIGGLY:return new K(J);case a.AnnotationType.STRIKEOUT:return new B(J);case a.AnnotationType.STAMP:return new T(J);case a.AnnotationType.FILEATTACHMENT:return new f(J);default:return new E(J)}}}const W=class W{constructor(J,{isRenderable:V=!1,ignoreBorder:ae=!1,createQuadrilaterals:Se=!1}={}){ve(this,D,!1);this.isRenderable=V,this.data=J.data,this.layer=J.layer,this.linkService=J.linkService,this.downloadManager=J.downloadManager,this.imageResourcesPath=J.imageResourcesPath,this.renderForms=J.renderForms,this.svgFactory=J.svgFactory,this.annotationStorage=J.annotationStorage,this.enableScripting=J.enableScripting,this.hasJSActions=J.hasJSActions,this._fieldObjects=J.fieldObjects,this.parent=J.parent,V&&(this.container=this._createContainer(ae)),Se&&this._createQuadrilaterals()}static _hasPopupData({titleObj:J,contentsObj:V,richText:ae}){return!!(J!=null&&J.str||V!=null&&V.str||ae!=null&&ae.str)}get hasPopupData(){return W._hasPopupData(this.data)}_createContainer(J){const{data:V,parent:{page:ae,viewport:Se}}=this,be=document.createElement("section");be.setAttribute("data-annotation-id",V.id),this instanceof x||(be.tabIndex=w),be.style.zIndex=this.parent.zIndex++,this.data.popupRef&&be.setAttribute("aria-haspopup","dialog"),V.noRotate&&be.classList.add("norotate");const{pageWidth:Me,pageHeight:Ne,pageX:Ke,pageY:Ye}=Se.rawDims;if(!V.rect||this instanceof A){const{rotation:lt}=V;return!V.hasOwnCanvas&&lt!==0&&this.setRotation(lt,be),be}const{width:He,height:ct}=F(V.rect),Qe=a.Util.normalizeRect([V.rect[0],ae.view[3]-V.rect[1]+ae.view[1],V.rect[2],ae.view[3]-V.rect[3]+ae.view[1]]);if(!J&&V.borderStyle.width>0){be.style.borderWidth=`${V.borderStyle.width}px`;const lt=V.borderStyle.horizontalCornerRadius,dt=V.borderStyle.verticalCornerRadius;if(lt>0||dt>0){const _t=`calc(${lt}px * var(--scale-factor)) / calc(${dt}px * var(--scale-factor))`;be.style.borderRadius=_t}else if(this instanceof y){const _t=`calc(${He}px * var(--scale-factor)) / calc(${ct}px * var(--scale-factor))`;be.style.borderRadius=_t}switch(V.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:be.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:be.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:be.style.borderBottomStyle="solid";break}const Et=V.borderColor||null;Et?(Ee(this,D,!0),be.style.borderColor=a.Util.makeHexColor(Et[0]|0,Et[1]|0,Et[2]|0)):be.style.borderWidth=0}be.style.left=`${100*(Qe[0]-Ke)/Me}%`,be.style.top=`${100*(Qe[1]-Ye)/Ne}%`;const{rotation:tt}=V;return V.hasOwnCanvas||tt===0?(be.style.width=`${100*He/Me}%`,be.style.height=`${100*ct/Ne}%`):this.setRotation(tt,be),be}setRotation(J,V=this.container){if(!this.data.rect)return;const{pageWidth:ae,pageHeight:Se}=this.parent.viewport.rawDims,{width:be,height:Me}=F(this.data.rect);let Ne,Ke;J%180===0?(Ne=100*be/ae,Ke=100*Me/Se):(Ne=100*Me/ae,Ke=100*be/Se),V.style.width=`${Ne}%`,V.style.height=`${Ke}%`,V.setAttribute("data-main-rotation",(360-J)%360)}get _commonActions(){const J=(V,ae,Se)=>{const be=Se.detail[V],Me=be[0],Ne=be.slice(1);Se.target.style[ae]=O.ColorConverters[`${Me}_HTML`](Ne),this.annotationStorage.setValue(this.data.id,{[ae]:O.ColorConverters[`${Me}_rgb`](Ne)})};return(0,a.shadow)(this,"_commonActions",{display:V=>{const{display:ae}=V.detail,Se=ae%2===1;this.container.style.visibility=Se?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Se,noPrint:ae===1||ae===2})},print:V=>{this.annotationStorage.setValue(this.data.id,{noPrint:!V.detail.print})},hidden:V=>{const{hidden:ae}=V.detail;this.container.style.visibility=ae?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ae,noView:ae})},focus:V=>{setTimeout(()=>V.target.focus({preventScroll:!1}),0)},userName:V=>{V.target.title=V.detail.userName},readonly:V=>{V.target.disabled=V.detail.readonly},required:V=>{this._setRequired(V.target,V.detail.required)},bgColor:V=>{J("bgColor","backgroundColor",V)},fillColor:V=>{J("fillColor","backgroundColor",V)},fgColor:V=>{J("fgColor","color",V)},textColor:V=>{J("textColor","color",V)},borderColor:V=>{J("borderColor","borderColor",V)},strokeColor:V=>{J("strokeColor","borderColor",V)},rotation:V=>{const ae=V.detail.rotation;this.setRotation(ae),this.annotationStorage.setValue(this.data.id,{rotation:ae})}})}_dispatchEventFromSandbox(J,V){const ae=this._commonActions;for(const Se of Object.keys(V.detail)){const be=J[Se]||ae[Se];be==null||be(V)}}_setDefaultPropertiesFromJS(J){if(!this.enableScripting)return;const V=this.annotationStorage.getRawValue(this.data.id);if(!V)return;const ae=this._commonActions;for(const[Se,be]of Object.entries(V)){const Me=ae[Se];if(Me){const Ne={detail:{[Se]:be},target:J};Me(Ne),delete V[Se]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:J}=this.data;if(!J)return;const[V,ae,Se,be]=this.data.rect;if(J.length===1){const[,{x:dt,y:Et},{x:_t,y:It}]=J[0];if(Se===dt&&be===Et&&V===_t&&ae===It)return}const{style:Me}=this.container;let Ne;if(d(this,D)){const{borderColor:dt,borderWidth:Et}=Me;Me.borderWidth=0,Ne=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${dt}" stroke-width="${Et}">`],this.container.classList.add("hasBorder")}const Ke=Se-V,Ye=be-ae,{svgFactory:He}=this,ct=He.createElement("svg");ct.classList.add("quadrilateralsContainer"),ct.setAttribute("width",0),ct.setAttribute("height",0);const Qe=He.createElement("defs");ct.append(Qe);const tt=He.createElement("clipPath"),lt=`clippath_${this.data.id}`;tt.setAttribute("id",lt),tt.setAttribute("clipPathUnits","objectBoundingBox"),Qe.append(tt);for(const[,{x:dt,y:Et},{x:_t,y:It}]of J){const Ct=He.createElement("rect"),an=(_t-V)/Ke,mn=(be-Et)/Ye,gn=(dt-_t)/Ke,ki=(Et-It)/Ye;Ct.setAttribute("x",an),Ct.setAttribute("y",mn),Ct.setAttribute("width",gn),Ct.setAttribute("height",ki),tt.append(Ct),Ne==null||Ne.push(`<rect vector-effect="non-scaling-stroke" x="${an}" y="${mn}" width="${gn}" height="${ki}"/>`)}d(this,D)&&(Ne.push("</g></svg>')"),Me.backgroundImage=Ne.join("")),this.container.append(ct),this.container.style.clipPath=`url(#${lt})`}_createPopup(){const{container:J,data:V}=this;J.setAttribute("aria-haspopup","dialog");const ae=new A({data:{color:V.color,titleObj:V.titleObj,modificationDate:V.modificationDate,contentsObj:V.contentsObj,richText:V.richText,parentRect:V.rect,borderStyle:0,id:`popup_${V.id}`,rotation:V.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ae.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(J,V=null){const ae=[];if(this._fieldObjects){const Se=this._fieldObjects[J];if(Se)for(const{page:be,id:Me,exportValues:Ne}of Se){if(be===-1||Me===V)continue;const Ke=typeof Ne=="string"?Ne:null,Ye=document.querySelector(`[data-element-id="${Me}"]`);if(Ye&&!N.has(Ye)){(0,a.warn)(`_getElementsByName - element not allowed: ${Me}`);continue}ae.push({id:Me,exportValue:Ke,domElement:Ye})}return ae}for(const Se of document.getElementsByName(J)){const{exportValue:be}=Se,Me=Se.getAttribute("data-element-id");Me!==V&&N.has(Se)&&ae.push({id:Me,exportValue:be,domElement:Se})}return ae}show(){var J;this.container&&(this.container.hidden=!1),(J=this.popup)==null||J.maybeShow()}hide(){var J;this.container&&(this.container.hidden=!0),(J=this.popup)==null||J.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const J=this.getElementsToTriggerPopup();if(Array.isArray(J))for(const V of J)V.classList.add("highlightArea");else J.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:J,data:{id:V}}=this;this.container.addEventListener("dblclick",()=>{var ae;(ae=this.linkService.eventBus)==null||ae.dispatch("switchannotationeditormode",{source:this,mode:J,editId:V})})}};D=new WeakMap;let E=W;class M extends E{constructor(V,ae=null){super(V,{isRenderable:!0,ignoreBorder:!!(ae!=null&&ae.ignoreBorder),createQuadrilaterals:!0});ve(this,q);this.isTooltipOnly=V.data.isTooltipOnly}render(){const{data:V,linkService:ae}=this,Se=document.createElement("a");Se.setAttribute("data-element-id",V.id);let be=!1;return V.url?(ae.addLinkAttributes(Se,V.url,V.newWindow),be=!0):V.action?(this._bindNamedAction(Se,V.action),be=!0):V.attachment?(this._bindAttachment(Se,V.attachment),be=!0):V.setOCGState?(ce(this,q,Zc).call(this,Se,V.setOCGState),be=!0):V.dest?(this._bindLink(Se,V.dest),be=!0):(V.actions&&(V.actions.Action||V.actions["Mouse Up"]||V.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Se,V),be=!0),V.resetForm?(this._bindResetFormAction(Se,V.resetForm),be=!0):this.isTooltipOnly&&!be&&(this._bindLink(Se,""),be=!0)),this.container.classList.add("linkAnnotation"),be&&this.container.append(Se),this.container}_bindLink(V,ae){V.href=this.linkService.getDestinationHash(ae),V.onclick=()=>(ae&&this.linkService.goToDestination(ae),!1),(ae||ae==="")&&ce(this,q,mr).call(this)}_bindNamedAction(V,ae){V.href=this.linkService.getAnchorUrl(""),V.onclick=()=>(this.linkService.executeNamedAction(ae),!1),ce(this,q,mr).call(this)}_bindAttachment(V,ae){V.href=this.linkService.getAnchorUrl(""),V.onclick=()=>{var Se;return(Se=this.downloadManager)==null||Se.openOrDownloadData(this.container,ae.content,ae.filename),!1},ce(this,q,mr).call(this)}_bindJSAction(V,ae){V.href=this.linkService.getAnchorUrl("");const Se=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const be of Object.keys(ae.actions)){const Me=Se.get(be);Me&&(V[Me]=()=>{var Ne;return(Ne=this.linkService.eventBus)==null||Ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ae.id,name:be}}),!1})}V.onclick||(V.onclick=()=>!1),ce(this,q,mr).call(this)}_bindResetFormAction(V,ae){const Se=V.onclick;if(Se||(V.href=this.linkService.getAnchorUrl("")),ce(this,q,mr).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Se||(V.onclick=()=>!1);return}V.onclick=()=>{var ct;Se==null||Se();const{fields:be,refs:Me,include:Ne}=ae,Ke=[];if(be.length!==0||Me.length!==0){const Qe=new Set(Me);for(const tt of be){const lt=this._fieldObjects[tt]||[];for(const{id:dt}of lt)Qe.add(dt)}for(const tt of Object.values(this._fieldObjects))for(const lt of tt)Qe.has(lt.id)===Ne&&Ke.push(lt)}else for(const Qe of Object.values(this._fieldObjects))Ke.push(...Qe);const Ye=this.annotationStorage,He=[];for(const Qe of Ke){const{id:tt}=Qe;switch(He.push(tt),Qe.type){case"text":{const dt=Qe.defaultValue||"";Ye.setValue(tt,{value:dt});break}case"checkbox":case"radiobutton":{const dt=Qe.defaultValue===Qe.exportValues;Ye.setValue(tt,{value:dt});break}case"combobox":case"listbox":{const dt=Qe.defaultValue||"";Ye.setValue(tt,{value:dt});break}default:continue}const lt=document.querySelector(`[data-element-id="${tt}"]`);if(lt){if(!N.has(lt)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${tt}`);continue}}else continue;lt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:He,name:"ResetForm"}})),!1}}}q=new WeakSet,mr=function(){this.container.setAttribute("data-internal-link","")},Zc=function(V,ae){V.href=this.linkService.getAnchorUrl(""),V.onclick=()=>(this.linkService.executeSetOCGState(ae),!1),ce(this,q,mr).call(this)};class v extends E{constructor(J){super(J,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const J=document.createElement("img");return J.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",J.alt="[{{type}} Annotation]",J.dataset.l10nId="text_annotation_type",J.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(J),this.container}}class x extends E{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(J){var V;this.data.hasOwnCanvas&&(((V=J.previousSibling)==null?void 0:V.nodeName)==="CANVAS"&&(J.previousSibling.hidden=!0),J.hidden=!1)}_getKeyModifier(J){const{isWin:V,isMac:ae}=a.FeatureTest.platform;return V&&J.ctrlKey||ae&&J.metaKey}_setEventListener(J,V,ae,Se,be){ae.includes("mouse")?J.addEventListener(ae,Me=>{var Ne;(Ne=this.linkService.eventBus)==null||Ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Se,value:be(Me),shift:Me.shiftKey,modifier:this._getKeyModifier(Me)}})}):J.addEventListener(ae,Me=>{var Ne;if(ae==="blur"){if(!V.focused||!Me.relatedTarget)return;V.focused=!1}else if(ae==="focus"){if(V.focused)return;V.focused=!0}be&&((Ne=this.linkService.eventBus)==null||Ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Se,value:be(Me)}}))})}_setEventListeners(J,V,ae,Se){var be,Me,Ne;for(const[Ke,Ye]of ae)(Ye==="Action"||(be=this.data.actions)!=null&&be[Ye])&&((Ye==="Focus"||Ye==="Blur")&&(V||(V={focused:!1})),this._setEventListener(J,V,Ke,Ye,Se),Ye==="Focus"&&!((Me=this.data.actions)!=null&&Me.Blur)?this._setEventListener(J,V,"blur","Blur",null):Ye==="Blur"&&!((Ne=this.data.actions)!=null&&Ne.Focus)&&this._setEventListener(J,V,"focus","Focus",null))}_setBackgroundColor(J){const V=this.data.backgroundColor||null;J.style.backgroundColor=V===null?"transparent":a.Util.makeHexColor(V[0],V[1],V[2])}_setTextStyle(J){const V=["left","center","right"],{fontColor:ae}=this.data.defaultAppearanceData,Se=this.data.defaultAppearanceData.fontSize||g,be=J.style;let Me;const Ne=2,Ke=Ye=>Math.round(10*Ye)/10;if(this.data.multiLine){const Ye=Math.abs(this.data.rect[3]-this.data.rect[1]-Ne),He=Math.round(Ye/(a.LINE_FACTOR*Se))||1,ct=Ye/He;Me=Math.min(Se,Ke(ct/a.LINE_FACTOR))}else{const Ye=Math.abs(this.data.rect[3]-this.data.rect[1]-Ne);Me=Math.min(Se,Ke(Ye/a.LINE_FACTOR))}be.fontSize=`calc(${Me}px * var(--scale-factor))`,be.color=a.Util.makeHexColor(ae[0],ae[1],ae[2]),this.data.textAlignment!==null&&(be.textAlign=V[this.data.textAlignment])}_setRequired(J,V){V?J.setAttribute("required",!0):J.removeAttribute("required"),J.setAttribute("aria-required",V)}}class L extends x{constructor(J){const V=J.renderForms||!J.data.hasAppearance&&!!J.data.fieldValue;super(J,{isRenderable:V})}setPropertyOnSiblings(J,V,ae,Se){const be=this.annotationStorage;for(const Me of this._getElementsByName(J.name,J.id))Me.domElement&&(Me.domElement[V]=ae),be.setValue(Me.id,{[Se]:ae})}render(){var Se,be;const J=this.annotationStorage,V=this.data.id;this.container.classList.add("textWidgetAnnotation");let ae=null;if(this.renderForms){const Me=J.getValue(V,{value:this.data.fieldValue});let Ne=Me.value||"";const Ke=J.getValue(V,{charLimit:this.data.maxLen}).charLimit;Ke&&Ne.length>Ke&&(Ne=Ne.slice(0,Ke));let Ye=Me.formattedValue||((Se=this.data.textContent)==null?void 0:Se.join(`
`))||null;Ye&&this.data.comb&&(Ye=Ye.replaceAll(/\s+/g,""));const He={userValue:Ne,formattedValue:Ye,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(ae=document.createElement("textarea"),ae.textContent=Ye??Ne,this.data.doNotScroll&&(ae.style.overflowY="hidden")):(ae=document.createElement("input"),ae.type="text",ae.setAttribute("value",Ye??Ne),this.data.doNotScroll&&(ae.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ae.hidden=!0),N.add(ae),ae.setAttribute("data-element-id",V),ae.disabled=this.data.readOnly,ae.name=this.data.fieldName,ae.tabIndex=w,this._setRequired(ae,this.data.required),Ke&&(ae.maxLength=Ke),ae.addEventListener("input",Qe=>{J.setValue(V,{value:Qe.target.value}),this.setPropertyOnSiblings(ae,"value",Qe.target.value,"value"),He.formattedValue=null}),ae.addEventListener("resetform",Qe=>{const tt=this.data.defaultFieldValue??"";ae.value=He.userValue=tt,He.formattedValue=null});let ct=Qe=>{const{formattedValue:tt}=He;tt!=null&&(Qe.target.value=tt),Qe.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ae.addEventListener("focus",tt=>{if(He.focused)return;const{target:lt}=tt;He.userValue&&(lt.value=He.userValue),He.lastCommittedValue=lt.value,He.commitKey=1,He.focused=!0}),ae.addEventListener("updatefromsandbox",tt=>{this.showElementAndHideCanvas(tt.target);const lt={value(dt){He.userValue=dt.detail.value??"",J.setValue(V,{value:He.userValue.toString()}),dt.target.value=He.userValue},formattedValue(dt){const{formattedValue:Et}=dt.detail;He.formattedValue=Et,Et!=null&&dt.target!==document.activeElement&&(dt.target.value=Et),J.setValue(V,{formattedValue:Et})},selRange(dt){dt.target.setSelectionRange(...dt.detail.selRange)},charLimit:dt=>{var Ct;const{charLimit:Et}=dt.detail,{target:_t}=dt;if(Et===0){_t.removeAttribute("maxLength");return}_t.setAttribute("maxLength",Et);let It=He.userValue;!It||It.length<=Et||(It=It.slice(0,Et),_t.value=He.userValue=It,J.setValue(V,{value:It}),(Ct=this.linkService.eventBus)==null||Ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:It,willCommit:!0,commitKey:1,selStart:_t.selectionStart,selEnd:_t.selectionEnd}}))}};this._dispatchEventFromSandbox(lt,tt)}),ae.addEventListener("keydown",tt=>{var Et;He.commitKey=1;let lt=-1;if(tt.key==="Escape"?lt=0:tt.key==="Enter"&&!this.data.multiLine?lt=2:tt.key==="Tab"&&(He.commitKey=3),lt===-1)return;const{value:dt}=tt.target;He.lastCommittedValue!==dt&&(He.lastCommittedValue=dt,He.userValue=dt,(Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:dt,willCommit:!0,commitKey:lt,selStart:tt.target.selectionStart,selEnd:tt.target.selectionEnd}}))});const Qe=ct;ct=null,ae.addEventListener("blur",tt=>{var dt;if(!He.focused||!tt.relatedTarget)return;He.focused=!1;const{value:lt}=tt.target;He.userValue=lt,He.lastCommittedValue!==lt&&((dt=this.linkService.eventBus)==null||dt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:lt,willCommit:!0,commitKey:He.commitKey,selStart:tt.target.selectionStart,selEnd:tt.target.selectionEnd}})),Qe(tt)}),(be=this.data.actions)!=null&&be.Keystroke&&ae.addEventListener("beforeinput",tt=>{var mn;He.lastCommittedValue=null;const{data:lt,target:dt}=tt,{value:Et,selectionStart:_t,selectionEnd:It}=dt;let Ct=_t,an=It;switch(tt.inputType){case"deleteWordBackward":{const gn=Et.substring(0,_t).match(/\w*[^\w]*$/);gn&&(Ct-=gn[0].length);break}case"deleteWordForward":{const gn=Et.substring(_t).match(/^[^\w]*\w*/);gn&&(an+=gn[0].length);break}case"deleteContentBackward":_t===It&&(Ct-=1);break;case"deleteContentForward":_t===It&&(an+=1);break}tt.preventDefault(),(mn=this.linkService.eventBus)==null||mn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:Et,change:lt||"",willCommit:!1,selStart:Ct,selEnd:an}})}),this._setEventListeners(ae,He,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],tt=>tt.target.value)}if(ct&&ae.addEventListener("blur",ct),this.data.comb){const tt=(this.data.rect[2]-this.data.rect[0])/Ke;ae.classList.add("comb"),ae.style.letterSpacing=`calc(${tt}px * var(--scale-factor) - 1ch)`}}else ae=document.createElement("div"),ae.textContent=this.data.fieldValue,ae.style.verticalAlign="middle",ae.style.display="table-cell";return this._setTextStyle(ae),this._setBackgroundColor(ae),this._setDefaultPropertiesFromJS(ae),this.container.append(ae),this.container}}class U extends x{constructor(J){super(J,{isRenderable:!!J.data.hasOwnCanvas})}}class I extends x{constructor(J){super(J,{isRenderable:J.renderForms})}render(){const J=this.annotationStorage,V=this.data,ae=V.id;let Se=J.getValue(ae,{value:V.exportValue===V.fieldValue}).value;typeof Se=="string"&&(Se=Se!=="Off",J.setValue(ae,{value:Se})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const be=document.createElement("input");return N.add(be),be.setAttribute("data-element-id",ae),be.disabled=V.readOnly,this._setRequired(be,this.data.required),be.type="checkbox",be.name=V.fieldName,Se&&be.setAttribute("checked",!0),be.setAttribute("exportValue",V.exportValue),be.tabIndex=w,be.addEventListener("change",Me=>{const{name:Ne,checked:Ke}=Me.target;for(const Ye of this._getElementsByName(Ne,ae)){const He=Ke&&Ye.exportValue===V.exportValue;Ye.domElement&&(Ye.domElement.checked=He),J.setValue(Ye.id,{value:He})}J.setValue(ae,{value:Ke})}),be.addEventListener("resetform",Me=>{const Ne=V.defaultFieldValue||"Off";Me.target.checked=Ne===V.exportValue}),this.enableScripting&&this.hasJSActions&&(be.addEventListener("updatefromsandbox",Me=>{const Ne={value(Ke){Ke.target.checked=Ke.detail.value!=="Off",J.setValue(ae,{value:Ke.target.checked})}};this._dispatchEventFromSandbox(Ne,Me)}),this._setEventListeners(be,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Me=>Me.target.checked)),this._setBackgroundColor(be),this._setDefaultPropertiesFromJS(be),this.container.append(be),this.container}}class y extends x{constructor(J){super(J,{isRenderable:J.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const J=this.annotationStorage,V=this.data,ae=V.id;let Se=J.getValue(ae,{value:V.fieldValue===V.buttonValue}).value;typeof Se=="string"&&(Se=Se!==V.buttonValue,J.setValue(ae,{value:Se}));const be=document.createElement("input");if(N.add(be),be.setAttribute("data-element-id",ae),be.disabled=V.readOnly,this._setRequired(be,this.data.required),be.type="radio",be.name=V.fieldName,Se&&be.setAttribute("checked",!0),be.tabIndex=w,be.addEventListener("change",Me=>{const{name:Ne,checked:Ke}=Me.target;for(const Ye of this._getElementsByName(Ne,ae))J.setValue(Ye.id,{value:!1});J.setValue(ae,{value:Ke})}),be.addEventListener("resetform",Me=>{const Ne=V.defaultFieldValue;Me.target.checked=Ne!=null&&Ne===V.buttonValue}),this.enableScripting&&this.hasJSActions){const Me=V.buttonValue;be.addEventListener("updatefromsandbox",Ne=>{const Ke={value:Ye=>{const He=Me===Ye.detail.value;for(const ct of this._getElementsByName(Ye.target.name)){const Qe=He&&ct.id===ae;ct.domElement&&(ct.domElement.checked=Qe),J.setValue(ct.id,{value:Qe})}}};this._dispatchEventFromSandbox(Ke,Ne)}),this._setEventListeners(be,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ne=>Ne.target.checked)}return this._setBackgroundColor(be),this._setDefaultPropertiesFromJS(be),this.container.append(be),this.container}}class R extends M{constructor(J){super(J,{ignoreBorder:J.data.hasAppearance})}render(){const J=super.render();J.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(J.title=this.data.alternativeText);const V=J.lastChild;return this.enableScripting&&this.hasJSActions&&V&&(this._setDefaultPropertiesFromJS(V),V.addEventListener("updatefromsandbox",ae=>{this._dispatchEventFromSandbox({},ae)})),J}}class _ extends x{constructor(J){super(J,{isRenderable:J.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const J=this.annotationStorage,V=this.data.id,ae=J.getValue(V,{value:this.data.fieldValue}),Se=document.createElement("select");N.add(Se),Se.setAttribute("data-element-id",V),Se.disabled=this.data.readOnly,this._setRequired(Se,this.data.required),Se.name=this.data.fieldName,Se.tabIndex=w;let be=this.data.combo&&this.data.options.length>0;this.data.combo||(Se.size=this.data.options.length,this.data.multiSelect&&(Se.multiple=!0)),Se.addEventListener("resetform",He=>{const ct=this.data.defaultFieldValue;for(const Qe of Se.options)Qe.selected=Qe.value===ct});for(const He of this.data.options){const ct=document.createElement("option");ct.textContent=He.displayValue,ct.value=He.exportValue,ae.value.includes(He.exportValue)&&(ct.setAttribute("selected",!0),be=!1),Se.append(ct)}let Me=null;if(be){const He=document.createElement("option");He.value=" ",He.setAttribute("hidden",!0),He.setAttribute("selected",!0),Se.prepend(He),Me=()=>{He.remove(),Se.removeEventListener("input",Me),Me=null},Se.addEventListener("input",Me)}const Ne=He=>{const ct=He?"value":"textContent",{options:Qe,multiple:tt}=Se;return tt?Array.prototype.filter.call(Qe,lt=>lt.selected).map(lt=>lt[ct]):Qe.selectedIndex===-1?null:Qe[Qe.selectedIndex][ct]};let Ke=Ne(!1);const Ye=He=>{const ct=He.target.options;return Array.prototype.map.call(ct,Qe=>({displayValue:Qe.textContent,exportValue:Qe.value}))};return this.enableScripting&&this.hasJSActions?(Se.addEventListener("updatefromsandbox",He=>{const ct={value(Qe){Me==null||Me();const tt=Qe.detail.value,lt=new Set(Array.isArray(tt)?tt:[tt]);for(const dt of Se.options)dt.selected=lt.has(dt.value);J.setValue(V,{value:Ne(!0)}),Ke=Ne(!1)},multipleSelection(Qe){Se.multiple=!0},remove(Qe){const tt=Se.options,lt=Qe.detail.remove;tt[lt].selected=!1,Se.remove(lt),tt.length>0&&Array.prototype.findIndex.call(tt,Et=>Et.selected)===-1&&(tt[0].selected=!0),J.setValue(V,{value:Ne(!0),items:Ye(Qe)}),Ke=Ne(!1)},clear(Qe){for(;Se.length!==0;)Se.remove(0);J.setValue(V,{value:null,items:[]}),Ke=Ne(!1)},insert(Qe){const{index:tt,displayValue:lt,exportValue:dt}=Qe.detail.insert,Et=Se.children[tt],_t=document.createElement("option");_t.textContent=lt,_t.value=dt,Et?Et.before(_t):Se.append(_t),J.setValue(V,{value:Ne(!0),items:Ye(Qe)}),Ke=Ne(!1)},items(Qe){const{items:tt}=Qe.detail;for(;Se.length!==0;)Se.remove(0);for(const lt of tt){const{displayValue:dt,exportValue:Et}=lt,_t=document.createElement("option");_t.textContent=dt,_t.value=Et,Se.append(_t)}Se.options.length>0&&(Se.options[0].selected=!0),J.setValue(V,{value:Ne(!0),items:Ye(Qe)}),Ke=Ne(!1)},indices(Qe){const tt=new Set(Qe.detail.indices);for(const lt of Qe.target.options)lt.selected=tt.has(lt.index);J.setValue(V,{value:Ne(!0)}),Ke=Ne(!1)},editable(Qe){Qe.target.disabled=!Qe.detail.editable}};this._dispatchEventFromSandbox(ct,He)}),Se.addEventListener("input",He=>{var Qe;const ct=Ne(!0);J.setValue(V,{value:ct}),He.preventDefault(),(Qe=this.linkService.eventBus)==null||Qe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:Ke,changeEx:ct,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Se,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],He=>He.target.value)):Se.addEventListener("input",function(He){J.setValue(V,{value:Ne(!0)})}),this.data.combo&&this._setTextStyle(Se),this._setBackgroundColor(Se),this._setDefaultPropertiesFromJS(Se),this.container.append(Se),this.container}}class A extends E{constructor(J){const{data:V,elements:ae}=J;super(J,{isRenderable:E._hasPopupData(V)}),this.elements=ae}render(){this.container.classList.add("popupAnnotation");const J=new C({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),V=[];for(const ae of this.elements)ae.popup=J,V.push(ae.data.id),ae.addHighlightArea();return this.container.setAttribute("aria-controls",V.map(ae=>`${a.AnnotationPrefix}${ae}`).join(",")),this.container}}class C{constructor({container:J,color:V,elements:ae,titleObj:Se,modificationDate:be,contentsObj:Me,richText:Ne,parent:Ke,rect:Ye,parentRect:He,open:ct}){ve(this,je);ve(this,pe,null);ve(this,_e,ce(this,je,ed).bind(this));ve(this,Ae,ce(this,je,tl).bind(this));ve(this,ke,ce(this,je,el).bind(this));ve(this,Te,ce(this,je,Hs).bind(this));ve(this,Le,null);ve(this,ue,null);ve(this,de,null);ve(this,$,null);ve(this,Q,null);ve(this,le,null);ve(this,me,!1);ve(this,Ce,null);ve(this,Ie,null);ve(this,De,null);ve(this,he,null);ve(this,Be,!1);var tt;Ee(this,ue,J),Ee(this,he,Se),Ee(this,de,Me),Ee(this,De,Ne),Ee(this,Q,Ke),Ee(this,Le,V),Ee(this,Ie,Ye),Ee(this,le,He),Ee(this,$,ae);const Qe=u.PDFDateString.toDateObject(be);Qe&&Ee(this,pe,Ke.l10n.get("annotation_date_string",{date:Qe.toLocaleDateString(),time:Qe.toLocaleTimeString()})),this.trigger=ae.flatMap(lt=>lt.getElementsToTriggerPopup());for(const lt of this.trigger)lt.addEventListener("click",d(this,Te)),lt.addEventListener("mouseenter",d(this,ke)),lt.addEventListener("mouseleave",d(this,Ae)),lt.classList.add("popupTriggerArea");for(const lt of ae)(tt=lt.container)==null||tt.addEventListener("keydown",d(this,_e));d(this,ue).hidden=!0,ct&&ce(this,je,Hs).call(this)}render(){if(d(this,Ce))return;const{page:{view:J},viewport:{rawDims:{pageWidth:V,pageHeight:ae,pageX:Se,pageY:be}}}=d(this,Q),Me=Ee(this,Ce,document.createElement("div"));if(Me.className="popup",d(this,Le)){const Ct=Me.style.outlineColor=a.Util.makeHexColor(...d(this,Le));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Me.style.backgroundColor=`color-mix(in srgb, ${Ct} 30%, white)`:Me.style.backgroundColor=a.Util.makeHexColor(...d(this,Le).map(mn=>Math.floor(.7*(255-mn)+mn)))}const Ne=document.createElement("span");Ne.className="header";const Ke=document.createElement("h1");if(Ne.append(Ke),{dir:Ke.dir,str:Ke.textContent}=d(this,he),Me.append(Ne),d(this,pe)){const Ct=document.createElement("span");Ct.classList.add("popupDate"),d(this,pe).then(an=>{Ct.textContent=an}),Ne.append(Ct)}const Ye=d(this,de),He=d(this,De);if(He!=null&&He.str&&(!(Ye!=null&&Ye.str)||Ye.str===He.str))S.XfaLayer.render({xfaHtml:He.html,intent:"richText",div:Me}),Me.lastChild.classList.add("richText","popupContent");else{const Ct=this._formatContents(Ye);Me.append(Ct)}let ct=!!d(this,le),Qe=ct?d(this,le):d(this,Ie);for(const Ct of d(this,$))if(!Qe||a.Util.intersect(Ct.data.rect,Qe)!==null){Qe=Ct.data.rect,ct=!0;break}const tt=a.Util.normalizeRect([Qe[0],J[3]-Qe[1]+J[1],Qe[2],J[3]-Qe[3]+J[1]]),dt=ct?Qe[2]-Qe[0]+5:0,Et=tt[0]+dt,_t=tt[1],{style:It}=d(this,ue);It.left=`${100*(Et-Se)/V}%`,It.top=`${100*(_t-be)/ae}%`,d(this,ue).append(Me)}_formatContents({str:J,dir:V}){const ae=document.createElement("p");ae.classList.add("popupContent"),ae.dir=V;const Se=J.split(/(?:\r\n?|\n)/);for(let be=0,Me=Se.length;be<Me;++be){const Ne=Se[be];ae.append(document.createTextNode(Ne)),be<Me-1&&ae.append(document.createElement("br"))}return ae}forceHide(){Ee(this,Be,this.isVisible),d(this,Be)&&(d(this,ue).hidden=!0)}maybeShow(){d(this,Be)&&(Ee(this,Be,!1),d(this,ue).hidden=!1)}get isVisible(){return d(this,ue).hidden===!1}}pe=new WeakMap,_e=new WeakMap,Ae=new WeakMap,ke=new WeakMap,Te=new WeakMap,Le=new WeakMap,ue=new WeakMap,de=new WeakMap,$=new WeakMap,Q=new WeakMap,le=new WeakMap,me=new WeakMap,Ce=new WeakMap,Ie=new WeakMap,De=new WeakMap,he=new WeakMap,Be=new WeakMap,je=new WeakSet,ed=function(J){J.altKey||J.shiftKey||J.ctrlKey||J.metaKey||(J.key==="Enter"||J.key==="Escape"&&d(this,me))&&ce(this,je,Hs).call(this)},Hs=function(){Ee(this,me,!d(this,me)),d(this,me)?(ce(this,je,el).call(this),d(this,ue).addEventListener("click",d(this,Te)),d(this,ue).addEventListener("keydown",d(this,_e))):(ce(this,je,tl).call(this),d(this,ue).removeEventListener("click",d(this,Te)),d(this,ue).removeEventListener("keydown",d(this,_e)))},el=function(){d(this,Ce)||this.render(),this.isVisible?d(this,me)&&d(this,ue).classList.add("focused"):(d(this,ue).hidden=!1,d(this,ue).style.zIndex=parseInt(d(this,ue).style.zIndex)+1e3)},tl=function(){d(this,ue).classList.remove("focused"),!(d(this,me)||!this.isVisible)&&(d(this,ue).hidden=!0,d(this,ue).style.zIndex=parseInt(d(this,ue).style.zIndex)-1e3)};class Y extends E{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0}),this.textContent=J.data.textContent,this.textPosition=J.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const J=document.createElement("div");J.classList.add("annotationTextContent"),J.setAttribute("role","comment");for(const V of this.textContent){const ae=document.createElement("span");ae.textContent=V,J.append(ae)}this.container.append(J)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=Y;class m extends E{constructor(V){super(V,{isRenderable:!0,ignoreBorder:!0});ve(this,Ze,null)}render(){this.container.classList.add("lineAnnotation");const V=this.data,{width:ae,height:Se}=F(V.rect),be=this.svgFactory.create(ae,Se,!0),Me=Ee(this,Ze,this.svgFactory.createElement("svg:line"));return Me.setAttribute("x1",V.rect[2]-V.lineCoordinates[0]),Me.setAttribute("y1",V.rect[3]-V.lineCoordinates[1]),Me.setAttribute("x2",V.rect[2]-V.lineCoordinates[2]),Me.setAttribute("y2",V.rect[3]-V.lineCoordinates[3]),Me.setAttribute("stroke-width",V.borderStyle.width||1),Me.setAttribute("stroke","transparent"),Me.setAttribute("fill","transparent"),be.append(Me),this.container.append(be),!V.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Ze)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ze=new WeakMap;class k extends E{constructor(V){super(V,{isRenderable:!0,ignoreBorder:!0});ve(this,ft,null)}render(){this.container.classList.add("squareAnnotation");const V=this.data,{width:ae,height:Se}=F(V.rect),be=this.svgFactory.create(ae,Se,!0),Me=V.borderStyle.width,Ne=Ee(this,ft,this.svgFactory.createElement("svg:rect"));return Ne.setAttribute("x",Me/2),Ne.setAttribute("y",Me/2),Ne.setAttribute("width",ae-Me),Ne.setAttribute("height",Se-Me),Ne.setAttribute("stroke-width",Me||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),be.append(Ne),this.container.append(be),!V.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,ft)}addHighlightArea(){this.container.classList.add("highlightArea")}}ft=new WeakMap;class H extends E{constructor(V){super(V,{isRenderable:!0,ignoreBorder:!0});ve(this,vt,null)}render(){this.container.classList.add("circleAnnotation");const V=this.data,{width:ae,height:Se}=F(V.rect),be=this.svgFactory.create(ae,Se,!0),Me=V.borderStyle.width,Ne=Ee(this,vt,this.svgFactory.createElement("svg:ellipse"));return Ne.setAttribute("cx",ae/2),Ne.setAttribute("cy",Se/2),Ne.setAttribute("rx",ae/2-Me/2),Ne.setAttribute("ry",Se/2-Me/2),Ne.setAttribute("stroke-width",Me||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),be.append(Ne),this.container.append(be),!V.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,vt)}addHighlightArea(){this.container.classList.add("highlightArea")}}vt=new WeakMap;class te extends E{constructor(V){super(V,{isRenderable:!0,ignoreBorder:!0});ve(this,Oe,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const V=this.data,{width:ae,height:Se}=F(V.rect),be=this.svgFactory.create(ae,Se,!0);let Me=[];for(const Ke of V.vertices){const Ye=Ke.x-V.rect[0],He=V.rect[3]-Ke.y;Me.push(Ye+","+He)}Me=Me.join(" ");const Ne=Ee(this,Oe,this.svgFactory.createElement(this.svgElementName));return Ne.setAttribute("points",Me),Ne.setAttribute("stroke-width",V.borderStyle.width||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),be.append(Ne),this.container.append(be),!V.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Oe)}addHighlightArea(){this.container.classList.add("highlightArea")}}Oe=new WeakMap;class ne extends te{constructor(J){super(J),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class oe extends E{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ee extends E{constructor(V){super(V,{isRenderable:!0,ignoreBorder:!0});ve(this,ye,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const V=this.data,{width:ae,height:Se}=F(V.rect),be=this.svgFactory.create(ae,Se,!0);for(const Me of V.inkLists){let Ne=[];for(const Ye of Me){const He=Ye.x-V.rect[0],ct=V.rect[3]-Ye.y;Ne.push(`${He},${ct}`)}Ne=Ne.join(" ");const Ke=this.svgFactory.createElement(this.svgElementName);d(this,ye).push(Ke),Ke.setAttribute("points",Ne),Ke.setAttribute("stroke-width",V.borderStyle.width||1),Ke.setAttribute("stroke","transparent"),Ke.setAttribute("fill","transparent"),!V.popupRef&&this.hasPopupData&&this._createPopup(),be.append(Ke)}return this.container.append(be),this.container}getElementsToTriggerPopup(){return d(this,ye)}addHighlightArea(){this.container.classList.add("highlightArea")}}ye=new WeakMap,s.InkAnnotationElement=ee;class re extends E{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class z extends E{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class K extends E{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class B extends E{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class T extends E{constructor(J){super(J,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=T;class f extends E{constructor(V){var be;super(V,{isRenderable:!0});ve(this,Xe);ve(this,xe,null);const{filename:ae,content:Se}=this.data.file;this.filename=(0,u.getFilenameFromUrl)(ae,!0),this.content=Se,(be=this.linkService.eventBus)==null||be.dispatch("fileattachmentannotation",{source:this,filename:ae,content:Se})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:V,data:ae}=this;let Se;ae.hasAppearance||ae.fillAlpha===0?Se=document.createElement("div"):(Se=document.createElement("img"),Se.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(ae.name)?"paperclip":"pushpin"}.svg`,ae.fillAlpha&&ae.fillAlpha<1&&(Se.style=`filter: opacity(${Math.round(ae.fillAlpha*100)}%);`)),Se.addEventListener("dblclick",ce(this,Xe,nl).bind(this)),Ee(this,xe,Se);const{isMac:be}=a.FeatureTest.platform;return V.addEventListener("keydown",Me=>{Me.key==="Enter"&&(be?Me.metaKey:Me.ctrlKey)&&ce(this,Xe,nl).call(this)}),!ae.popupRef&&this.hasPopupData?this._createPopup():Se.classList.add("popupTriggerArea"),V.append(Se),V}getElementsToTriggerPopup(){return d(this,xe)}addHighlightArea(){this.container.classList.add("highlightArea")}}xe=new WeakMap,Xe=new WeakSet,nl=function(){var V;(V=this.downloadManager)==null||V.openOrDownloadData(this.container,this.content,this.filename)};class p{constructor({div:J,accessibilityManager:V,annotationCanvasMap:ae,l10n:Se,page:be,viewport:Me}){ve(this,Ue);ve(this,pt,null);ve(this,Z,null);ve(this,Pe,new Map);this.div=J,Ee(this,pt,V),Ee(this,Z,ae),this.l10n=Se,this.page=be,this.viewport=Me,this.zIndex=0,this.l10n||(this.l10n=G.NullL10n)}async render(J){const{annotations:V}=J,ae=this.div;(0,u.setLayerDimensions)(ae,this.viewport);const Se=new Map,be={data:null,layer:ae,linkService:J.linkService,downloadManager:J.downloadManager,imageResourcesPath:J.imageResourcesPath||"",renderForms:J.renderForms!==!1,svgFactory:new u.DOMSVGFactory,annotationStorage:J.annotationStorage||new P.AnnotationStorage,enableScripting:J.enableScripting===!0,hasJSActions:J.hasJSActions,fieldObjects:J.fieldObjects,parent:this,elements:null};for(const Me of V){if(Me.noHTML)continue;const Ne=Me.annotationType===a.AnnotationType.POPUP;if(Ne){const He=Se.get(Me.id);if(!He)continue;be.elements=He}else{const{width:He,height:ct}=F(Me.rect);if(He<=0||ct<=0)continue}be.data=Me;const Ke=b.create(be);if(!Ke.isRenderable)continue;if(!Ne&&Me.popupRef){const He=Se.get(Me.popupRef);He?He.push(Ke):Se.set(Me.popupRef,[Ke])}Ke.annotationEditorType>0&&d(this,Pe).set(Ke.data.id,Ke);const Ye=Ke.render();Me.hidden&&(Ye.style.visibility="hidden"),ce(this,Ue,td).call(this,Ye,Me.id)}ce(this,Ue,rl).call(this),await this.l10n.translate(ae)}update({viewport:J}){const V=this.div;this.viewport=J,(0,u.setLayerDimensions)(V,{rotation:J.rotation}),ce(this,Ue,rl).call(this),V.hidden=!1}getEditableAnnotations(){return Array.from(d(this,Pe).values())}getEditableAnnotation(J){return d(this,Pe).get(J)}}pt=new WeakMap,Z=new WeakMap,Pe=new WeakMap,Ue=new WeakSet,td=function(J,V){var Se;const ae=J.firstChild||J;ae.id=`${a.AnnotationPrefix}${V}`,this.div.append(J),(Se=d(this,pt))==null||Se.moveElementInDOM(this.div,J,ae,!1)},rl=function(){if(!d(this,Z))return;const J=this.div;for(const[V,ae]of d(this,Z)){const Se=J.querySelector(`[data-annotation-id="${V}"]`);if(!Se)continue;const{firstChild:be}=Se;be?be.nodeName==="CANVAS"?be.replaceWith(ae):be.before(ae):Se.append(ae)}d(this,Z).clear()},s.AnnotationLayer=p},(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function c(P){return Math.floor(Math.max(0,Math.min(1,P))*255).toString(16).padStart(2,"0")}function a(P){return Math.max(0,Math.min(255,255*P))}class u{static CMYK_G([O,G,S,w]){return["G",1-Math.min(1,.3*O+.59*S+.11*G+w)]}static G_CMYK([O]){return["CMYK",0,0,0,1-O]}static G_RGB([O]){return["RGB",O,O,O]}static G_rgb([O]){return O=a(O),[O,O,O]}static G_HTML([O]){const G=c(O);return`#${G}${G}${G}`}static RGB_G([O,G,S]){return["G",.3*O+.59*G+.11*S]}static RGB_rgb(O){return O.map(a)}static RGB_HTML(O){return`#${O.map(c).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([O,G,S,w]){return["RGB",1-Math.min(1,O+w),1-Math.min(1,S+w),1-Math.min(1,G+w)]}static CMYK_rgb([O,G,S,w]){return[a(1-Math.min(1,O+w)),a(1-Math.min(1,S+w)),a(1-Math.min(1,G+w))]}static CMYK_HTML(O){const G=this.CMYK_RGB(O).slice(1);return this.RGB_HTML(G)}static RGB_CMYK([O,G,S]){const w=1-O,g=1-G,N=1-S,F=Math.min(w,g,N);return["CMYK",w,g,N,F]}}s.ColorConverters=u},(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=a;const c={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};c.print_progress_percent="{{progress}}%";function a(O,G){switch(O){case"find_match_count":O=`find_match_count[${G.total===1?"one":"other"}]`;break;case"find_match_count_limit":O=`find_match_count_limit[${G.limit===1?"one":"other"}]`;break}return c[O]||""}function u(O,G){return G?O.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(S,w)=>w in G?G[w]:"{{"+w+"}}"):O}const P={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(O,G=null,S=a(O,G)){return u(S,G)},async translate(O){}};s.NullL10n=P},(o,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var a=c(25);class u{static setupStorage(O,G,S,w,g){const N=w.getValue(G,{value:null});switch(S.name){case"textarea":if(N.value!==null&&(O.textContent=N.value),g==="print")break;O.addEventListener("input",F=>{w.setValue(G,{value:F.target.value})});break;case"input":if(S.attributes.type==="radio"||S.attributes.type==="checkbox"){if(N.value===S.attributes.xfaOn?O.setAttribute("checked",!0):N.value===S.attributes.xfaOff&&O.removeAttribute("checked"),g==="print")break;O.addEventListener("change",F=>{w.setValue(G,{value:F.target.checked?F.target.getAttribute("xfaOn"):F.target.getAttribute("xfaOff")})})}else{if(N.value!==null&&O.setAttribute("value",N.value),g==="print")break;O.addEventListener("input",F=>{w.setValue(G,{value:F.target.value})})}break;case"select":if(N.value!==null){O.setAttribute("value",N.value);for(const F of S.children)F.attributes.value===N.value?F.attributes.selected=!0:F.attributes.hasOwnProperty("selected")&&delete F.attributes.selected}O.addEventListener("input",F=>{const b=F.target.options,E=b.selectedIndex===-1?"":b[b.selectedIndex].value;w.setValue(G,{value:E})});break}}static setAttributes({html:O,element:G,storage:S=null,intent:w,linkService:g}){const{attributes:N}=G,F=O instanceof HTMLAnchorElement;N.type==="radio"&&(N.name=`${N.name}-${w}`);for(const[b,E]of Object.entries(N))if(E!=null)switch(b){case"class":E.length&&O.setAttribute(b,E.join(" "));break;case"dataId":break;case"id":O.setAttribute("data-element-id",E);break;case"style":Object.assign(O.style,E);break;case"textContent":O.textContent=E;break;default:(!F||b!=="href"&&b!=="newWindow")&&O.setAttribute(b,E)}F&&g.addLinkAttributes(O,N.href,N.newWindow),S&&N.dataId&&this.setupStorage(O,N.dataId,G,S)}static render(O){var M;const G=O.annotationStorage,S=O.linkService,w=O.xfaHtml,g=O.intent||"display",N=document.createElement(w.name);w.attributes&&this.setAttributes({html:N,element:w,intent:g,linkService:S});const F=[[w,-1,N]],b=O.div;if(b.append(N),O.viewport){const v=`matrix(${O.viewport.transform.join(",")})`;b.style.transform=v}g!=="richText"&&b.setAttribute("class","xfaLayer xfaFont");const E=[];for(;F.length>0;){const[v,x,L]=F.at(-1);if(x+1===v.children.length){F.pop();continue}const U=v.children[++F.at(-1)[1]];if(U===null)continue;const{name:I}=U;if(I==="#text"){const R=document.createTextNode(U.value);E.push(R),L.append(R);continue}const y=(M=U==null?void 0:U.attributes)!=null&&M.xmlns?document.createElementNS(U.attributes.xmlns,I):document.createElement(I);if(L.append(y),U.attributes&&this.setAttributes({html:y,element:U,storage:G,intent:g,linkService:S}),U.children&&U.children.length>0)F.push([U,-1,y]);else if(U.value){const R=document.createTextNode(U.value);a.XfaText.shouldBuildText(I)&&E.push(R),y.append(R)}}for(const v of b.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:E}}static update(O){const G=`matrix(${O.viewport.transform.join(",")})`;O.div.style.transform=G,O.div.hidden=!1}}s.XfaLayer=u},(o,s,c)=>{var w,g,N,F,b,E,M,v,x,L,U,I,y,R,_,nd,rd,id,sd,il,od,sl,ad,ld,ud,cd,dd,Nn,ol,Ws,Vs,zr,al,Gs,q,hd,ll,fd,pd,ul,qs,$r;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var a=c(1),u=c(4),P=c(29),O=c(6),G=c(5);const Le=class Le extends u.AnnotationEditor{constructor($){super({...$,name:"inkEditor"});ve(this,_);ve(this,w,0);ve(this,g,0);ve(this,N,this.canvasPointermove.bind(this));ve(this,F,this.canvasPointerleave.bind(this));ve(this,b,this.canvasPointerup.bind(this));ve(this,E,this.canvasPointerdown.bind(this));ve(this,M,new Path2D);ve(this,v,!1);ve(this,x,!1);ve(this,L,!1);ve(this,U,null);ve(this,I,0);ve(this,y,0);ve(this,R,null);this.color=$.color||null,this.thickness=$.thickness||null,this.opacity=$.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize($){u.AnnotationEditor.initialize($,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams($,Q){switch($){case a.AnnotationEditorParamsType.INK_THICKNESS:Le._defaultThickness=Q;break;case a.AnnotationEditorParamsType.INK_COLOR:Le._defaultColor=Q;break;case a.AnnotationEditorParamsType.INK_OPACITY:Le._defaultOpacity=Q/100;break}}updateParams($,Q){switch($){case a.AnnotationEditorParamsType.INK_THICKNESS:ce(this,_,nd).call(this,Q);break;case a.AnnotationEditorParamsType.INK_COLOR:ce(this,_,rd).call(this,Q);break;case a.AnnotationEditorParamsType.INK_OPACITY:ce(this,_,id).call(this,Q);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,Le._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,Le._defaultColor||u.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(Le._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Le._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||Le._defaultColor||u.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Le._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ce(this,_,Ws).call(this),ce(this,_,Vs).call(this)),this.isAttachedToDOM||(this.parent.add(this),ce(this,_,zr).call(this)),ce(this,_,$r).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,d(this,U).disconnect(),Ee(this,U,null),super.remove())}setParent($){!this.parent&&$?this._uiManager.removeShouldRescale(this):this.parent&&$===null&&this._uiManager.addShouldRescale(this),super.setParent($)}onScaleChanging(){const[$,Q]=this.parentDimensions,le=this.width*$,me=this.height*Q;this.setDimensions(le,me)}enableEditMode(){d(this,v)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",d(this,E)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",d(this,E)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){d(this,v)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ee(this,v,!0),this.div.classList.add("disabled"),ce(this,_,$r).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin($){this._focusEventsAllowed&&(super.focusin($),this.enableEditMode())}canvasPointerdown($){$.button!==0||!this.isInEditMode()||d(this,v)||(this.setInForeground(),$.preventDefault(),$.type!=="mouse"&&this.div.focus(),ce(this,_,od).call(this,$.offsetX,$.offsetY))}canvasPointermove($){$.preventDefault(),ce(this,_,sl).call(this,$.offsetX,$.offsetY)}canvasPointerup($){$.preventDefault(),ce(this,_,ol).call(this,$)}canvasPointerleave($){ce(this,_,ol).call(this,$)}get isResizable(){return!this.isEmpty()&&d(this,v)}render(){if(this.div)return this.div;let $,Q;this.width&&($=this.x,Q=this.y),super.render(),u.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(De=>{var he;return(he=this.div)==null?void 0:he.setAttribute("aria-label",De)});const[le,me,Ce,Ie]=ce(this,_,sd).call(this);if(this.setAt(le,me,0,0),this.setDims(Ce,Ie),ce(this,_,Ws).call(this),this.width){const[De,he]=this.parentDimensions;this.setAspectRatio(this.width*De,this.height*he),this.setAt($*De,Q*he,this.width*De,this.height*he),Ee(this,L,!0),ce(this,_,zr).call(this),this.setDims(this.width*De,this.height*he),ce(this,_,Nn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ce(this,_,Vs).call(this),this.div}setDimensions($,Q){const le=Math.round($),me=Math.round(Q);if(d(this,I)===le&&d(this,y)===me)return;Ee(this,I,le),Ee(this,y,me),this.canvas.style.visibility="hidden";const[Ce,Ie]=this.parentDimensions;this.width=$/Ce,this.height=Q/Ie,this.fixAndSetPosition(),d(this,v)&&ce(this,_,al).call(this,$,Q),ce(this,_,zr).call(this),ce(this,_,Nn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize($,Q,le){var Ze,ft,vt;if($ instanceof P.InkAnnotationElement)return null;const me=super.deserialize($,Q,le);me.thickness=$.thickness,me.color=a.Util.makeHexColor(...$.color),me.opacity=$.opacity;const[Ce,Ie]=me.pageDimensions,De=me.width*Ce,he=me.height*Ie,Be=me.parentScale,je=$.thickness/2;Ee(me,v,!0),Ee(me,I,Math.round(De)),Ee(me,y,Math.round(he));const{paths:at,rect:rt,rotation:ht}=$;for(let{bezier:Oe}of at){Oe=ce(Ze=Le,q,fd).call(Ze,Oe,rt,ht);const ye=[];me.paths.push(ye);let xe=Be*(Oe[0]-je),Xe=Be*(Oe[1]-je);for(let pt=2,Z=Oe.length;pt<Z;pt+=6){const Pe=Be*(Oe[pt]-je),Ue=Be*(Oe[pt+1]-je),Je=Be*(Oe[pt+2]-je),et=Be*(Oe[pt+3]-je),Ge=Be*(Oe[pt+4]-je),J=Be*(Oe[pt+5]-je);ye.push([[xe,Xe],[Pe,Ue],[Je,et],[Ge,J]]),xe=Ge,Xe=J}const yt=ce(this,q,hd).call(this,ye);me.bezierPath2D.push(yt)}const qe=ce(ft=me,_,ul).call(ft);return Ee(me,g,Math.max(u.AnnotationEditor.MIN_SIZE,qe[2]-qe[0])),Ee(me,w,Math.max(u.AnnotationEditor.MIN_SIZE,qe[3]-qe[1])),ce(vt=me,_,al).call(vt,De,he),me}serialize(){if(this.isEmpty())return null;const $=this.getRect(0,0),Q=u.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:Q,thickness:this.thickness,opacity:this.opacity,paths:ce(this,_,pd).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,$),pageIndex:this.pageIndex,rect:$,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};w=new WeakMap,g=new WeakMap,N=new WeakMap,F=new WeakMap,b=new WeakMap,E=new WeakMap,M=new WeakMap,v=new WeakMap,x=new WeakMap,L=new WeakMap,U=new WeakMap,I=new WeakMap,y=new WeakMap,R=new WeakMap,_=new WeakSet,nd=function($){const Q=this.thickness;this.addCommands({cmd:()=>{this.thickness=$,ce(this,_,$r).call(this)},undo:()=>{this.thickness=Q,ce(this,_,$r).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},rd=function($){const Q=this.color;this.addCommands({cmd:()=>{this.color=$,ce(this,_,Nn).call(this)},undo:()=>{this.color=Q,ce(this,_,Nn).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},id=function($){$/=100;const Q=this.opacity;this.addCommands({cmd:()=>{this.opacity=$,ce(this,_,Nn).call(this)},undo:()=>{this.opacity=Q,ce(this,_,Nn).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},sd=function(){const{parentRotation:$,parentDimensions:[Q,le]}=this;switch($){case 90:return[0,le,le,Q];case 180:return[Q,le,Q,le];case 270:return[Q,0,le,Q];default:return[0,0,Q,le]}},il=function(){const{ctx:$,color:Q,opacity:le,thickness:me,parentScale:Ce,scaleFactor:Ie}=this;$.lineWidth=me*Ce/Ie,$.lineCap="round",$.lineJoin="round",$.miterLimit=10,$.strokeStyle=`${Q}${(0,G.opacityToHex)(le)}`},od=function($,Q){this.canvas.addEventListener("contextmenu",O.noContextMenu),this.canvas.addEventListener("pointerleave",d(this,F)),this.canvas.addEventListener("pointermove",d(this,N)),this.canvas.addEventListener("pointerup",d(this,b)),this.canvas.removeEventListener("pointerdown",d(this,E)),this.isEditing=!0,d(this,L)||(Ee(this,L,!0),ce(this,_,zr).call(this),this.thickness||(this.thickness=Le._defaultThickness),this.color||(this.color=Le._defaultColor||u.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Le._defaultOpacity)),this.currentPath.push([$,Q]),Ee(this,x,!1),ce(this,_,il).call(this),Ee(this,R,()=>{ce(this,_,ud).call(this),d(this,R)&&window.requestAnimationFrame(d(this,R))}),window.requestAnimationFrame(d(this,R))},sl=function($,Q){const[le,me]=this.currentPath.at(-1);if(this.currentPath.length>1&&$===le&&Q===me)return;const Ce=this.currentPath;let Ie=d(this,M);if(Ce.push([$,Q]),Ee(this,x,!0),Ce.length<=2){Ie.moveTo(...Ce[0]),Ie.lineTo($,Q);return}Ce.length===3&&(Ee(this,M,Ie=new Path2D),Ie.moveTo(...Ce[0])),ce(this,_,cd).call(this,Ie,...Ce.at(-3),...Ce.at(-2),$,Q)},ad=function(){if(this.currentPath.length===0)return;const $=this.currentPath.at(-1);d(this,M).lineTo(...$)},ld=function($,Q){Ee(this,R,null),$=Math.min(Math.max($,0),this.canvas.width),Q=Math.min(Math.max(Q,0),this.canvas.height),ce(this,_,sl).call(this,$,Q),ce(this,_,ad).call(this);let le;if(this.currentPath.length!==1)le=ce(this,_,dd).call(this);else{const he=[$,Q];le=[[he,he.slice(),he.slice(),he]]}const me=d(this,M),Ce=this.currentPath;this.currentPath=[],Ee(this,M,new Path2D);const Ie=()=>{this.allRawPaths.push(Ce),this.paths.push(le),this.bezierPath2D.push(me),this.rebuild()},De=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ce(this,_,Ws).call(this),ce(this,_,Vs).call(this)),ce(this,_,$r).call(this))};this.addCommands({cmd:Ie,undo:De,mustExec:!0})},ud=function(){if(!d(this,x))return;Ee(this,x,!1);const $=Math.ceil(this.thickness*this.parentScale),Q=this.currentPath.slice(-3),le=Q.map(Ie=>Ie[0]),me=Q.map(Ie=>Ie[1]);Math.min(...le)-$,Math.max(...le)+$,Math.min(...me)-$,Math.max(...me)+$;const{ctx:Ce}=this;Ce.save(),Ce.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Ie of this.bezierPath2D)Ce.stroke(Ie);Ce.stroke(d(this,M)),Ce.restore()},cd=function($,Q,le,me,Ce,Ie,De){const he=(Q+me)/2,Be=(le+Ce)/2,je=(me+Ie)/2,at=(Ce+De)/2;$.bezierCurveTo(he+2*(me-he)/3,Be+2*(Ce-Be)/3,je+2*(me-je)/3,at+2*(Ce-at)/3,je,at)},dd=function(){const $=this.currentPath;if($.length<=2)return[[$[0],$[0],$.at(-1),$.at(-1)]];const Q=[];let le,[me,Ce]=$[0];for(le=1;le<$.length-2;le++){const[rt,ht]=$[le],[qe,Ze]=$[le+1],ft=(rt+qe)/2,vt=(ht+Ze)/2,Oe=[me+2*(rt-me)/3,Ce+2*(ht-Ce)/3],ye=[ft+2*(rt-ft)/3,vt+2*(ht-vt)/3];Q.push([[me,Ce],Oe,ye,[ft,vt]]),[me,Ce]=[ft,vt]}const[Ie,De]=$[le],[he,Be]=$[le+1],je=[me+2*(Ie-me)/3,Ce+2*(De-Ce)/3],at=[he+2*(Ie-he)/3,Be+2*(De-Be)/3];return Q.push([[me,Ce],je,at,[he,Be]]),Q},Nn=function(){if(this.isEmpty()){ce(this,_,Gs).call(this);return}ce(this,_,il).call(this);const{canvas:$,ctx:Q}=this;Q.setTransform(1,0,0,1,0,0),Q.clearRect(0,0,$.width,$.height),ce(this,_,Gs).call(this);for(const le of this.bezierPath2D)Q.stroke(le)},ol=function($){this.canvas.removeEventListener("pointerleave",d(this,F)),this.canvas.removeEventListener("pointermove",d(this,N)),this.canvas.removeEventListener("pointerup",d(this,b)),this.canvas.addEventListener("pointerdown",d(this,E)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",O.noContextMenu)},10),ce(this,_,ld).call(this,$.offsetX,$.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ws=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",u.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then($=>{var Q;return(Q=this.canvas)==null?void 0:Q.setAttribute("aria-label",$)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Vs=function(){Ee(this,U,new ResizeObserver($=>{const Q=$[0].contentRect;Q.width&&Q.height&&this.setDimensions(Q.width,Q.height)})),d(this,U).observe(this.div)},zr=function(){if(!d(this,L))return;const[$,Q]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*$),this.canvas.height=Math.ceil(this.height*Q),ce(this,_,Gs).call(this)},al=function($,Q){const le=ce(this,_,qs).call(this),me=($-le)/d(this,g),Ce=(Q-le)/d(this,w);this.scaleFactor=Math.min(me,Ce)},Gs=function(){const $=ce(this,_,qs).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+$,this.translationY*this.scaleFactor+$)},q=new WeakSet,hd=function($){const Q=new Path2D;for(let le=0,me=$.length;le<me;le++){const[Ce,Ie,De,he]=$[le];le===0&&Q.moveTo(...Ce),Q.bezierCurveTo(Ie[0],Ie[1],De[0],De[1],he[0],he[1])}return Q},ll=function($,Q,le){const[me,Ce,Ie,De]=Q;switch(le){case 0:for(let he=0,Be=$.length;he<Be;he+=2)$[he]+=me,$[he+1]=De-$[he+1];break;case 90:for(let he=0,Be=$.length;he<Be;he+=2){const je=$[he];$[he]=$[he+1]+me,$[he+1]=je+Ce}break;case 180:for(let he=0,Be=$.length;he<Be;he+=2)$[he]=Ie-$[he],$[he+1]+=Ce;break;case 270:for(let he=0,Be=$.length;he<Be;he+=2){const je=$[he];$[he]=Ie-$[he+1],$[he+1]=De-je}break;default:throw new Error("Invalid rotation")}return $},fd=function($,Q,le){const[me,Ce,Ie,De]=Q;switch(le){case 0:for(let he=0,Be=$.length;he<Be;he+=2)$[he]-=me,$[he+1]=De-$[he+1];break;case 90:for(let he=0,Be=$.length;he<Be;he+=2){const je=$[he];$[he]=$[he+1]-Ce,$[he+1]=je-me}break;case 180:for(let he=0,Be=$.length;he<Be;he+=2)$[he]=Ie-$[he],$[he+1]-=Ce;break;case 270:for(let he=0,Be=$.length;he<Be;he+=2){const je=$[he];$[he]=De-$[he+1],$[he+1]=Ie-je}break;default:throw new Error("Invalid rotation")}return $},pd=function($,Q,le,me){var Be,je;const Ce=[],Ie=this.thickness/2,De=$*Q+Ie,he=$*le+Ie;for(const at of this.paths){const rt=[],ht=[];for(let qe=0,Ze=at.length;qe<Ze;qe++){const[ft,vt,Oe,ye]=at[qe],xe=$*ft[0]+De,Xe=$*ft[1]+he,yt=$*vt[0]+De,pt=$*vt[1]+he,Z=$*Oe[0]+De,Pe=$*Oe[1]+he,Ue=$*ye[0]+De,Je=$*ye[1]+he;qe===0&&(rt.push(xe,Xe),ht.push(xe,Xe)),rt.push(yt,pt,Z,Pe,Ue,Je),ht.push(yt,pt),qe===Ze-1&&ht.push(Ue,Je)}Ce.push({bezier:ce(Be=Le,q,ll).call(Be,rt,me,this.rotation),points:ce(je=Le,q,ll).call(je,ht,me,this.rotation)})}return Ce},ul=function(){let $=1/0,Q=-1/0,le=1/0,me=-1/0;for(const Ce of this.paths)for(const[Ie,De,he,Be]of Ce){const je=a.Util.bezierBoundingBox(...Ie,...De,...he,...Be);$=Math.min($,je[0]),le=Math.min(le,je[1]),Q=Math.max(Q,je[2]),me=Math.max(me,je[3])}return[$,le,Q,me]},qs=function(){return d(this,v)?Math.ceil(this.thickness*this.parentScale):0},$r=function($=!1){if(this.isEmpty())return;if(!d(this,v)){ce(this,_,Nn).call(this);return}const Q=ce(this,_,ul).call(this),le=ce(this,_,qs).call(this);Ee(this,g,Math.max(u.AnnotationEditor.MIN_SIZE,Q[2]-Q[0])),Ee(this,w,Math.max(u.AnnotationEditor.MIN_SIZE,Q[3]-Q[1]));const me=Math.ceil(le+d(this,g)*this.scaleFactor),Ce=Math.ceil(le+d(this,w)*this.scaleFactor),[Ie,De]=this.parentDimensions;this.width=me/Ie,this.height=Ce/De,this.setAspectRatio(me,Ce);const he=this.translationX,Be=this.translationY;this.translationX=-Q[0],this.translationY=-Q[1],ce(this,_,zr).call(this),ce(this,_,Nn).call(this),Ee(this,I,me),Ee(this,y,Ce),this.setDims(me,Ce);const je=$?le/this.scaleFactor/2:0;this.translate(he-this.translationX-je,Be-this.translationY-je)},ve(Le,q),At(Le,"_defaultColor",null),At(Le,"_defaultOpacity",1),At(Le,"_defaultThickness",1),At(Le,"_type","ink");let S=Le;s.InkEditor=S},(o,s,c)=>{var S,w,g,N,F,b,E,M,v,x,L,Pi,Ti,Xs,cl,md,gd,dl,Ys,yd;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var a=c(1),u=c(4),P=c(6),O=c(29);const k=class k extends u.AnnotationEditor{constructor(ne){super({...ne,name:"stampEditor"});ve(this,L);ve(this,S,null);ve(this,w,null);ve(this,g,null);ve(this,N,null);ve(this,F,null);ve(this,b,null);ve(this,E,null);ve(this,M,null);ve(this,v,!1);ve(this,x,!1);Ee(this,N,ne.bitmapUrl),Ee(this,F,ne.bitmapFile)}static initialize(ne){u.AnnotationEditor.initialize(ne)}static get supportedTypes(){const ne=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",ne.map(oe=>`image/${oe}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(ne){return this.supportedTypes.includes(ne)}static paste(ne,oe){oe.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:ne.getAsFile()})}remove(){var ne,oe;d(this,w)&&(Ee(this,S,null),this._uiManager.imageManager.deleteId(d(this,w)),(ne=d(this,b))==null||ne.remove(),Ee(this,b,null),(oe=d(this,E))==null||oe.disconnect(),Ee(this,E,null)),super.remove()}rebuild(){if(!this.parent){d(this,w)&&ce(this,L,Xs).call(this);return}super.rebuild(),this.div!==null&&(d(this,w)&&ce(this,L,Xs).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(d(this,g)||d(this,S)||d(this,N)||d(this,F))}get isResizable(){return!0}render(){if(this.div)return this.div;let ne,oe;if(this.width&&(ne=this.x,oe=this.y),super.render(),this.div.hidden=!0,d(this,S)?ce(this,L,cl).call(this):ce(this,L,Xs).call(this),this.width){const[ee,re]=this.parentDimensions;this.setAt(ne*ee,oe*re,this.width*ee,this.height*re)}return this.div}static deserialize(ne,oe,ee){if(ne instanceof O.StampAnnotationElement)return null;const re=super.deserialize(ne,oe,ee),{rect:z,bitmapUrl:K,bitmapId:B,isSvg:T,accessibilityData:f}=ne;B&&ee.imageManager.isValidId(B)?Ee(re,w,B):Ee(re,N,K),Ee(re,v,T);const[p,D]=re.pageDimensions;return re.width=(z[2]-z[0])/p,re.height=(z[3]-z[1])/D,f&&(re.altTextData=f),re}serialize(ne=!1,oe=null){if(this.isEmpty())return null;const ee={annotationType:a.AnnotationEditorType.STAMP,bitmapId:d(this,w),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,v),structTreeParentId:this._structTreeParentId};if(ne)return ee.bitmapUrl=ce(this,L,Ys).call(this,!0),ee.accessibilityData=this.altTextData,ee;const{decorative:re,altText:z}=this.altTextData;if(!re&&z&&(ee.accessibilityData={type:"Figure",alt:z}),oe===null)return ee;oe.stamps||(oe.stamps=new Map);const K=d(this,v)?(ee.rect[2]-ee.rect[0])*(ee.rect[3]-ee.rect[1]):null;if(!oe.stamps.has(d(this,w)))oe.stamps.set(d(this,w),{area:K,serialized:ee}),ee.bitmap=ce(this,L,Ys).call(this,!1);else if(d(this,v)){const B=oe.stamps.get(d(this,w));K>B.area&&(B.area=K,B.serialized.bitmap.close(),B.serialized.bitmap=ce(this,L,Ys).call(this,!1))}return ee}};S=new WeakMap,w=new WeakMap,g=new WeakMap,N=new WeakMap,F=new WeakMap,b=new WeakMap,E=new WeakMap,M=new WeakMap,v=new WeakMap,x=new WeakMap,L=new WeakSet,Pi=function(ne,oe=!1){if(!ne){this.remove();return}Ee(this,S,ne.bitmap),oe||(Ee(this,w,ne.id),Ee(this,v,ne.isSvg)),ce(this,L,cl).call(this)},Ti=function(){Ee(this,g,null),this._uiManager.enableWaiting(!1),d(this,b)&&this.div.focus()},Xs=function(){if(d(this,w)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,w)).then(oe=>ce(this,L,Pi).call(this,oe,!0)).finally(()=>ce(this,L,Ti).call(this));return}if(d(this,N)){const oe=d(this,N);Ee(this,N,null),this._uiManager.enableWaiting(!0),Ee(this,g,this._uiManager.imageManager.getFromUrl(oe).then(ee=>ce(this,L,Pi).call(this,ee)).finally(()=>ce(this,L,Ti).call(this)));return}if(d(this,F)){const oe=d(this,F);Ee(this,F,null),this._uiManager.enableWaiting(!0),Ee(this,g,this._uiManager.imageManager.getFromFile(oe).then(ee=>ce(this,L,Pi).call(this,ee)).finally(()=>ce(this,L,Ti).call(this)));return}const ne=document.createElement("input");ne.type="file",ne.accept=k.supportedTypesStr,Ee(this,g,new Promise(oe=>{ne.addEventListener("change",async()=>{if(!ne.files||ne.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const ee=await this._uiManager.imageManager.getFromFile(ne.files[0]);ce(this,L,Pi).call(this,ee)}oe()}),ne.addEventListener("cancel",()=>{this.remove(),oe()})}).finally(()=>ce(this,L,Ti).call(this))),ne.click()},cl=function(){const{div:ne}=this;let{width:oe,height:ee}=d(this,S);const[re,z]=this.pageDimensions,K=.75;if(this.width)oe=this.width*re,ee=this.height*z;else if(oe>K*re||ee>K*z){const p=Math.min(K*re/oe,K*z/ee);oe*=p,ee*=p}const[B,T]=this.parentDimensions;this.setDims(oe*B/re,ee*T/z),this._uiManager.enableWaiting(!1);const f=Ee(this,b,document.createElement("canvas"));ne.append(f),ne.hidden=!1,ce(this,L,dl).call(this,oe,ee),ce(this,L,yd).call(this),d(this,x)||(this.parent.addUndoableEditor(this),Ee(this,x,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},md=function(ne,oe){var K;const[ee,re]=this.parentDimensions;this.width=ne/ee,this.height=oe/re,this.setDims(ne,oe),(K=this._initialOptions)!=null&&K.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,d(this,M)!==null&&clearTimeout(d(this,M)),Ee(this,M,setTimeout(()=>{Ee(this,M,null),ce(this,L,dl).call(this,ne,oe)},200))},gd=function(ne,oe){const{width:ee,height:re}=d(this,S);let z=ee,K=re,B=d(this,S);for(;z>2*ne||K>2*oe;){const T=z,f=K;z>2*ne&&(z=z>=16384?Math.floor(z/2)-1:Math.ceil(z/2)),K>2*oe&&(K=K>=16384?Math.floor(K/2)-1:Math.ceil(K/2));const p=new OffscreenCanvas(z,K);p.getContext("2d").drawImage(B,0,0,T,f,0,0,z,K),B=p.transferToImageBitmap()}return B},dl=function(ne,oe){ne=Math.ceil(ne),oe=Math.ceil(oe);const ee=d(this,b);if(!ee||ee.width===ne&&ee.height===oe)return;ee.width=ne,ee.height=oe;const re=d(this,v)?d(this,S):ce(this,L,gd).call(this,ne,oe),z=ee.getContext("2d");z.filter=this._uiManager.hcmFilter,z.drawImage(re,0,0,re.width,re.height,0,0,ne,oe)},Ys=function(ne){if(ne){if(d(this,v)){const re=this._uiManager.imageManager.getSvgUrl(d(this,w));if(re)return re}const oe=document.createElement("canvas");return{width:oe.width,height:oe.height}=d(this,S),oe.getContext("2d").drawImage(d(this,S),0,0),oe.toDataURL()}if(d(this,v)){const[oe,ee]=this.pageDimensions,re=Math.round(this.width*oe*P.PixelsPerInch.PDF_TO_CSS_UNITS),z=Math.round(this.height*ee*P.PixelsPerInch.PDF_TO_CSS_UNITS),K=new OffscreenCanvas(re,z);return K.getContext("2d").drawImage(d(this,S),0,0,d(this,S).width,d(this,S).height,0,0,re,z),K.transferToImageBitmap()}return structuredClone(d(this,S))},yd=function(){Ee(this,E,new ResizeObserver(ne=>{const oe=ne[0].contentRect;oe.width&&oe.height&&ce(this,L,md).call(this,oe.width,oe.height)})),d(this,E).observe(this.div)},At(k,"_type","stamp");let G=k;s.StampEditor=G}],__webpack_module_cache__={};function __w_pdfjs_require__(o){var s=__webpack_module_cache__[o];if(s!==void 0)return s.exports;var c=__webpack_module_cache__[o]={exports:{}};return __webpack_modules__[o](c,c.exports,__w_pdfjs_require__),c.exports}var __webpack_exports__={};return(()=>{var o=__webpack_exports__;Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(o,"AnnotationEditorLayer",{enumerable:!0,get:function(){return P.AnnotationEditorLayer}}),Object.defineProperty(o,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(o,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(o,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return O.AnnotationEditorUIManager}}),Object.defineProperty(o,"AnnotationLayer",{enumerable:!0,get:function(){return G.AnnotationLayer}}),Object.defineProperty(o,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(o,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(o,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(o,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(o,"GlobalWorkerOptions",{enumerable:!0,get:function(){return S.GlobalWorkerOptions}}),Object.defineProperty(o,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(o,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(o,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(o,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(o,"PDFDataRangeTransport",{enumerable:!0,get:function(){return c.PDFDataRangeTransport}}),Object.defineProperty(o,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(o,"PDFWorker",{enumerable:!0,get:function(){return c.PDFWorker}}),Object.defineProperty(o,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(o,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(o,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(o,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(o,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(o,"SVGGraphics",{enumerable:!0,get:function(){return c.SVGGraphics}}),Object.defineProperty(o,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(o,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(o,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(o,"XfaLayer",{enumerable:!0,get:function(){return w.XfaLayer}}),Object.defineProperty(o,"build",{enumerable:!0,get:function(){return c.build}}),Object.defineProperty(o,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(o,"getDocument",{enumerable:!0,get:function(){return c.getDocument}}),Object.defineProperty(o,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(o,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(o,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(o,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(o,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(o,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(o,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(o,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(o,"renderTextLayer",{enumerable:!0,get:function(){return u.renderTextLayer}}),Object.defineProperty(o,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(o,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(o,"updateTextLayer",{enumerable:!0,get:function(){return u.updateTextLayer}}),Object.defineProperty(o,"version",{enumerable:!0,get:function(){return c.version}});var s=__w_pdfjs_require__(1),c=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),u=__w_pdfjs_require__(26),P=__w_pdfjs_require__(27),O=__w_pdfjs_require__(5),G=__w_pdfjs_require__(29),S=__w_pdfjs_require__(14),w=__w_pdfjs_require__(32)})(),__webpack_exports__})())}(pdf$1)),pdf$1.exports}var pdfExports=requirePdf();const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule;var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=o,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var o=requireReactPropTypesSecret();function s(){}function c(){}return c.resetWarningCache=s,factoryWithThrowingShims=function(){function a(O,G,S,w,g,N){if(N!==o){var F=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}}a.isRequired=a;function u(){return a}var P={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:u,element:a,elementType:a,instanceOf:u,node:a,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:c,resetWarningCache:s};return P.PropTypes=P,P},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(o,s,c){if(c||arguments.length===2)for(var a=0,u=s.length,P;a<u;a++)(P||!(a in s))&&(P||(P=Array.prototype.slice.call(s,0,a)),P[a]=s[a]);return o.concat(P||Array.prototype.slice.call(s))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(o,s){var c={};return allEvents.forEach(function(a){var u=o[a];u&&(s?c[a]=function(P){return u(P,s(a))}:c[a]=u)}),c}function makeCancellablePromise(o){var s=!1,c=new Promise(function(a,u){o.then(function(P){return!s&&a(P)}).catch(function(P){return!s&&u(P)})});return{promise:c,cancel:function(){s=!0}}}function r(o){var s,c,a="";if(typeof o=="string"||typeof o=="number")a+=o;else if(typeof o=="object")if(Array.isArray(o)){var u=o.length;for(s=0;s<u;s++)o[s]&&(c=r(o[s]))&&(a&&(a+=" "),a+=c)}else for(c in o)o[c]&&(a&&(a+=" "),a+=c);return a}function clsx(){for(var o,s,c=0,a="",u=arguments.length;c<u;c++)(o=arguments[c])&&(s=r(o))&&(a&&(a+=" "),a+=s);return a}var prefix="Invariant failed";function invariant$1(o,s){if(!o)throw new Error(prefix)}var warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var o=function(){};return warning_1=o,warning_1}var warningExports=requireWarning();const warning$1=getDefaultExportFromCjs(warningExports);var has=Object.prototype.hasOwnProperty;function find(o,s,c){for(c of o.keys())if(dequal(c,s))return c}function dequal(o,s){var c,a,u;if(o===s)return!0;if(o&&s&&(c=o.constructor)===s.constructor){if(c===Date)return o.getTime()===s.getTime();if(c===RegExp)return o.toString()===s.toString();if(c===Array){if((a=o.length)===s.length)for(;a--&&dequal(o[a],s[a]););return a===-1}if(c===Set){if(o.size!==s.size)return!1;for(a of o)if(u=a,u&&typeof u=="object"&&(u=find(s,u),!u)||!s.has(u))return!1;return!0}if(c===Map){if(o.size!==s.size)return!1;for(a of o)if(u=a[0],u&&typeof u=="object"&&(u=find(s,u),!u)||!dequal(a[1],s.get(u)))return!1;return!0}if(c===ArrayBuffer)o=new Uint8Array(o),s=new Uint8Array(s);else if(c===DataView){if((a=o.byteLength)===s.byteLength)for(;a--&&o.getInt8(a)===s.getInt8(a););return a===-1}if(ArrayBuffer.isView(o)){if((a=o.byteLength)===s.byteLength)for(;a--&&o[a]===s[a];);return a===-1}if(!c||typeof o=="object"){a=0;for(c in o)if(has.call(o,c)&&++a&&!has.call(s,c)||!(c in s)||!dequal(o[c],s[c]))return!1;return Object.keys(s).length===a}}return o!==o&&s!==s}const DocumentContext=reactExports.createContext(null);function Message({children:o,type:s}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${s}`},o)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(s){this.pdfDocument=s}setViewer(s){this.pdfViewer=s}setExternalLinkRel(s){this.externalLinkRel=s}setExternalLinkTarget(s){this.externalLinkTarget=s}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant$1(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(s){invariant$1(this.pdfViewer),this.pdfViewer.currentPageNumber=s}get rotation(){return 0}set rotation(s){}goToDestination(s){return new Promise(c=>{invariant$1(this.pdfDocument),invariant$1(s),typeof s=="string"?this.pdfDocument.getDestination(s).then(c):Array.isArray(s)?c(s):s.then(c)}).then(c=>{invariant$1(Array.isArray(c));const a=c[0];new Promise(u=>{invariant$1(this.pdfDocument),a instanceof Object?this.pdfDocument.getPageIndex(a).then(P=>{u(P)}).catch(()=>{invariant$1(!1)}):typeof a=="number"?u(a):invariant$1(!1)}).then(u=>{const P=u+1;invariant$1(this.pdfViewer),invariant$1(P>=1&&P<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:c,pageIndex:u,pageNumber:P})})})}navigateTo(s){this.goToDestination(s)}goToPage(s){const c=s-1;invariant$1(this.pdfViewer),invariant$1(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:c,pageNumber:s})}addLinkAttributes(s,c,a){s.href=c,s.rel=this.externalLinkRel||DEFAULT_LINK_REL,s.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser$1=typeof document<"u",isLocalFileSystem=isBrowser$1&&window.location.protocol==="file:";function isDefined(o){return typeof o<"u"}function isProvided(o){return isDefined(o)&&o!==null}function isString(o){return typeof o=="string"}function isArrayBuffer(o){return o instanceof ArrayBuffer}function isBlob(o){return invariant$1(isBrowser$1),o instanceof Blob}function isDataURI(o){return isString(o)&&/^data:/.test(o)}function dataURItoByteString(o){invariant$1(isDataURI(o));const[s="",c=""]=o.split(",");return s.split(";").indexOf("base64")!==-1?atob(c):unescape(c)}function getDevicePixelRatio(){return isBrowser$1&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(o){o&&o.cancel&&o.cancel()}function makePageCallback(o,s){return Object.defineProperty(o,"width",{get(){return this.view[2]*s},configurable:!0}),Object.defineProperty(o,"height",{get(){return this.view[3]*s},configurable:!0}),Object.defineProperty(o,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(o,"originalHeight",{get(){return this.view[3]},configurable:!0}),o}function isCancelException(o){return o.name==="RenderingCancelledException"}function loadFromFile(o){return new Promise((s,c)=>{const a=new FileReader;a.onload=()=>{if(!a.result)return c(new Error("Error while reading a file."));s(a.result)},a.onerror=u=>{if(!u.target)return c(new Error("Error while reading a file."));const{error:P}=u.target;if(!P)return c(new Error("Error while reading a file."));switch(P.code){case P.NOT_FOUND_ERR:return c(new Error("Error while reading a file: File not found."));case P.SECURITY_ERR:return c(new Error("Error while reading a file: Security error."));case P.ABORT_ERR:return c(new Error("Error while reading a file: Aborted."));default:return c(new Error("Error while reading a file."))}},a.readAsArrayBuffer(o)})}function reducer(o,s){switch(s.type){case"RESOLVE":return{value:s.value,error:void 0};case"REJECT":return{value:!1,error:s.error};case"RESET":return{value:void 0,error:void 0};default:return o}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const o={};return allEvents.forEach(s=>{o[s]=PropTypes.func}),o})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function o(s,c,a){const{[c]:u,pageNumber:P,pdf:O}=s;if(!isDefined(O))return null;if(isDefined(u)){if(typeof u!="number")return new Error(`\`${c}\` of type \`${typeof u}\` supplied to \`${a}\`, expected \`number\`.`);if(u<0)return new Error(`Expected \`${c}\` to be greater or equal to 0.`);const{numPages:G}=O;if(u+1>G)return new Error(`Expected \`${c}\` to be less or equal to ${G-1}.`)}else if(!isDefined(P))return new Error(`\`${c}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null},isPageNumber=function o(s,c,a){const{[c]:u,pageIndex:P,pdf:O}=s;if(!isDefined(O))return null;if(isDefined(u)){if(typeof u!="number")return new Error(`\`${c}\` of type \`${typeof u}\` supplied to \`${a}\`, expected \`number\`.`);if(u<1)return new Error(`Expected \`${c}\` to be greater or equal to 1.`);const{numPages:G}=O;if(u>G)return new Error(`Expected \`${c}\` to be less or equal to ${G}.`)}else if(!isDefined(P))return new Error(`\`${c}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(o,s,c,a){function u(P){return P instanceof c?P:new c(function(O){O(P)})}return new(c||(c=Promise))(function(P,O){function G(g){try{w(a.next(g))}catch(N){O(N)}}function S(g){try{w(a.throw(g))}catch(N){O(N)}}function w(g){g.done?P(g.value):u(g.value).then(G,S)}w((a=a.apply(o,s||[])).next())})},__rest$1=function(o,s){var c={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&s.indexOf(a)<0&&(c[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(o);u<a.length;u++)s.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(o,a[u])&&(c[a[u]]=o[a[u]]);return c};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(o,s)=>{switch(s){case PasswordResponses.NEED_PASSWORD:{const c=prompt("Enter the password to open this PDF file.");o(c);break}case PasswordResponses.INCORRECT_PASSWORD:{const c=prompt("Invalid password. Please try again.");o(c);break}}};function isParameterObject(o){return typeof o=="object"&&o!==null&&("data"in o||"range"in o||"url"in o)}const Document=reactExports.forwardRef(function o(s,c){var{children:a,className:u,error:P="Failed to load PDF file.",externalLinkRel:O,externalLinkTarget:G,file:S,inputRef:w,imageResourcesPath:g,loading:N="Loading PDF",noData:F="No PDF file specified.",onItemClick:b,onLoadError:E,onLoadProgress:M,onLoadSuccess:v,onPassword:x=defaultOnPassword,onSourceError:L,onSourceSuccess:U,options:I,renderMode:y,rotate:R}=s,_=__rest$1(s,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[A,C]=useResolver(),{value:Y,error:m}=A,[k,H]=useResolver(),{value:te,error:ne}=k,oe=reactExports.useRef(new LinkService),ee=reactExports.useRef([]),re=reactExports.useRef(),z=reactExports.useRef();reactExports.useEffect(()=>{S&&S!==re.current&&isParameterObject(S)&&(warning$1(!dequal(S,re.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),re.current=S)},[S]),reactExports.useEffect(()=>{I&&I!==z.current&&(warning$1(!dequal(I,z.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),z.current=I)},[I]);const K=reactExports.useRef({scrollPageIntoView:ue=>{const{dest:de,pageNumber:$,pageIndex:Q=$-1}=ue;if(b){b({dest:de,pageIndex:Q,pageNumber:$});return}const le=ee.current[Q];if(le){le.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${$} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(c,()=>({linkService:oe,pages:ee,viewer:K}),[]);function B(){U&&U()}function T(){m&&(warning$1(!1,m.toString()),L&&L(m))}function f(){C({type:"RESET"})}reactExports.useEffect(f,[S,C]);const p=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!S)return null;if(typeof S=="string")return isDataURI(S)?{data:dataURItoByteString(S)}:(displayCORSWarning(),{url:S});if(S instanceof PDFDataRangeTransport)return{range:S};if(isArrayBuffer(S))return{data:S};if(isBrowser$1&&isBlob(S))return{data:yield loadFromFile(S)};if(invariant$1(typeof S=="object"),invariant$1(isParameterObject(S)),"url"in S&&typeof S.url=="string"){if(isDataURI(S.url)){const{url:ue}=S,de=__rest$1(S,["url"]),$=dataURItoByteString(ue);return Object.assign({data:$},de)}displayCORSWarning()}return S}),[S]);reactExports.useEffect(()=>{const ue=makeCancellablePromise(p());return ue.promise.then(de=>{C({type:"RESOLVE",value:de})}).catch(de=>{C({type:"REJECT",error:de})}),()=>{cancelRunningTask(ue)}},[p,C]),reactExports.useEffect(()=>{if(!(typeof Y>"u")){if(Y===!1){T();return}B()}},[Y]);function D(){te&&(v&&v(te),ee.current=new Array(te.numPages),oe.current.setDocument(te))}function W(){ne&&(warning$1(!1,ne.toString()),E&&E(ne))}function q(){H({type:"RESET"})}reactExports.useEffect(q,[H,Y]);function X(){if(!Y)return;const ue=Object.assign(Object.assign({},I),{isEvalSupported:!1}),de=Object.assign(Object.assign({},Y),ue),$=pdfjs.getDocument(de);M&&($.onProgress=M),x&&($.onPassword=x);const Q=$;return Q.promise.then(le=>{H({type:"RESOLVE",value:le})}).catch(le=>{Q.destroyed||H({type:"REJECT",error:le})}),()=>{Q.destroy()}}reactExports.useEffect(X,[I,H,Y]),reactExports.useEffect(()=>{if(!(typeof te>"u")){if(te===!1){W();return}D()}},[te]);function se(){oe.current.setViewer(K.current),oe.current.setExternalLinkRel(O),oe.current.setExternalLinkTarget(G)}reactExports.useEffect(se,[O,G]);function pe(ue,de){ee.current[ue]=de}function _e(ue){delete ee.current[ue]}const Ae=reactExports.useMemo(()=>({imageResourcesPath:g,linkService:oe.current,onItemClick:b,pdf:te,registerPage:pe,renderMode:y,rotate:R,unregisterPage:_e}),[g,b,te,y,R]),ke=reactExports.useMemo(()=>makeEventProps(_,()=>te),[_,te]);function Te(){return React.createElement(DocumentContext.Provider,{value:Ae},a)}function Le(){return S?te==null?React.createElement(Message,{type:"loading"},typeof N=="function"?N():N):te===!1?React.createElement(Message,{type:"error"},typeof P=="function"?P():P):Te():React.createElement(Message,{type:"no-data"},typeof F=="function"?F():F)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",u),ref:w,style:{"--scale-factor":"1"}},ke),Le())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs$1(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var c=o.filter(Boolean);if(c.length<=1){var a=c[0];return a||null}return function(P){c.forEach(function(O){typeof O=="function"?O(P):O&&(O.current=P)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(o){return o in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(o){return"children"in o}function isStructTreeNodeWithOnlyContentChild(o){return isStructTreeNode(o)?o.children.length===1&&0 in o.children&&"id"in o.children[0]:!1}function getRoleAttributes(o){const s={};if(isStructTreeNode(o)){const{role:c}=o,a=c.match(HEADING_PATTERN);if(a)s.role="heading",s["aria-level"]=Number(a[1]);else if(isPdfRole(c)){const u=PDF_ROLE_TO_HTML_ROLE[c];u&&(s.role=u)}}return s}function getBaseAttributes(o){const s={};if(isStructTreeNode(o)){if(o.alt!==void 0&&(s["aria-label"]=o.alt),o.lang!==void 0&&(s.lang=o.lang),isStructTreeNodeWithOnlyContentChild(o)){const[c]=o.children;if(c){const a=getBaseAttributes(c);return Object.assign(Object.assign({},s),a)}}}else"id"in o&&(s["aria-owns"]=o.id);return s}function getAttributes(o){return o?Object.assign(Object.assign({},getRoleAttributes(o)),getBaseAttributes(o)):null}function StructTreeItem({className:o,node:s}){const c=reactExports.useMemo(()=>getAttributes(s),[s]),a=reactExports.useMemo(()=>!isStructTreeNode(s)||isStructTreeNodeWithOnlyContentChild(s)?null:s.children.map((u,P)=>React.createElement(StructTreeItem,{key:P,node:u})),[s]);return React.createElement("span",Object.assign({className:o},c),a)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const o=usePageContext();invariant$1(o);const{onGetStructTreeError:s,onGetStructTreeSuccess:c}=o,[a,u]=useResolver(),{value:P,error:O}=a,{customTextRenderer:G,page:S}=o;function w(){P&&c&&c(P)}function g(){O&&(warning$1(!1,O.toString()),s&&s(O))}function N(){u({type:"RESET"})}reactExports.useEffect(N,[u,S]);function F(){if(G||!S)return;const b=makeCancellablePromise(S.getStructTree()),E=b;return b.promise.then(M=>{u({type:"RESOLVE",value:M})}).catch(M=>{u({type:"REJECT",error:M})}),()=>cancelRunningTask(E)}return reactExports.useEffect(F,[G,S,u]),reactExports.useEffect(()=>{if(P!==void 0){if(P===!1){g();return}w()}},[P]),P?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:P}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(o){const s=usePageContext();invariant$1(s);const c=Object.assign(Object.assign({},s),o),{_className:a,canvasBackground:u,devicePixelRatio:P=getDevicePixelRatio(),onRenderError:O,onRenderSuccess:G,page:S,renderForms:w,renderTextLayer:g,rotate:N,scale:F}=c,{canvasRef:b}=o;invariant$1(S);const E=reactExports.useRef(null);function M(){S&&G&&G(makePageCallback(S,F))}function v(y){isCancelException(y)||(warning$1(!1,y.toString()),O&&O(y))}const x=reactExports.useMemo(()=>S.getViewport({scale:F*P,rotation:N}),[P,S,N,F]),L=reactExports.useMemo(()=>S.getViewport({scale:F,rotation:N}),[S,N,F]);function U(){if(!S)return;S.cleanup();const{current:y}=E;if(!y)return;y.width=x.width,y.height=x.height,y.style.width=`${Math.floor(L.width)}px`,y.style.height=`${Math.floor(L.height)}px`,y.style.visibility="hidden";const R={annotationMode:w?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:y.getContext("2d",{alpha:!1}),viewport:x};u&&(R.background=u);const _=S.render(R),A=_;return _.promise.then(()=>{y.style.visibility="",M()}).catch(v),()=>cancelRunningTask(A)}reactExports.useEffect(U,[u,E,P,S,w,x,L]);const I=reactExports.useCallback(()=>{const{current:y}=E;y&&(y.width=0,y.height=0)},[E]);return reactExports.useEffect(()=>I,[I]),React.createElement("canvas",{className:`${a}__canvas`,dir:"ltr",ref:mergeRefs$1(b,E),style:{display:"block",userSelect:"none"}},g?React.createElement(StructTree,null):null)}function PageSVG(){const o=usePageContext();invariant$1(o);const{_className:s,onRenderSuccess:c,onRenderError:a,page:u,rotate:P,scale:O}=o;invariant$1(u);const[G,S]=useResolver(),{value:w,error:g}=G;function N(){u&&c&&c(makePageCallback(u,O))}function F(){g&&(isCancelException(g)||(warning$1(!1,g.toString()),a&&a(g)))}const b=reactExports.useMemo(()=>u.getViewport({scale:O,rotation:P}),[u,P,O]);function E(){S({type:"RESET"})}reactExports.useEffect(E,[u,S,b]);function M(){if(!u)return;const U=makeCancellablePromise(u.getOperatorList());return U.promise.then(I=>{new pdfjs.SVGGraphics(u.commonObjs,u.objs).getSVG(I,b).then(R=>{if(!(R instanceof SVGElement))throw new Error("getSVG returned unexpected result.");S({type:"RESOLVE",value:R})}).catch(R=>{S({type:"REJECT",error:R})})}).catch(I=>{S({type:"REJECT",error:I})}),()=>cancelRunningTask(U)}reactExports.useEffect(M,[u,S,b]),reactExports.useEffect(()=>{if(w!==void 0){if(w===!1){F();return}N()}},[w]);function v(U){if(!U||!w)return;U.firstElementChild||U.appendChild(w);const{width:I,height:y}=b;w.setAttribute("width",`${I}`),w.setAttribute("height",`${y}`)}const{width:x,height:L}=b;return React.createElement("div",{className:`${s}__svg`,ref:U=>v(U),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:x,height:L,userSelect:"none"}})}function isTextItem(o){return"str"in o}function TextLayer(){const o=usePageContext();invariant$1(o);const{customTextRenderer:s,onGetTextError:c,onGetTextSuccess:a,onRenderTextLayerError:u,onRenderTextLayerSuccess:P,page:O,pageIndex:G,pageNumber:S,rotate:w,scale:g}=o;invariant$1(O);const[N,F]=useResolver(),{value:b,error:E}=N,M=reactExports.useRef(null),v=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function x(){b&&a&&a(b)}function L(){E&&(warning$1(!1,E.toString()),c&&c(E))}function U(){F({type:"RESET"})}reactExports.useEffect(U,[O,F]);function I(){if(!O)return;const m=makeCancellablePromise(O.getTextContent()),k=m;return m.promise.then(H=>{F({type:"RESOLVE",value:H})}).catch(H=>{F({type:"REJECT",error:H})}),()=>cancelRunningTask(k)}reactExports.useEffect(I,[O,F]),reactExports.useEffect(()=>{if(b!==void 0){if(b===!1){L();return}x()}},[b]);const y=reactExports.useCallback(()=>{P&&P()},[P]),R=reactExports.useCallback(m=>{warning$1(!1,m.toString()),u&&u(m)},[u]);function _(){const m=v.current;m&&m.classList.add("active")}function A(){const m=v.current;m&&m.classList.remove("active")}const C=reactExports.useMemo(()=>O.getViewport({scale:g,rotation:w}),[O,w,g]);function Y(){if(!O||!b)return;const{current:m}=M;if(!m)return;m.innerHTML="";const k=O.streamTextContent({includeMarkedContent:!0}),H={container:m,textContentSource:k,viewport:C},te=pdfjs.renderTextLayer(H),ne=te;return te.promise.then(()=>{const oe=document.createElement("div");oe.className="endOfContent",m.append(oe),v.current=oe;const ee=m.querySelectorAll('[role="presentation"]');if(s){let re=0;b.items.forEach((z,K)=>{if(!isTextItem(z))return;const B=ee[re];if(!B)return;const T=s(Object.assign({pageIndex:G,pageNumber:S,itemIndex:K},z));B.innerHTML=T,re+=z.str&&z.hasEOL?2:1})}y()}).catch(R),()=>cancelRunningTask(ne)}return reactExports.useLayoutEffect(Y,[s,R,y,O,G,S,b,C]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:A,onMouseDown:_,ref:M})}function AnnotationLayer(){const o=useDocumentContext(),s=usePageContext();invariant$1(s);const c=Object.assign(Object.assign({},o),s),{imageResourcesPath:a,linkService:u,onGetAnnotationsError:P,onGetAnnotationsSuccess:O,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:S,page:w,pdf:g,renderForms:N,rotate:F,scale:b=1}=c;invariant$1(g),invariant$1(w),invariant$1(u);const[E,M]=useResolver(),{value:v,error:x}=E,L=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function U(){v&&O&&O(v)}function I(){x&&(warning$1(!1,x.toString()),P&&P(x))}function y(){M({type:"RESET"})}reactExports.useEffect(y,[M,w]);function R(){if(!w)return;const m=makeCancellablePromise(w.getAnnotations()),k=m;return m.promise.then(H=>{M({type:"RESOLVE",value:H})}).catch(H=>{M({type:"REJECT",error:H})}),()=>{cancelRunningTask(k)}}reactExports.useEffect(R,[M,w,N]),reactExports.useEffect(()=>{if(v!==void 0){if(v===!1){I();return}U()}},[v]);function _(){S&&S()}function A(m){warning$1(!1,`${m}`),G&&G(m)}const C=reactExports.useMemo(()=>w.getViewport({scale:b,rotation:F}),[w,F,b]);function Y(){if(!g||!w||!u||!v)return;const{current:m}=L;if(!m)return;const k=C.clone({dontFlip:!0}),H={accessibilityManager:null,annotationCanvasMap:null,div:m,l10n:null,page:w,viewport:k},te={annotations:v,annotationStorage:g.annotationStorage,div:m,downloadManager:null,imageResourcesPath:a,linkService:u,page:w,renderForms:N,viewport:k};m.innerHTML="";try{new pdfjs.AnnotationLayer(H).render(te),_()}catch(ne){A(ne)}return()=>{}}return reactExports.useEffect(Y,[v,a,u,w,N,C]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:L})}var __rest=function(o,s){var c={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&s.indexOf(a)<0&&(c[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(o);u<a.length;u++)s.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(o,a[u])&&(c[a[u]]=o[a[u]]);return c};const defaultScale=1,Page=function o(s){const c=useDocumentContext(),a=Object.assign(Object.assign({},c),s),{_className:u="react-pdf__Page",_enableRegisterUnregisterPage:P=!0,canvasBackground:O,canvasRef:G,children:S,className:w,customRenderer:g,customTextRenderer:N,devicePixelRatio:F,error:b="Failed to load the page.",height:E,inputRef:M,loading:v="Loading page",noData:x="No page specified.",onGetAnnotationsError:L,onGetAnnotationsSuccess:U,onGetStructTreeError:I,onGetStructTreeSuccess:y,onGetTextError:R,onGetTextSuccess:_,onLoadError:A,onLoadSuccess:C,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:m,onRenderError:k,onRenderSuccess:H,onRenderTextLayerError:te,onRenderTextLayerSuccess:ne,pageIndex:oe,pageNumber:ee,pdf:re,registerPage:z,renderAnnotationLayer:K=!0,renderForms:B=!1,renderMode:T="canvas",renderTextLayer:f=!0,rotate:p,scale:D=defaultScale,unregisterPage:W,width:q}=a,X=__rest(a,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[se,pe]=useResolver(),{value:_e,error:Ae}=se,ke=reactExports.useRef(null);invariant$1(re);const Te=isProvided(ee)?ee-1:oe??null,Le=ee??(isProvided(oe)?oe+1:null),ue=p??(_e?_e.rotate:null),de=reactExports.useMemo(()=>{if(!_e)return null;let Ze=1;const ft=D??defaultScale;if(q||E){const vt=_e.getViewport({scale:1,rotation:ue});q?Ze=q/vt.width:E&&(Ze=E/vt.height)}return ft*Ze},[E,_e,ue,D,q]);function $(){return()=>{isProvided(Te)&&P&&W&&W(Te)}}reactExports.useEffect($,[P,re,Te,W]);function Q(){if(C){if(!_e||!de)return;C(makePageCallback(_e,de))}if(P&&z){if(!isProvided(Te)||!ke.current)return;z(Te,ke.current)}}function le(){Ae&&(warning$1(!1,Ae.toString()),A&&A(Ae))}function me(){pe({type:"RESET"})}reactExports.useEffect(me,[pe,re,Te]);function Ce(){if(!re||!Le)return;const Ze=makeCancellablePromise(re.getPage(Le)),ft=Ze;return Ze.promise.then(vt=>{pe({type:"RESOLVE",value:vt})}).catch(vt=>{pe({type:"REJECT",error:vt})}),()=>cancelRunningTask(ft)}reactExports.useEffect(Ce,[pe,re,Te,Le,z]),reactExports.useEffect(()=>{if(_e!==void 0){if(_e===!1){le();return}Q()}},[_e,de]);const Ie=reactExports.useMemo(()=>_e&&isProvided(Te)&&Le&&isProvided(ue)&&isProvided(de)?{_className:u,canvasBackground:O,customTextRenderer:N,devicePixelRatio:F,onGetAnnotationsError:L,onGetAnnotationsSuccess:U,onGetStructTreeError:I,onGetStructTreeSuccess:y,onGetTextError:R,onGetTextSuccess:_,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:m,onRenderError:k,onRenderSuccess:H,onRenderTextLayerError:te,onRenderTextLayerSuccess:ne,page:_e,pageIndex:Te,pageNumber:Le,renderForms:B,renderTextLayer:f,rotate:ue,scale:de}:null,[u,O,N,F,L,U,I,y,R,_,Y,m,k,H,te,ne,_e,Te,Le,B,f,ue,de]),De=reactExports.useMemo(()=>makeEventProps(X,()=>_e&&(de?makePageCallback(_e,de):void 0)),[X,_e,de]),he=`${Te}@${de}/${ue}`,Be=`${Te}/${ue}`;function je(){switch(T){case"custom":return invariant$1(g),React.createElement(g,{key:`${he}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${Be}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${he}_canvas`,canvasRef:G})}}function at(){return f?React.createElement(TextLayer,{key:`${he}_text`}):null}function rt(){return K?React.createElement(AnnotationLayer,{key:`${he}_annotations`}):null}function ht(){return React.createElement(PageContext.Provider,{value:Ie},je(),at(),rt(),S)}function qe(){return Le?re===null||_e===void 0||_e===null?React.createElement(Message,{type:"loading"},typeof v=="function"?v():v):re===!1||_e===!1?React.createElement(Message,{type:"error"},typeof b=="function"?b():b):ht():React.createElement(Message,{type:"no-data"},typeof x=="function"?x():x)}return React.createElement("div",Object.assign({className:clsx(u,w),"data-page-number":Le,ref:mergeRefs$1(M,ke),style:{"--scale-factor":`${de}`,backgroundColor:O||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},De),qe())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";var dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=O,dist.serialize=w;const o=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,s=/^[\u0021-\u003A\u003C-\u007E]*$/,c=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,P=(()=>{const F=function(){};return F.prototype=Object.create(null),F})();function O(F,b){const E=new P,M=F.length;if(M<2)return E;const v=(b==null?void 0:b.decode)||g;let x=0;do{const L=F.indexOf("=",x);if(L===-1)break;const U=F.indexOf(";",x),I=U===-1?M:U;if(L>I){x=F.lastIndexOf(";",L-1)+1;continue}const y=G(F,x,L),R=S(F,L,y),_=F.slice(y,R);if(E[_]===void 0){let A=G(F,L+1,I),C=S(F,I,A);const Y=v(F.slice(A,C));E[_]=Y}x=I+1}while(x<M);return E}function G(F,b,E){do{const M=F.charCodeAt(b);if(M!==32&&M!==9)return b}while(++b<E);return E}function S(F,b,E){for(;b>E;){const M=F.charCodeAt(--b);if(M!==32&&M!==9)return b+1}return E}function w(F,b,E){const M=(E==null?void 0:E.encode)||encodeURIComponent;if(!o.test(F))throw new TypeError(`argument name is invalid: ${F}`);const v=M(b);if(!s.test(v))throw new TypeError(`argument val is invalid: ${b}`);let x=F+"="+v;if(!E)return x;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);x+="; Max-Age="+E.maxAge}if(E.domain){if(!c.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);x+="; Domain="+E.domain}if(E.path){if(!a.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);x+="; Path="+E.path}if(E.expires){if(!N(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);x+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(x+="; HttpOnly"),E.secure&&(x+="; Secure"),E.partitioned&&(x+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return x}function g(F){if(F.indexOf("%")===-1)return F;try{return decodeURIComponent(F)}catch{return F}}function N(F){return u.call(F)==="[object Date]"}return dist}requireDist();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(o={}){function s(a,u){let{pathname:P,search:O,hash:G}=a.location;return createLocation("",{pathname:P,search:O,hash:G},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function c(a,u){return typeof u=="string"?u:createPath(u)}return getUrlBasedHistory(s,c,null,o)}function invariant(o,s){if(o===!1||o===null||typeof o>"u")throw new Error(s)}function warning(o,s){if(!o){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(o,s){return{usr:o.state,key:o.key,idx:s}}function createLocation(o,s,c=null,a){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof s=="string"?parsePath(s):s,state:c,key:s&&s.key||a||createKey()}}function createPath({pathname:o="/",search:s="",hash:c=""}){return s&&s!=="?"&&(o+=s.charAt(0)==="?"?s:"?"+s),c&&c!=="#"&&(o+=c.charAt(0)==="#"?c:"#"+c),o}function parsePath(o){let s={};if(o){let c=o.indexOf("#");c>=0&&(s.hash=o.substring(c),o=o.substring(0,c));let a=o.indexOf("?");a>=0&&(s.search=o.substring(a),o=o.substring(0,a)),o&&(s.pathname=o)}return s}function getUrlBasedHistory(o,s,c,a={}){let{window:u=document.defaultView,v5Compat:P=!1}=a,O=u.history,G="POP",S=null,w=g();w==null&&(w=0,O.replaceState({...O.state,idx:w},""));function g(){return(O.state||{idx:null}).idx}function N(){G="POP";let v=g(),x=v==null?null:v-w;w=v,S&&S({action:G,location:M.location,delta:x})}function F(v,x){G="PUSH";let L=createLocation(M.location,v,x);w=g()+1;let U=getHistoryState(L,w),I=M.createHref(L);try{O.pushState(U,"",I)}catch(y){if(y instanceof DOMException&&y.name==="DataCloneError")throw y;u.location.assign(I)}P&&S&&S({action:G,location:M.location,delta:1})}function b(v,x){G="REPLACE";let L=createLocation(M.location,v,x);w=g();let U=getHistoryState(L,w),I=M.createHref(L);O.replaceState(U,"",I),P&&S&&S({action:G,location:M.location,delta:0})}function E(v){let x=u.location.origin!=="null"?u.location.origin:u.location.href,L=typeof v=="string"?v:createPath(v);return L=L.replace(/ $/,"%20"),invariant(x,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,x)}let M={get action(){return G},get location(){return o(u,O)},listen(v){if(S)throw new Error("A history only accepts one active listener");return u.addEventListener(PopStateEventType,N),S=v,()=>{u.removeEventListener(PopStateEventType,N),S=null}},createHref(v){return s(u,v)},createURL:E,encodeLocation(v){let x=E(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:F,replace:b,go(v){return O.go(v)}};return M}function matchRoutes(o,s,c="/"){return matchRoutesImpl(o,s,c,!1)}function matchRoutesImpl(o,s,c,a){let u=typeof s=="string"?parsePath(s):s,P=stripBasename(u.pathname||"/",c);if(P==null)return null;let O=flattenRoutes(o);rankRouteBranches(O);let G=null;for(let S=0;G==null&&S<O.length;++S){let w=decodePath(P);G=matchRouteBranch(O[S],w,a)}return G}function flattenRoutes(o,s=[],c=[],a=""){let u=(P,O,G)=>{let S={relativePath:G===void 0?P.path||"":G,caseSensitive:P.caseSensitive===!0,childrenIndex:O,route:P};S.relativePath.startsWith("/")&&(invariant(S.relativePath.startsWith(a),`Absolute route path "${S.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(a.length));let w=joinPaths([a,S.relativePath]),g=c.concat(S);P.children&&P.children.length>0&&(invariant(P.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),flattenRoutes(P.children,s,g,w)),!(P.path==null&&!P.index)&&s.push({path:w,score:computeScore(w,P.index),routesMeta:g})};return o.forEach((P,O)=>{var G;if(P.path===""||!((G=P.path)!=null&&G.includes("?")))u(P,O);else for(let S of explodeOptionalSegments(P.path))u(P,O,S)}),s}function explodeOptionalSegments(o){let s=o.split("/");if(s.length===0)return[];let[c,...a]=s,u=c.endsWith("?"),P=c.replace(/\?$/,"");if(a.length===0)return u?[P,""]:[P];let O=explodeOptionalSegments(a.join("/")),G=[];return G.push(...O.map(S=>S===""?P:[P,S].join("/"))),u&&G.push(...O),G.map(S=>o.startsWith("/")&&S===""?"/":S)}function rankRouteBranches(o){o.sort((s,c)=>s.score!==c.score?c.score-s.score:compareIndexes(s.routesMeta.map(a=>a.childrenIndex),c.routesMeta.map(a=>a.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=o=>o==="*";function computeScore(o,s){let c=o.split("/"),a=c.length;return c.some(isSplat)&&(a+=splatPenalty),s&&(a+=indexRouteValue),c.filter(u=>!isSplat(u)).reduce((u,P)=>u+(paramRe.test(P)?dynamicSegmentValue:P===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(o,s){return o.length===s.length&&o.slice(0,-1).every((a,u)=>a===s[u])?o[o.length-1]-s[s.length-1]:0}function matchRouteBranch(o,s,c=!1){let{routesMeta:a}=o,u={},P="/",O=[];for(let G=0;G<a.length;++G){let S=a[G],w=G===a.length-1,g=P==="/"?s:s.slice(P.length)||"/",N=matchPath({path:S.relativePath,caseSensitive:S.caseSensitive,end:w},g),F=S.route;if(!N&&w&&c&&!a[a.length-1].route.index&&(N=matchPath({path:S.relativePath,caseSensitive:S.caseSensitive,end:!1},g)),!N)return null;Object.assign(u,N.params),O.push({params:u,pathname:joinPaths([P,N.pathname]),pathnameBase:normalizePathname(joinPaths([P,N.pathnameBase])),route:F}),N.pathnameBase!=="/"&&(P=joinPaths([P,N.pathnameBase]))}return O}function matchPath(o,s){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[c,a]=compilePath(o.path,o.caseSensitive,o.end),u=s.match(c);if(!u)return null;let P=u[0],O=P.replace(/(.)\/+$/,"$1"),G=u.slice(1);return{params:a.reduce((w,{paramName:g,isOptional:N},F)=>{if(g==="*"){let E=G[F]||"";O=P.slice(0,P.length-E.length).replace(/(.)\/+$/,"$1")}const b=G[F];return N&&!b?w[g]=void 0:w[g]=(b||"").replace(/%2F/g,"/"),w},{}),pathname:P,pathnameBase:O,pattern:o}}function compilePath(o,s=!1,c=!0){warning(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let a=[],u="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(O,G,S)=>(a.push({paramName:G,isOptional:S!=null}),S?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(a.push({paramName:"*"}),u+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?u+="\\/*$":o!==""&&o!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,s?void 0:"i"),a]}function decodePath(o){try{return o.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),o}}function stripBasename(o,s){if(s==="/")return o;if(!o.toLowerCase().startsWith(s.toLowerCase()))return null;let c=s.endsWith("/")?s.length-1:s.length,a=o.charAt(c);return a&&a!=="/"?null:o.slice(c)||"/"}function resolvePath(o,s="/"){let{pathname:c,search:a="",hash:u=""}=typeof o=="string"?parsePath(o):o;return{pathname:c?c.startsWith("/")?c:resolvePathname(c,s):s,search:normalizeSearch(a),hash:normalizeHash(u)}}function resolvePathname(o,s){let c=s.replace(/\/+$/,"").split("/");return o.split("/").forEach(u=>{u===".."?c.length>1&&c.pop():u!=="."&&c.push(u)}),c.length>1?c.join("/"):"/"}function getInvalidPathError(o,s,c,a){return`Cannot include a '${o}' character in a manually specified \`to.${s}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(o){return o.filter((s,c)=>c===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(o){let s=getPathContributingMatches(o);return s.map((c,a)=>a===s.length-1?c.pathname:c.pathnameBase)}function resolveTo(o,s,c,a=!1){let u;typeof o=="string"?u=parsePath(o):(u={...o},invariant(!u.pathname||!u.pathname.includes("?"),getInvalidPathError("?","pathname","search",u)),invariant(!u.pathname||!u.pathname.includes("#"),getInvalidPathError("#","pathname","hash",u)),invariant(!u.search||!u.search.includes("#"),getInvalidPathError("#","search","hash",u)));let P=o===""||u.pathname==="",O=P?"/":u.pathname,G;if(O==null)G=c;else{let N=s.length-1;if(!a&&O.startsWith("..")){let F=O.split("/");for(;F[0]==="..";)F.shift(),N-=1;u.pathname=F.join("/")}G=N>=0?s[N]:"/"}let S=resolvePath(u,G),w=O&&O!=="/"&&O.endsWith("/"),g=(P||O===".")&&c.endsWith("/");return!S.pathname.endsWith("/")&&(w||g)&&(S.pathname+="/"),S}var joinPaths=o=>o.join("/").replace(/\/\/+/g,"/"),normalizePathname=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,normalizeHash=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function isRouteErrorResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(o,{relative:s}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:a}=reactExports.useContext(NavigationContext),{hash:u,pathname:P,search:O}=useResolvedPath(o,{relative:s}),G=P;return c!=="/"&&(G=P==="/"?c:joinPaths([c,P])),a.createHref({pathname:G,search:O,hash:u})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(o){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(o)}function useNavigate(){let{isDataRoute:o}=reactExports.useContext(RouteContext);return o?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let o=reactExports.useContext(DataRouterContext),{basename:s,navigator:c}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:u}=useLocation(),P=JSON.stringify(getResolveToMatches(a)),O=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{O.current=!0}),reactExports.useCallback((S,w={})=>{if(warning(O.current,navigateEffectWarning),!O.current)return;if(typeof S=="number"){c.go(S);return}let g=resolveTo(S,JSON.parse(P),u,w.relative==="path");o==null&&s!=="/"&&(g.pathname=g.pathname==="/"?s:joinPaths([s,g.pathname])),(w.replace?c.replace:c.push)(g,w.state,w)},[s,c,P,u,o])}reactExports.createContext(null);function useResolvedPath(o,{relative:s}={}){let{matches:c}=reactExports.useContext(RouteContext),{pathname:a}=useLocation(),u=JSON.stringify(getResolveToMatches(c));return reactExports.useMemo(()=>resolveTo(o,JSON.parse(u),a,s==="path"),[o,u,a,s])}function useRoutes(o,s){return useRoutesImpl(o,s)}function useRoutesImpl(o,s,c,a){var L;invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:P}=reactExports.useContext(NavigationContext),{matches:O}=reactExports.useContext(RouteContext),G=O[O.length-1],S=G?G.params:{},w=G?G.pathname:"/",g=G?G.pathnameBase:"/",N=G&&G.route;{let U=N&&N.path||"";warningOnce(w,!N||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let F=useLocation(),b;if(s){let U=typeof s=="string"?parsePath(s):s;invariant(g==="/"||((L=U.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),b=U}else b=F;let E=b.pathname||"/",M=E;if(g!=="/"){let U=g.replace(/^\//,"").split("/");M="/"+E.replace(/^\//,"").split("/").slice(U.length).join("/")}let v=!P&&c&&c.matches&&c.matches.length>0?c.matches:matchRoutes(o,{pathname:M});warning(N||v!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),warning(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=_renderMatches(v&&v.map(U=>Object.assign({},U,{params:Object.assign({},S,U.params),pathname:joinPaths([g,u.encodeLocation?u.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:joinPaths([g,u.encodeLocation?u.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),O,c,a);return s&&x?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},x):x}function DefaultErrorComponent(){let o=useRouteError(),s=isRouteErrorResponse(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),c=o instanceof Error?o.stack:null,a="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:a},P={padding:"2px 4px",backgroundColor:a},O=null;return console.error("Error handled by React Router default ErrorBoundary:",o),O=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:P},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:P},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),c?reactExports.createElement("pre",{style:u},c):null,O)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,s){return s.location!==o.location||s.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:s.error,location:s.location,revalidation:o.revalidation||s.revalidation}}componentDidCatch(o,s){console.error("React Router caught the following error during render",o,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:o,match:s,children:c}){let a=reactExports.useContext(DataRouterContext);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:o},c)}function _renderMatches(o,s=[],c=null,a=null){if(o==null){if(!c)return null;if(c.errors)o=c.matches;else if(s.length===0&&!c.initialized&&c.matches.length>0)o=c.matches;else return null}let u=o,P=c==null?void 0:c.errors;if(P!=null){let S=u.findIndex(w=>w.route.id&&(P==null?void 0:P[w.route.id])!==void 0);invariant(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(P).join(",")}`),u=u.slice(0,Math.min(u.length,S+1))}let O=!1,G=-1;if(c)for(let S=0;S<u.length;S++){let w=u[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(G=S),w.route.id){let{loaderData:g,errors:N}=c,F=w.route.loader&&!g.hasOwnProperty(w.route.id)&&(!N||N[w.route.id]===void 0);if(w.route.lazy||F){O=!0,G>=0?u=u.slice(0,G+1):u=[u[0]];break}}}return u.reduceRight((S,w,g)=>{let N,F=!1,b=null,E=null;c&&(N=P&&w.route.id?P[w.route.id]:void 0,b=w.route.errorElement||defaultErrorElement,O&&(G<0&&g===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,E=null):G===g&&(F=!0,E=w.route.hydrateFallbackElement||null)));let M=s.concat(u.slice(0,g+1)),v=()=>{let x;return N?x=b:F?x=E:w.route.Component?x=reactExports.createElement(w.route.Component,null):w.route.element?x=w.route.element:x=S,reactExports.createElement(RenderedRoute,{match:w,routeContext:{outlet:S,matches:M,isDataRoute:c!=null},children:x})};return c&&(w.route.ErrorBoundary||w.route.errorElement||g===0)?reactExports.createElement(RenderErrorBoundary,{location:c.location,revalidation:c.revalidation,component:b,error:N,children:v(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):v()},null)}function getDataRouterConsoleError(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(o){let s=reactExports.useContext(DataRouterContext);return invariant(s,getDataRouterConsoleError(o)),s}function useDataRouterState(o){let s=reactExports.useContext(DataRouterStateContext);return invariant(s,getDataRouterConsoleError(o)),s}function useRouteContext(o){let s=reactExports.useContext(RouteContext);return invariant(s,getDataRouterConsoleError(o)),s}function useCurrentRouteId(o){let s=useRouteContext(o),c=s.matches[s.matches.length-1];return invariant(c.route.id,`${o} can only be used on routes that contain a unique "id"`),c.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var a;let o=reactExports.useContext(RouteErrorContext),s=useDataRouterState("useRouteError"),c=useCurrentRouteId("useRouteError");return o!==void 0?o:(a=s.errors)==null?void 0:a[c]}function useNavigateStable(){let{router:o}=useDataRouterContext("useNavigate"),s=useCurrentRouteId("useNavigate"),c=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{c.current=!0}),reactExports.useCallback(async(u,P={})=>{warning(c.current,navigateEffectWarning),c.current&&(typeof u=="number"?o.navigate(u):await o.navigate(u,{fromRouteId:s,...P}))},[o,s])}var alreadyWarned={};function warningOnce(o,s,c){!s&&!alreadyWarned[o]&&(alreadyWarned[o]=!0,warning(!1,c))}reactExports.memo(DataRoutes);function DataRoutes({routes:o,future:s,state:c}){return useRoutesImpl(o,void 0,c,s)}function Navigate({to:o,replace:s,state:c,relative:a}){invariant(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=reactExports.useContext(NavigationContext);warning(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:P}=reactExports.useContext(RouteContext),{pathname:O}=useLocation(),G=useNavigate(),S=resolveTo(o,getResolveToMatches(P),O,a==="path"),w=JSON.stringify(S);return reactExports.useEffect(()=>{G(JSON.parse(w),{replace:s,state:c,relative:a})},[G,w,a,s,c]),null}function Route(o){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:o="/",children:s=null,location:c,navigationType:a="POP",navigator:u,static:P=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let O=o.replace(/^\/*/,"/"),G=reactExports.useMemo(()=>({basename:O,navigator:u,static:P,future:{}}),[O,u,P]);typeof c=="string"&&(c=parsePath(c));let{pathname:S="/",search:w="",hash:g="",state:N=null,key:F="default"}=c,b=reactExports.useMemo(()=>{let E=stripBasename(S,O);return E==null?null:{location:{pathname:E,search:w,hash:g,state:N,key:F},navigationType:a}},[O,S,w,g,N,F,a]);return warning(b!=null,`<Router basename="${O}"> is not able to match the URL "${S}${w}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:reactExports.createElement(NavigationContext.Provider,{value:G},reactExports.createElement(LocationContext.Provider,{children:s,value:b}))}function Routes({children:o,location:s}){return useRoutes(createRoutesFromChildren(o),s)}function createRoutesFromChildren(o,s=[]){let c=[];return reactExports.Children.forEach(o,(a,u)=>{if(!reactExports.isValidElement(a))return;let P=[...s,u];if(a.type===reactExports.Fragment){c.push.apply(c,createRoutesFromChildren(a.props.children,P));return}invariant(a.type===Route,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!a.props.index||!a.props.children,"An index route cannot have child routes.");let O={id:a.props.id||P.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(O.children=createRoutesFromChildren(a.props.children,P)),c.push(O)}),c}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(o){return o!=null&&typeof o.tagName=="string"}function isButtonElement(o){return isHtmlElement(o)&&o.tagName.toLowerCase()==="button"}function isFormElement(o){return isHtmlElement(o)&&o.tagName.toLowerCase()==="form"}function isInputElement(o){return isHtmlElement(o)&&o.tagName.toLowerCase()==="input"}function isModifiedEvent(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function shouldProcessLinkClick(o,s){return o.button===0&&(!s||s==="_self")&&!isModifiedEvent(o)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(o){return o!=null&&!supportedFormEncTypes.has(o)?(warning(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):o}function getFormSubmissionInfo(o,s){let c,a,u,P,O;if(isFormElement(o)){let G=o.getAttribute("action");a=G?stripBasename(G,s):null,c=o.getAttribute("method")||defaultMethod,u=getFormEncType(o.getAttribute("enctype"))||defaultEncType,P=new FormData(o)}else if(isButtonElement(o)||isInputElement(o)&&(o.type==="submit"||o.type==="image")){let G=o.form;if(G==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let S=o.getAttribute("formaction")||G.getAttribute("action");if(a=S?stripBasename(S,s):null,c=o.getAttribute("formmethod")||G.getAttribute("method")||defaultMethod,u=getFormEncType(o.getAttribute("formenctype"))||getFormEncType(G.getAttribute("enctype"))||defaultEncType,P=new FormData(G,o),!isFormDataSubmitterSupported()){let{name:w,type:g,value:N}=o;if(g==="image"){let F=w?`${w}.`:"";P.append(`${F}x`,"0"),P.append(`${F}y`,"0")}else w&&P.append(w,N)}}else{if(isHtmlElement(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=defaultMethod,a=null,u=defaultEncType,O=o}return P&&u==="text/plain"&&(O=P,P=void 0),{action:a,method:c.toLowerCase(),encType:u,formData:P,body:O}}function invariant2(o,s){if(o===!1||o===null||typeof o>"u")throw new Error(s)}async function loadRouteModule(o,s){if(o.id in s)return s[o.id];try{let c=await import(o.module);return s[o.id]=c,c}catch(c){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function getKeyedPrefetchLinks(o,s,c){let a=await Promise.all(o.map(async u=>{let P=s.routes[u.route.id];if(P){let O=await loadRouteModule(P,c);return O.links?O.links():[]}return[]}));return dedupeLinkDescriptors(a.flat(1).filter(isHtmlLinkDescriptor).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function getNewMatchesForLinks(o,s,c,a,u,P){let O=(S,w)=>c[w]?S.route.id!==c[w].route.id:!0,G=(S,w)=>{var g;return c[w].pathname!==S.pathname||((g=c[w].route.path)==null?void 0:g.endsWith("*"))&&c[w].params["*"]!==S.params["*"]};return P==="assets"?s.filter((S,w)=>O(S,w)||G(S,w)):P==="data"?s.filter((S,w)=>{var N;let g=a.routes[S.route.id];if(!g||!g.hasLoader)return!1;if(O(S,w)||G(S,w))return!0;if(S.route.shouldRevalidate){let F=S.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((N=c[0])==null?void 0:N.params)||{},nextUrl:new URL(o,window.origin),nextParams:S.params,defaultShouldRevalidate:!0});if(typeof F=="boolean")return F}return!0}):[]}function getModuleLinkHrefs(o,s){return dedupeHrefs(o.map(c=>{let a=s.routes[c.route.id];if(!a)return[];let u=[a.module];return a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function dedupeHrefs(o){return[...new Set(o)]}function sortKeys(o){let s={},c=Object.keys(o).sort();for(let a of c)s[a]=o[a];return s}function dedupeLinkDescriptors(o,s){let c=new Set;return new Set(s),o.reduce((a,u)=>{let P=JSON.stringify(sortKeys(u));return c.has(P)||(c.add(P),a.push({key:P,link:u})),a},[])}function singleFetchUrl(o){let s=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return s.pathname==="/"?s.pathname="_root.data":s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function useDataRouterContext2(){let o=reactExports.useContext(DataRouterContext);return invariant2(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function useDataRouterStateContext(){let o=reactExports.useContext(DataRouterStateContext);return invariant2(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let o=reactExports.useContext(FrameworkContext);return invariant2(o,"You must render this element inside a <HydratedRouter> element"),o}function usePrefetchBehavior(o,s){let c=reactExports.useContext(FrameworkContext),[a,u]=reactExports.useState(!1),[P,O]=reactExports.useState(!1),{onFocus:G,onBlur:S,onMouseEnter:w,onMouseLeave:g,onTouchStart:N}=s,F=reactExports.useRef(null);reactExports.useEffect(()=>{if(o==="render"&&O(!0),o==="viewport"){let M=x=>{x.forEach(L=>{O(L.isIntersecting)})},v=new IntersectionObserver(M,{threshold:.5});return F.current&&v.observe(F.current),()=>{v.disconnect()}}},[o]),reactExports.useEffect(()=>{if(a){let M=setTimeout(()=>{O(!0)},100);return()=>{clearTimeout(M)}}},[a]);let b=()=>{u(!0)},E=()=>{u(!1),O(!1)};return c?o!=="intent"?[P,F,{}]:[P,F,{onFocus:composeEventHandlers(G,b),onBlur:composeEventHandlers(S,E),onMouseEnter:composeEventHandlers(w,b),onMouseLeave:composeEventHandlers(g,E),onTouchStart:composeEventHandlers(N,b)}]:[!1,F,{}]}function composeEventHandlers(o,s){return c=>{o&&o(c),c.defaultPrevented||s(c)}}function PrefetchPageLinks({page:o,...s}){let{router:c}=useDataRouterContext2(),a=reactExports.useMemo(()=>matchRoutes(c.routes,o,c.basename),[c.routes,o,c.basename]);return a?reactExports.createElement(PrefetchPageLinksImpl,{page:o,matches:a,...s}):null}function useKeyedPrefetchLinks(o){let{manifest:s,routeModules:c}=useFrameworkContext(),[a,u]=reactExports.useState([]);return reactExports.useEffect(()=>{let P=!1;return getKeyedPrefetchLinks(o,s,c).then(O=>{P||u(O)}),()=>{P=!0}},[o,s,c]),a}function PrefetchPageLinksImpl({page:o,matches:s,...c}){let a=useLocation(),{manifest:u,routeModules:P}=useFrameworkContext(),{loaderData:O,matches:G}=useDataRouterStateContext(),S=reactExports.useMemo(()=>getNewMatchesForLinks(o,s,G,u,a,"data"),[o,s,G,u,a]),w=reactExports.useMemo(()=>getNewMatchesForLinks(o,s,G,u,a,"assets"),[o,s,G,u,a]),g=reactExports.useMemo(()=>{if(o===a.pathname+a.search+a.hash)return[];let b=new Set,E=!1;if(s.forEach(v=>{var L;let x=u.routes[v.route.id];!x||!x.hasLoader||(!S.some(U=>U.route.id===v.route.id)&&v.route.id in O&&((L=P[v.route.id])!=null&&L.shouldRevalidate)||x.hasClientLoader?E=!0:b.add(v.route.id))}),b.size===0)return[];let M=singleFetchUrl(o);return E&&b.size>0&&M.searchParams.set("_routes",s.filter(v=>b.has(v.route.id)).map(v=>v.route.id).join(",")),[M.pathname+M.search]},[O,a,u,S,s,o,P]),N=reactExports.useMemo(()=>getModuleLinkHrefs(w,u),[w,u]),F=useKeyedPrefetchLinks(w);return reactExports.createElement(reactExports.Fragment,null,g.map(b=>reactExports.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...c})),N.map(b=>reactExports.createElement("link",{key:b,rel:"modulepreload",href:b,...c})),F.map(({key:b,link:E})=>reactExports.createElement("link",{key:b,...E})))}function mergeRefs(...o){return s=>{o.forEach(c=>{typeof c=="function"?c(s):c!=null&&(c.current=s)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.1.5")}catch(o){}function BrowserRouter({basename:o,children:s,window:c}){let a=reactExports.useRef();a.current==null&&(a.current=createBrowserHistory({window:c,v5Compat:!0}));let u=a.current,[P,O]=reactExports.useState({action:u.action,location:u.location}),G=reactExports.useCallback(S=>{reactExports.startTransition(()=>O(S))},[O]);return reactExports.useLayoutEffect(()=>u.listen(G),[u,G]),reactExports.createElement(Router,{basename:o,children:s,location:P.location,navigationType:P.action,navigator:u})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function o({onClick:s,discover:c="render",prefetch:a="none",relative:u,reloadDocument:P,replace:O,state:G,target:S,to:w,preventScrollReset:g,viewTransition:N,...F},b){let{basename:E}=reactExports.useContext(NavigationContext),M=typeof w=="string"&&ABSOLUTE_URL_REGEX2.test(w),v,x=!1;if(typeof w=="string"&&M&&(v=w,isBrowser))try{let C=new URL(window.location.href),Y=w.startsWith("//")?new URL(C.protocol+w):new URL(w),m=stripBasename(Y.pathname,E);Y.origin===C.origin&&m!=null?w=m+Y.search+Y.hash:x=!0}catch{warning(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=useHref(w,{relative:u}),[U,I,y]=usePrefetchBehavior(a,F),R=useLinkClickHandler(w,{replace:O,state:G,target:S,preventScrollReset:g,relative:u,viewTransition:N});function _(C){s&&s(C),C.defaultPrevented||R(C)}let A=reactExports.createElement("a",{...F,...y,href:v||L,onClick:x||P?s:_,ref:mergeRefs(b,I),target:S,"data-discover":!M&&c==="render"?"true":void 0});return U&&!M?reactExports.createElement(reactExports.Fragment,null,A,reactExports.createElement(PrefetchPageLinks,{page:L})):A});Link.displayName="Link";var NavLink=reactExports.forwardRef(function o({"aria-current":s="page",caseSensitive:c=!1,className:a="",end:u=!1,style:P,to:O,viewTransition:G,children:S,...w},g){let N=useResolvedPath(O,{relative:w.relative}),F=useLocation(),b=reactExports.useContext(DataRouterStateContext),{navigator:E,basename:M}=reactExports.useContext(NavigationContext),v=b!=null&&useViewTransitionState(N)&&G===!0,x=E.encodeLocation?E.encodeLocation(N).pathname:N.pathname,L=F.pathname,U=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;c||(L=L.toLowerCase(),U=U?U.toLowerCase():null,x=x.toLowerCase()),U&&M&&(U=stripBasename(U,M)||U);const I=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let y=L===x||!u&&L.startsWith(x)&&L.charAt(I)==="/",R=U!=null&&(U===x||!u&&U.startsWith(x)&&U.charAt(x.length)==="/"),_={isActive:y,isPending:R,isTransitioning:v},A=y?s:void 0,C;typeof a=="function"?C=a(_):C=[a,y?"active":null,R?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let Y=typeof P=="function"?P(_):P;return reactExports.createElement(Link,{...w,"aria-current":A,className:C,ref:g,style:Y,to:O,viewTransition:G},typeof S=="function"?S(_):S)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:o="render",fetcherKey:s,navigate:c,reloadDocument:a,replace:u,state:P,method:O=defaultMethod,action:G,onSubmit:S,relative:w,preventScrollReset:g,viewTransition:N,...F},b)=>{let E=useSubmit(),M=useFormAction(G,{relative:w}),v=O.toLowerCase()==="get"?"get":"post",x=typeof G=="string"&&ABSOLUTE_URL_REGEX2.test(G),L=U=>{if(S&&S(U),U.defaultPrevented)return;U.preventDefault();let I=U.nativeEvent.submitter,y=(I==null?void 0:I.getAttribute("formmethod"))||O;E(I||U.currentTarget,{fetcherKey:s,method:y,navigate:c,replace:u,state:P,relative:w,preventScrollReset:g,viewTransition:N})};return reactExports.createElement("form",{ref:b,method:v,action:M,onSubmit:a?S:L,...F,"data-discover":!x&&o==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(o){let s=reactExports.useContext(DataRouterContext);return invariant(s,getDataRouterConsoleError2(o)),s}function useLinkClickHandler(o,{target:s,replace:c,state:a,preventScrollReset:u,relative:P,viewTransition:O}={}){let G=useNavigate(),S=useLocation(),w=useResolvedPath(o,{relative:P});return reactExports.useCallback(g=>{if(shouldProcessLinkClick(g,s)){g.preventDefault();let N=c!==void 0?c:createPath(S)===createPath(w);G(o,{replace:N,state:a,preventScrollReset:u,relative:P,viewTransition:O})}},[S,G,w,c,a,s,o,u,P,O])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:o}=useDataRouterContext3("useSubmit"),{basename:s}=reactExports.useContext(NavigationContext),c=useRouteId();return reactExports.useCallback(async(a,u={})=>{let{action:P,method:O,encType:G,formData:S,body:w}=getFormSubmissionInfo(a,s);if(u.navigate===!1){let g=u.fetcherKey||getUniqueFetcherId();await o.fetch(g,c,u.action||P,{preventScrollReset:u.preventScrollReset,formData:S,body:w,formMethod:u.method||O,formEncType:u.encType||G,flushSync:u.flushSync})}else await o.navigate(u.action||P,{preventScrollReset:u.preventScrollReset,formData:S,body:w,formMethod:u.method||O,formEncType:u.encType||G,replace:u.replace,state:u.state,fromRouteId:c,flushSync:u.flushSync,viewTransition:u.viewTransition})},[o,s,c])}function useFormAction(o,{relative:s}={}){let{basename:c}=reactExports.useContext(NavigationContext),a=reactExports.useContext(RouteContext);invariant(a,"useFormAction must be used inside a RouteContext");let[u]=a.matches.slice(-1),P={...useResolvedPath(o||".",{relative:s})},O=useLocation();if(o==null){P.search=O.search;let G=new URLSearchParams(P.search),S=G.getAll("index");if(S.some(g=>g==="")){G.delete("index"),S.filter(N=>N).forEach(N=>G.append("index",N));let g=G.toString();P.search=g?`?${g}`:""}}return(!o||o===".")&&u.route.index&&(P.search=P.search?P.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(P.pathname=P.pathname==="/"?c:joinPaths([c,P.pathname])),createPath(P)}function useViewTransitionState(o,s={}){let c=reactExports.useContext(ViewTransitionContext);invariant(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=useDataRouterContext3("useViewTransitionState"),u=useResolvedPath(o,{relative:s.relative});if(!c.isTransitioning)return!1;let P=stripBasename(c.currentLocation.pathname,a)||c.currentLocation.pathname,O=stripBasename(c.nextLocation.pathname,a)||c.nextLocation.pathname;return matchPath(u.pathname,O)!=null||matchPath(u.pathname,P)!=null}new TextEncoder;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(o,s)=>{const c=reactExports.forwardRef(({color:a="currentColor",size:u=24,strokeWidth:P=2,absoluteStrokeWidth:O,className:G="",children:S,...w},g)=>reactExports.createElement("svg",{ref:g,...defaultAttributes,width:u,height:u,stroke:a,strokeWidth:O?Number(P)*24/Number(u):P,className:["lucide",`lucide-${toKebabCase(o)}`,G].join(" "),...w},[...s.map(([N,F])=>reactExports.createElement(N,F)),...Array.isArray(S)?S:[S]]));return c.displayName=`${o}`,c};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookMarked=createLucideIcon("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Brain=createLucideIcon("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Home=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader2=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings$1=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),AuthContext=reactExports.createContext({});function AuthProvider({children:o}){const[s,c]=reactExports.useState(null),[a,u]=reactExports.useState(!0);reactExports.useEffect(()=>{const w=localStorage.getItem("token");w?S(w).then(g=>{c(g),u(!1)}).catch(()=>{localStorage.removeItem("token"),u(!1)}):u(!1)},[]);const P=async(w,g)=>{const N=await fetch("http://localhost:5000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:w,password:g})}),F=await N.json(),b=F.data;if(!N.ok)throw new Error(F.message);localStorage.setItem("token",b.token),localStorage.setItem("user",JSON.stringify({email:b.email,name:b.name,Id:b._id})),c({email:b.email,name:b.name,Id:b._id})},O=async(w,g,N)=>{const F=await fetch("http://localhost:5000/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w,email:g,password:N})}),b=await F.json();if(!F.ok)throw new Error(b.message);localStorage.setItem("token",b.token),localStorage.setItem("user",JSON.stringify({email:b.email,name:b.name,Id:b._Id})),c({email:b.email,name:b.name,Id:b._Id})},G=()=>{localStorage.removeItem("token"),c(null)},S=async w=>{const g=await fetch("http://localhost:5000/verify-token",{headers:{Authorization:`Bearer ${w}`}}),N=await g.json();if(!g.ok)throw new Error("Invalid token");return N.user};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:s,login:P,register:O,logout:G,loading:a},children:o})}const useAuth=()=>reactExports.useContext(AuthContext);function Header({darkMode:o,setDarkMode:s,searchText:c,setSearchText:a,mobileMenuOpen:u,setMobileMenuOpen:P}){const{user:O,logout:G}=useAuth();return jsxRuntimeExports.jsxs("header",{className:`fixed top-0 w-full ${o?"bg-gray-800 text-white":"bg-white text-gray-900"} shadow-md z-50`,children:[jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-4",children:jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[jsxRuntimeExports.jsx(Home,{className:"w-6 h-6"}),jsxRuntimeExports.jsxs("h1",{className:"text-xl font-bold",children:["Welcome, ",O==null?void 0:O.name]})]})}),jsxRuntimeExports.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:()=>P(!u),"aria-label":"Toggle mobile menu",children:jsxRuntimeExports.jsx(Menu,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>s(!o),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":`Switch to ${o?"light":"dark"} mode`,children:o?jsxRuntimeExports.jsx(Sun,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Moon,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search in document...",value:c,onChange:S=>a(S.target.value),className:`pl-10 pr-4 py-2 rounded-lg ${o?"bg-gray-700":"bg-gray-100"} focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Search in document"}),jsxRuntimeExports.jsx(Search,{className:`w-5 h-5 absolute left-3 top-2.5 ${o?"text-gray-400":"text-gray-500"}`})]}),jsxRuntimeExports.jsx(Link,{to:"/settings",className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Go to settings",children:jsxRuntimeExports.jsx(Settings$1,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx(Link,{to:"/library",className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Go to vocabulary library",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-6 h-6"})}),O&&jsxRuntimeExports.jsx("button",{onClick:G,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Logout",children:"Logout"})]})]})}),u&&jsxRuntimeExports.jsx("div",{className:"md:hidden mt-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>s(!o),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700",children:[o?jsxRuntimeExports.jsx(Sun,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Moon,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Toggle Theme"})]}),jsxRuntimeExports.jsxs(Link,{to:"/settings",className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(Settings$1,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Settings"})]}),jsxRuntimeExports.jsxs(Link,{to:"/library",className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Vocabulary"})]}),O&&jsxRuntimeExports.jsx("button",{onClick:G,className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700",children:jsxRuntimeExports.jsx("span",{children:"Logout"})})]})})]})}function ContextMenu({x:o,y:s,onClose:c,selectedText:a,darkMode:u,features:P,libraries:O,user:G}){const S=reactExports.useRef(null),[w,g]=reactExports.useState(null),[N,F]=reactExports.useState(!0),[b,E]=reactExports.useState(!1),[M,v]=reactExports.useState(!1),[x,L]=reactExports.useState(null);reactExports.useState(["General","Work","Personal","Important"]),reactExports.useEffect(()=>{function te(ne){S.current&&!S.current.contains(ne.target)&&c()}return document.addEventListener("mousedown",te),()=>document.removeEventListener("mousedown",te)},[c]);const U=220,I=200,y=Math.min(o,window.innerWidth-U),R=Math.min(s,window.innerHeight-I),_=async te=>{try{F(!1),E(!0);const ne=`prompt: ${te.prompt}, selectedText: ${a}, direction : give answers in short way until asked to give in detail`,ee=await(await fetch("http://localhost:5000/meaning",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userText:ne})})).json();console.log("Feature data:",ee),g(ee)}catch(ne){console.error("Feature action failed:",ne)}finally{E(!1)}},A=async()=>{try{await navigator.clipboard.writeText(a),console.log("Text copied:",a),c()}catch(te){console.error("Failed to copy text:",te)}},C=async()=>{console.log("Get meaning:",a);const te=`What is the meaning of the word "${a}"? "direction: answer the question in simple and short way"`;F(!1),E(!0);try{let oe=await(await fetch("http://localhost:5000/meaning",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userText:te})})).json();console.log("Meaning data:",oe),g(oe),E(!1)}catch(ne){console.error("Error fetching meaning:",ne),E(!1)}},Y=()=>{L("meaning"),v(!0)},m=async(te,ne)=>{const oe={word:a,meaning:w,topic:te,user:ne};console.log("Save to folder:",oe);try{const re=await(await fetch("http://localhost:5000/vocab/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)})).json();console.log("Saved to library:",re),v(!1),L(null),c()}catch(ee){console.error("Error saving to library:",ee)}},k=()=>{L("selection"),v(!0)},H=()=>{window.open(`https://www.google.com/search?q=${encodeURIComponent(a)}`,"_blank"),c()};return M?jsxRuntimeExports.jsx("div",{className:`fixed z-50 ${u?"bg-gray-800":"bg-white"} shadow-lg rounded-lg py-2 min-w-[200px] max-w-[90vw]`,style:{left:Math.min(o,window.innerWidth-220),top:`${s}px`},children:jsxRuntimeExports.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Select Library:"}),O.filter(te=>te.enabled).map(te=>jsxRuntimeExports.jsx("button",{onClick:()=>m(te.name,G.Id),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700",children:te.name},te._id))]})}):w?jsxRuntimeExports.jsx("div",{className:`fixed z-50 ${u?"bg-gray-800":"bg-white"} shadow-lg rounded-lg py-2 min-w-[200px] max-w-[30vw]`,style:{left:Math.min(o,window.innerWidth-220),top:`${s}px`},children:jsxRuntimeExports.jsxs("div",{className:"px-4 py-2 mt-2 text-sm text-gray-700 dark:text-gray-300",children:[jsxRuntimeExports.jsx("div",{className:"mt-2 max-h-[200px] overflow-y-auto",children:jsxRuntimeExports.jsx("p",{children:w})}),jsxRuntimeExports.jsxs("button",{onClick:Y,className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(BookMarked,{className:"w-4 h-4"})," Save Meaning"]})]})}):b?jsxRuntimeExports.jsx("div",{className:`fixed z-50 ${u?"bg-gray-800":"bg-white"} shadow-lg rounded-lg py-2 min-w-[200px] max-w-[90vw]`,style:{left:Math.min(o,window.innerWidth-220),top:`${s}px`},children:jsxRuntimeExports.jsxs("div",{className:"px-4 py-2 text-center text-sm text-gray-700 dark:text-gray-300",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:b?"Fetching Meaning...":"Translating..."}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full border-t-2 border-blue-500 w-8 h-8 mx-auto"})})]})}):jsxRuntimeExports.jsxs("div",{ref:S,className:`fixed z-50 ${u?"bg-gray-800":"bg-white"} shadow-lg rounded-lg py-2 min-w-[200px]`,style:{left:y,top:R},children:[P.filter(te=>te.enabled).map(te=>jsxRuntimeExports.jsx("button",{onClick:()=>_(te),className:"w-full px-4 py-2 flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:te.name},te._id)),jsxRuntimeExports.jsxs("button",{onClick:C,className:"w-full px-4 py-2 flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(Brain,{className:"w-4 h-4"})," Get Meaning"]}),jsxRuntimeExports.jsxs("button",{onClick:k,className:"w-full px-4 py-2 flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(BookMarked,{className:"w-4 h-4"})," Save Selection"]}),jsxRuntimeExports.jsxs("button",{onClick:A,className:"w-full px-4 py-2 flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"})," Copy"]}),jsxRuntimeExports.jsxs("button",{onClick:H,className:"w-full px-4 py-2 flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"})," Search on Google"]})]})}function PDFUploader({onFileChange:o}){return jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col items-center justify-center w-64 h-64 border-2 border-dashed rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[jsxRuntimeExports.jsx(Upload,{className:"w-12 h-12 mb-4 text-gray-500"}),jsxRuntimeExports.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400 text-center px-4",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF files only"})]}),jsxRuntimeExports.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:o})]})})}function PDFControls({pageNumber:o,numPages:s,scale:c,rotation:a,isPageLoading:u,darkMode:P,onPageChange:O,onScaleChange:G,onRotate:S,onDownload:w}){return jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-200 dark:bg-gray-800 rounded-lg shadow-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"number",value:o,onChange:g=>O(Number(g.target.value)),min:1,max:s||1,className:"w-14 text-center border rounded bg-gray-100 dark:bg-gray-700",disabled:u}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["/ ",s||"?"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>G(Math.min(c+.2,3)),className:"p-2 bg-gray-300 dark:bg-gray-600 rounded hover:bg-gray-400",disabled:u,children:jsxRuntimeExports.jsx(ZoomIn,{size:16})}),jsxRuntimeExports.jsxs("select",{value:c,onChange:g=>G(parseFloat(g.target.value)),className:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:u,children:[jsxRuntimeExports.jsx("option",{value:.5,children:"50%"}),jsxRuntimeExports.jsx("option",{value:.75,children:"75%"}),jsxRuntimeExports.jsx("option",{value:1,children:"100%"}),jsxRuntimeExports.jsx("option",{value:1.25,children:"125%"}),jsxRuntimeExports.jsx("option",{value:1.5,children:"150%"}),jsxRuntimeExports.jsx("option",{value:2,children:"200%"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>G(Math.max(c-.2,.5)),className:"p-2 bg-gray-300 dark:bg-gray-600 rounded hover:bg-gray-400",disabled:u,children:jsxRuntimeExports.jsx(ZoomOut,{size:16})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:S,className:"p-2 bg-gray-300 dark:bg-gray-600 rounded hover:bg-gray-400",disabled:u,children:jsxRuntimeExports.jsx(RotateCcw,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:w,className:"p-2 bg-gray-300 dark:bg-gray-600 rounded hover:bg-gray-400",children:jsxRuntimeExports.jsx(Download,{size:16})})]})]})}function PDFViewer({file:o,darkMode:s,onLoadSuccess:c,onLoadError:a}){const[u,P]=reactExports.useState(null),[O,G]=reactExports.useState(1),[S,w]=reactExports.useState(0),[g,N]=reactExports.useState(!1),F=reactExports.useRef([]),b=E=>{const M=F.current[E-1];M&&M.scrollIntoView({behavior:"smooth",block:"start"})};return jsxRuntimeExports.jsxs("div",{className:`p-2 rounded-lg ${s?"bg-gray-900 text-white":"bg-white"} shadow-xl max-w-full h-[100vh] overflow-y-auto relative`,children:[jsxRuntimeExports.jsx(PDFControls,{numPages:u,scale:O,rotation:S,isPageLoading:g,darkMode:s,onScaleChange:G,onRotate:()=>w(E=>(E+90)%360),onJumpToPage:b,onDownload:()=>window.open(URL.createObjectURL(o),"_blank")}),jsxRuntimeExports.jsx("div",{className:"overflow-y-auto h-[75vh]",children:jsxRuntimeExports.jsx(Document,{file:o,onLoadSuccess:({numPages:E})=>{P(E),c(E),F.current=Array(E).fill(null)},onLoadError:a,loading:jsxRuntimeExports.jsx(Loader2,{className:"w-8 h-8 animate-spin text-blue-500"}),children:u&&Array.from({length:u},(E,M)=>jsxRuntimeExports.jsx("div",{ref:v=>F.current[M]=v,children:jsxRuntimeExports.jsx(Page,{pageNumber:M+1,scale:O,rotate:S,className:"my-4 mx-auto",width:800})},`page_${M+1}`))})})]})}function Settings({darkMode:o,setDarkMode:s,features:c=[],setFeatures:a,libraries:u=[],setLibraries:P,onClose:O=()=>window.history.back(),user:G}){const[S,w]=reactExports.useState({name:"",prompt:"",enabled:!0}),[g,N]=reactExports.useState({name:"",enabled:!0}),[F,b]=reactExports.useState(null),[E,M]=reactExports.useState(null),v=async k=>{const H=c.map(te=>te._id===k?{...te,enabled:!te.enabled}:te);await fetch("http://localhost:5000/updateFeature",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feature:c.find(te=>te._id===k?{...te,enabled:!te.enabled}:te)})}),a(H)},x=async k=>{const H=c.filter(ne=>ne._id!=k),te=c.filter(ne=>ne._id==k);console.log("feature",te),await fetch("http://localhost:5000/deleteFeature",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:te[0]._id})}),a(H)},L=async()=>{if(S.name&&S.prompt){const k={_id:"",user:G==null?void 0:G.Id,name:S.name,prompt:S.prompt,enabled:!0},H=await fetch("http://localhost:5000/addFeature",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({featureToAdd:k})}),te=await H.json();if(k._id=te.data._id,!H.ok){console.error("Failed to add feature");return}a([...c,k]),w({name:"",prompt:"",enabled:!0})}},U=k=>{b(k)},I=async()=>{if(F){const k=c.map(H=>H._id===F._id?F:H);a(k),b(null),await fetch("http://localhost:5000/updateFeature",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feature:F})})}},y=()=>{b(null)},R=async k=>{const H=u.map(te=>te._id===k?{...te,enabled:!te.enabled}:te);P(H),await fetch("http://localhost:5000/updateTopic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:u.find(te=>te._id===k?{...te,enabled:!te.enabled}:te)})})},_=async k=>{const H=u.filter(ne=>ne._id!==k),te=u.filter(ne=>ne._id===k);await fetch("http://localhost:5000/deleteTopic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:te[0]._id})}),P(H)},A=async()=>{if(g.name){const k={_id:"",user:G==null?void 0:G.Id,name:g.name,enabled:!0},H=await fetch("http://localhost:5000/addTopic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topicToAdd:k})}),te=await H.json();if(k._id=te.data._id,!H.ok){console.error("Failed to add library");return}P([...u,k]),N({name:"",enabled:!0})}},C=k=>{M(k)},Y=async()=>{if(E){const k=u.map(H=>H._id===E._id?E:H);P(k),M(null),await fetch("http://localhost:5000/updateTopic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:E})})}},m=()=>{M(null)};return jsxRuntimeExports.jsx("div",{className:`min-h-screen ${o?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"} p-6`,children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),jsxRuntimeExports.jsx("button",{onClick:O,className:`px-4 py-2 rounded-lg ${o?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,children:"Close"})]}),jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white dark:bg-gray-800 shadow mb-4",children:[jsxRuntimeExports.jsx("span",{children:"Dark Mode"}),jsxRuntimeExports.jsx("button",{onClick:()=>s(!o),className:`px-4 py-2 rounded ${o?"bg-blue-600":"bg-gray-300"} text-white`,children:o?"Disable":"Enable"})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Context Menu Features"}),jsxRuntimeExports.jsx("div",{className:"space-y-4 mb-8",children:(c||[]).map(k=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50 dark:bg-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("span",{children:k.name}),k.user&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>U(k),className:"text-blue-500 hover:text-blue-700 text-sm",children:"Edit"}),jsxRuntimeExports.jsx("button",{onClick:()=>x(k._id),className:"text-red-500 hover:text-red-700 text-sm",children:"Delete"})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>v(k._id),className:`px-3 py-1 rounded text-sm ${k.enabled?"bg-green-500 hover:bg-green-600":"bg-gray-300 hover:bg-gray-400"} text-white`,children:k.enabled?"Enabled":"Disabled"})]},k._id))}),jsxRuntimeExports.jsx("div",{className:"border-t pt-6",children:F?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Edit Feature"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{placeholder:"Feature Name",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600",value:F.name,onChange:k=>b({...F,name:k.target.value})}),jsxRuntimeExports.jsx("textarea",{placeholder:"Prompt Template: Translate selected text to in Japanese, answer it in short way.",className:"w-full p-2 border rounded h-24 dark:bg-gray-700 dark:border-gray-600",value:F.prompt,onChange:k=>b({...F,prompt:k.target.value})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:I,className:"w-full py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Save Changes"}),jsxRuntimeExports.jsx("button",{onClick:y,className:"w-full py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"})]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Add New Feature"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{placeholder:"Feature Name",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600",value:S.name,onChange:k=>w({...S,name:k.target.value})}),jsxRuntimeExports.jsx("textarea",{placeholder:"Prompt Template: Translate selected text to in Japanese, answer it in short way.",className:"w-full p-2 border rounded h-24 dark:bg-gray-700 dark:border-gray-600",value:S.prompt,onChange:k=>w({...S,prompt:k.target.value})}),jsxRuntimeExports.jsx("button",{onClick:L,className:"w-full py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Feature"})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Libraries"}),jsxRuntimeExports.jsx("div",{className:"space-y-4 mb-8",children:(u||[]).map(k=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50 dark:bg-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("span",{children:k.name}),k.user&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>C(k),className:"text-blue-500 hover:text-blue-700 text-sm",children:"Edit"}),jsxRuntimeExports.jsx("button",{onClick:()=>_(k._id),className:"text-red-500 hover:text-red-700 text-sm",children:"Delete"})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>R(k._id),className:`px-3 py-1 rounded text-sm ${k.enabled?"bg-green-500 hover:bg-green-600":"bg-gray-300 hover:bg-gray-400"} text-white`,children:k.enabled?"Enabled":"Disabled"})]},k._id))}),jsxRuntimeExports.jsx("div",{className:"border-t pt-6",children:E?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Edit Library"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{placeholder:"Library Name",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600",value:E.name,onChange:k=>M({...E,name:k.target.value})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:Y,className:"w-full py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Save Changes"}),jsxRuntimeExports.jsx("button",{onClick:m,className:"w-full py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"})]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Add New Library"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{placeholder:"Library Name",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600",value:g.name,onChange:k=>N({...g,name:k.target.value})}),jsxRuntimeExports.jsx("button",{onClick:A,className:"w-full py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Library"})]})]})})]})]})})}function VocabularyPage({darkMode:o,onClose:s,libraries:c,user:a}){const[u,P]=reactExports.useState([]),[O,G]=reactExports.useState(!0),[S,w]=reactExports.useState(""),[g,N]=reactExports.useState(""),[F,b]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{try{console.log("user covab",typeof a.Id);const x=await fetch(`http://localhost:5000/vocab/get/All/${a==null?void 0:a.Id}`),L=await x.json();if(console.log("data",L),!x.ok)throw new Error(L.message||"Failed to fetch vocabulary");P(L.data)}catch(x){w(x instanceof Error?x.message:"Failed to load vocabulary")}finally{G(!1)}})()},[a]);const E=u.filter(v=>{const x=v.word.toLowerCase().includes(g.toLowerCase())||v.meaning.toLowerCase().includes(g.toLowerCase()),L=F?v.topic===F:!0;return x&&L}),M=[...new Set(u.map(v=>v.topic))];return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-8",children:"My Vocabulary"}),jsxRuntimeExports.jsxs("div",{className:"mb-8 flex gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search words or meanings...",value:g,onChange:v=>N(v.target.value),className:"flex-1 px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),jsxRuntimeExports.jsxs("select",{value:F,onChange:v=>b(v.target.value),className:"px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Topics"}),M.map(v=>jsxRuntimeExports.jsx("option",{value:v,children:v},v))]})]}),O&&jsxRuntimeExports.jsx("div",{className:"text-center py-4",children:"Loading vocabulary..."}),S&&jsxRuntimeExports.jsx("div",{className:"text-red-500 mb-4",children:S}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(v=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:v.word}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:v.meaning}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded",children:v.topic})]})]},v._id))}),!O&&E.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"No vocabulary found. Start adding words!"})]})}function LoginForm(){const[o,s]=reactExports.useState(""),[c,a]=reactExports.useState(""),[u,P]=reactExports.useState(""),{login:O,loading:G}=useAuth(),S=useNavigate(),w=async g=>{g.preventDefault();try{await O(o,c),S("/")}catch(N){P(N instanceof Error?N.message:"Login failed")}};return jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto mt-20 p-6 bg-white rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),u&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-600 rounded text-sm",children:u}),jsxRuntimeExports.jsxs("form",{onSubmit:w,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",value:o,onChange:g=>s(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),jsxRuntimeExports.jsx("input",{type:"password",id:"password",value:c,onChange:g=>a(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:G,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:G?"Logging in...":"Sign in"}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx(Link,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500",children:"Forgot password?"})})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",jsxRuntimeExports.jsx(Link,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Create account"})]})})]})}function PasswordStrengthIndicator({strength:o}){return jsxRuntimeExports.jsxs("div",{className:"mt-2 flex gap-1",children:[[...Array(4)].map((s,c)=>jsxRuntimeExports.jsx("div",{className:`h-2 w-full rounded ${c<o?"bg-green-500":"bg-gray-200"}`,"aria-hidden":"true"},c)),jsxRuntimeExports.jsxs("span",{className:"sr-only",children:["Password strength: ",o," out of 4"]})]})}function RegisterForm(){const[o,s]=reactExports.useState({name:"",email:"",password:"",confirmPassword:""}),[c,a]=reactExports.useState(""),[u,P]=reactExports.useState(!1),[O,G]=reactExports.useState(0),{register:S}=useAuth(),w=useNavigate(),g=b=>{let E=0;return b.length>=8&&E++,b.match(/[A-Z]/)&&E++,b.match(/[0-9]/)&&E++,b.match(/[^A-Za-z0-9]/)&&E++,E};reactExports.useEffect(()=>{G(g(o.password))},[o.password]);const N=async b=>{if(b.preventDefault(),a(""),!o.name.match(/^[a-zA-Z ]{2,30}$/))return a("Please enter a valid name");if(!o.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/))return a("Please enter a valid email address");if(o.password!==o.confirmPassword)return a("Passwords do not match");if(O<3)return a("Password is too weak");P(!0);try{await S(o.name,o.email,o.password),w("/",{state:{registrationSuccess:!0}})}catch(E){a(E instanceof Error?E.message:"Registration failed. Please try again.")}finally{P(!1)}},F=b=>{s({...o,[b.target.id]:b.target.value})};return jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Create Account"}),c&&jsxRuntimeExports.jsxs("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),jsxRuntimeExports.jsx("span",{children:c})]}),jsxRuntimeExports.jsxs("form",{onSubmit:N,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),jsxRuntimeExports.jsx("input",{type:"text",id:"name",value:o.name,onChange:F,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,pattern:"^[a-zA-Z ]{2,30}$","aria-invalid":!!c})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",value:o.email,onChange:F,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,"aria-invalid":!!c})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),jsxRuntimeExports.jsx("input",{type:"password",id:"password",value:o.password,onChange:F,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,minLength:8,"aria-describedby":"password-strength","aria-invalid":!!c}),jsxRuntimeExports.jsx(PasswordStrengthIndicator,{strength:O})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),jsxRuntimeExports.jsx("input",{type:"password",id:"confirmPassword",value:o.confirmPassword,onChange:F,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,"aria-invalid":!!c})]}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:u,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex justify-center items-center gap-2",children:[u&&jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u?"Creating Account...":"Create Account"]})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:jsxRuntimeExports.jsxs("p",{children:["Already have an account?"," ",jsxRuntimeExports.jsx(Link,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in here"})]})})]})}function ProtectedRoute({children:o}){const{user:s,loading:c}=useAuth();return console.log("user1",s),c?jsxRuntimeExports.jsx("div",{children:"Loading..."}):s?o:jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}const user=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null;pdfjs.GlobalWorkerOptions.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;function App(){const[o,s]=reactExports.useState(!1),[c,a]=reactExports.useState(null),[u,P]=reactExports.useState(1),[O,G]=reactExports.useState(1),[S,w]=reactExports.useState(""),[g,N]=reactExports.useState(null),[F,b]=reactExports.useState(!1),[E,M]=reactExports.useState(!1),[v,x]=reactExports.useState(null),[L,U]=reactExports.useState({visible:!1,x:0,y:0,selectedText:""}),[I,y]=reactExports.useState([]);console.log("user",user),reactExports.useEffect(()=>{(async()=>{const H=await(await fetch("http://localhost:5000/getFeatures",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:user==null?void 0:user.Id})})).json();y(H.data)})()},[]),console.log("features",I);const[R,_]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{const H=await(await fetch("http://localhost:5000/getTopics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:user==null?void 0:user.Id})})).json();_(H.data)})()},[]),console.log("libraries",R),reactExports.useEffect(()=>{function m(){const k=window.getSelection();if(k&&k.toString().trim()){const te=k.getRangeAt(0).getBoundingClientRect();U({visible:!0,x:te.left,y:te.bottom+window.scrollY,selectedText:k.toString().trim()})}else U(H=>({...H,visible:!1}))}return document.addEventListener("selectionchange",m),()=>document.removeEventListener("selectionchange",m)},[]),reactExports.useEffect(()=>{localStorage.setItem("contextMenuFeatures",JSON.stringify(I))},[I]),reactExports.useEffect(()=>{const m=()=>{window.innerWidth<768?G(Math.min(window.innerWidth/800,1)):G(1)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const A=m=>{a(m),P(1),x(null)},C=m=>{console.error("Error loading PDF:",m),x("Error loading PDF. Please make sure you have selected a valid PDF file."),N(null)},Y=m=>{var H;const k=(H=m.target.files)==null?void 0:H[0];x(null),k&&(k.type==="application/pdf"?(N(k),P(1)):x("Please select a valid PDF file."))};return jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs("div",{className:`min-h-screen ${o?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:[L.visible&&jsxRuntimeExports.jsx(ContextMenu,{x:L.x,y:L.y,selectedText:L.selectedText,onClose:()=>U(m=>({...m,visible:!1})),darkMode:o,features:I,libraries:R,user}),jsxRuntimeExports.jsx(Header,{darkMode:o,setDarkMode:s,searchText:S,setSearchText:w,mobileMenuOpen:F,setMobileMenuOpen:b}),jsxRuntimeExports.jsx("main",{className:"pt-16 pb-8 px-4",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto",children:[v&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:v}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(LoginForm,{})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(RegisterForm,{})}),jsxRuntimeExports.jsx(Route,{path:"/",element:g?jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(PDFViewer,{file:g,scale:O,darkMode:o,isPageLoading:E,onLoadSuccess:A,onLoadError:C})})}):jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(PDFUploader,{onFileChange:Y})})}),jsxRuntimeExports.jsx(Route,{path:"/settings",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Settings,{darkMode:o,setDarkMode:s,features:I,setFeatures:y,libraries:R,setLibraries:_,onClose:()=>b(!1),user})})}),jsxRuntimeExports.jsx(Route,{path:"/library",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(VocabularyPage,{darkMode:o,onClose:()=>b(!1),user,libraries:R})})})]})]})})]})})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
